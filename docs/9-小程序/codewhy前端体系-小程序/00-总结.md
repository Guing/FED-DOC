
## 一. 邂逅小程序开发

### 1.1. 认识小程序开发

* 小程序的介绍
* 各个平台小程序介绍
* 为什么各个平台都有推出自己的小程序?

### 1.2. 小程序开发技术选择

* 小程序由谁开发:
  * 前端

* 原生小程序开发
* 小程序开发框架:
  * mpvue
  * wepy
* 跨平台框架:
  * uniapp
  * taro

### 1.3. 小程序学习的前提

* WXML: HTML
* WXSS: CSS
* JavaScript+WXS: JavaScript

### 1.4. 小程序的准备工作

* AppID
* 小程序开发工具

### 1.5. 创建项目-界面-目录结构

### 1.6. VSCode开发小程序

### 1.7. 小程序开发体验

* 数据绑定
* 列表展示
* 计数器案例

### 1.8. 小程序的MVVM架构思想

### 作业

#### 小程序包括哪些？以及都有哪些开发模式？（面试）

* 小程序有哪些?
  * 微信小程序
  * 百度小程序
  * 支付宝小程序
  * 抖音小程序
  * 头条小程序
  * QQ小程序
  * 美团小程序

* 开发模式
  * 原生小程序开发
    * 微信小程序开发：wxml、wxss、JavaScript
    * 支付宝小程序开发：axml、acss、JavaScript
  * 框架开发小程序
    * mpvue
      * mpvue是一个使用Vue开发小程序的前端框架
      * 支持微信小程序、百度智能小程序，头条小程序和支付宝小程序
      * 该框架在2018年之后就不再维护和更新了，目前已经被放弃
    * wepy
      * 由腾讯开源的一款让小程序支持组件化开发的框架
      * 通过预编译的手段让开发者可以选择自己喜欢的开发风格去开发小程序
      * 该框架目前维护的也较少，不推荐使用
  * uni-app
    * 由DCloud团队开发和维护
    * uni-app 是一个使用 Vue 开发所有前端应用的框架，开发者编写一套代码，可发布到iOS、Android、Web（响应式）、以及各种小程序（微信/支付宝/百度/头条/飞书/QQ/快手/钉钉/淘宝）、快应用等多个平台
    * uni-app目前是很多公司的技术选型，特别是希望适配移动端App的公司
  * taro
    * 由京东团队开发和维护
    * taro 是一个开放式 跨端 跨框架 解决方案，支持使用 React/Vue/Nerv 等框架来开发 微信 / 京东 / 百度 / 支付宝 / 字节跳动 / QQ / 飞书 小程序 / H5 / RN 等应用
    * taro因为本身支持React、Vue的选择，给了我们更加灵活的选择空间
    * 特别是在Taro3.x之后，支持Vue3、React Hook写法等
    * taro ['tɑ:roʊ]，泰罗·奥特曼，宇宙警备队总教官，实力最强的奥特曼

#### 说说你对小程序双线程模型架构的理解?(面试)

* 小程序的宿主环境是：微信客户端
  * 宿主环境可以执行小程序的各种文件
* 当小程序运行在 WebView 环境下时，会有什么问题呢？
  * JS 逻辑、DOM 树创建、CSS 解析、样式计算、Layout、Paint (Composite) 都发生在同一线程中
  * 在 WebView 上执行过多的 JS 逻辑可能阻塞渲染，导致界面卡顿
* 小程序考虑到性能与安全的问题，采用了「双线程模型」的架构
  * WXML模块和WXSS样式运行于 渲染层，渲染层使用WebView线程渲染
    * 当一个程序有多个页面时，会使用多个WebView的线程
  * JS脚本（app.js/home.js等）运行于 逻辑层，逻辑层使用 JsCore 运行 JS脚本
    * 这两个线程都会经由微信客户端（Native）进行中转并交互

## 二. 小程序的架构和配置

### 2.1. 小程序的双线程模型

* webview
* jscore

skyline(了解, beta)

* coderwhy -> 邂逅flutter开发(底层渲染原理)

### 2.2. 常见的配置文件

* project.config.json
  * project.private.config.json -> .gitignore

* sitemap

### 2.3. app.json配置文件

* 应用程序配置
  * pages
  * window
  * tabBar

### 2.4. page.json配置文件

* 覆盖全局的配置
* 下拉刷新/上拉加载更多
  * Page({ onPullDownRefresh, onReachBottom })
* 功能的实现

### 3.1. 注册App

* App({})

#### 3.1.1. 判断进入场景

* onLaunch
* onShow
  * options
    * scene属性

#### 3.1.2. 全局共享数据

* globalData
* 页面:

```js
const app = getApp()
app.globalData.xxx
```

#### 3.1.3. 页面启动操作

* 登录操作
* 将数据保存Storage中
* 下次重启可以从Storage读取数据
* 保存到globalData中

### 4.2. 注册Page

#### 4.2.1. 网络请求-拿到数据

* 网络请求
* 获取数据 - 保存data
* 在wxml中使用swiper-swiper-item进行展示

#### 4.2.2. 在data中初始化数据

#### 4.2.3. wxml事件绑定函数

#### 4.2.4. 绑定其他事件

* 下拉刷新
* 达到底部
* 页面滚动

## 三. 小程序的内置组件

### 2.1. text组件

### 2.2. button组件

#### 2.2.1. button常见属性

#### 2.2.2. open-type

* getUserProfile

### 2.3. view组件

### 2.4. image组件

* mode属性:
  * widthFix
* wx.chooseMedia: 选择相册中图片

### 2.5. scroll-view

* 滚动的前提:
  * 固定的宽度或者高度
  * 内容需要超出宽度或者高度
  * 设置scroll-x或scroll-y
* 滚动的监听
  * 滚动到左边
  * 滚动到右边
  * 滚动的过程

### 2.6. 组件共有属性

* id/class/style
* hidden
* data-*
* bind/catch

### 2.7. input双向绑定

## 四. WXSS-WXML-WXS

### 3.1. 编写方式

* 全局样式
* 页内样式
* 行内样式

### 3.2. rpx的单位

### 作业

#### 什么是rpx？rpx如何进行的屏幕适配？

rpx: responsive pixel : 可以根据屏幕宽度进行自适应 规定屏幕宽度为750rpx

* 建议开发中将 iPhone6 作为视觉稿的标准
  * iPhone6 屏幕宽度为375px 750物理像素 所以 750rpx = 375px = 750物理像素
  * 1rpx = 0.5px
  * 因此如果想定义一个100px宽度的view 则需要设置width为 200rpx

#### 注册App实例的函数，以及注册该实例时，通常可能进行哪些操作？

* 判断小程序的进入场景
  * 在生命周期函数中有一个参数options options中的`scene`记录着从什么场景进入的小程序
  * 场景列表地址 <https://developers.weixin.qq.com/miniprogram/dev/reference/scene-list.html>

* 监听生命周期函数
  * 在对应的生命周期函数中执行刚开始的业务逻辑 比如登录操作或者初始化时请求全局的网络数据
  * App()实例只有一个 所以可以创建一个globalData的对象 存放全局的共享数据

#### 注册Page实例的函数，以及注册该实例时，通常可能进行哪些操作？

1. 在生命周期函数中发送网络请求
2. 初始化数据 方便页面展示
3. 监听wxml中的事件
4. 进行页面滚动 下拉加载 上拉刷新的事件监听
