<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-面试/webpack面试题/webpack面试题">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/FED-DOC/blog/rss.xml" title="IT学习笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/FED-DOC/blog/atom.xml" title="IT学习笔记 Atom Feed"><title data-rh="true">webpack面试题 | IT学习笔记</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://guing.github.io/FED-DOC/docs/面试/webpack面试题/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="webpack面试题 | IT学习笔记"><meta data-rh="true" name="description" content="有哪些常见的Loader？你用过哪些Loader？"><meta data-rh="true" property="og:description" content="有哪些常见的Loader？你用过哪些Loader？"><link data-rh="true" rel="icon" href="/FED-DOC/img/my.jpg"><link data-rh="true" rel="canonical" href="https://guing.github.io/FED-DOC/docs/面试/webpack面试题/"><link data-rh="true" rel="alternate" href="https://guing.github.io/FED-DOC/docs/面试/webpack面试题/" hreflang="en"><link data-rh="true" rel="alternate" href="https://guing.github.io/FED-DOC/docs/面试/webpack面试题/" hreflang="x-default"><link rel="stylesheet" href="/FED-DOC/assets/css/styles.5627add0.css">
<link rel="preload" href="/FED-DOC/assets/js/runtime~main.b55e0dcb.js" as="script">
<link rel="preload" href="/FED-DOC/assets/js/main.3250de72.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/FED-DOC/"><div class="navbar__logo"><img src="/FED-DOC/img/my.jpg" alt="IT学习笔记" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/FED-DOC/img/my.jpg" alt="IT学习笔记" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">IT学习笔记</b></a><a class="navbar__item navbar__link navbar__link--active" href="/FED-DOC/docs/intro">前端</a><a class="navbar__item navbar__link" href="/FED-DOC/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Guing/FED-DOC" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/FED-DOC/docs/intro">前端学习笔记</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Html/MDN笔记/">Html</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Css/2021必修 CSS架构系统精讲/2-3 CSS设计模式/note">Css</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Vue/Vue2源码解析/">Vue</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/React/React17系统精讲结合TS打造旅游电商平台2021/笔记/">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Nodejs/intro">Nodejs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/TypeScript/Typescript入门学习笔记/">TypeScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/小程序/intro">小程序</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/浏览器/IndexedDB数据库/IndexedDB使用">浏览器</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/性能优化/vue-cli优化">性能优化</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/网络协议/intro">网络协议</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/工程化/intro">工程化</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/单元测试/intro">单元测试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/构建工具/webpack基础使用">构建工具</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/安全/intro">安全</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/算法/intro">算法</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/移动端/intro">移动端</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/体系/慕课网前端架构师/待做/第5周 脚手架创建项目流程设计和开发/wait">体系</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/FED-DOC/docs/面试/webpack面试题/">面试</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/FED-DOC/docs/面试/webpack面试题/">webpack面试题</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/面试/前端面试题总结/Html/Html">前端面试题总结</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/面试/林三心面试进阶之路/1-4年的前端工程师/">林三心面试进阶之路</a></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/FED-DOC/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">面试</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">webpack面试题</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>webpack面试题</h1></header><h2 class="anchor anchorWithStickyNavbar_mojV" id="有哪些常见的loader你用过哪些loader">有哪些常见的Loader？你用过哪些Loader？<a class="hash-link" href="#有哪些常见的loader你用过哪些loader" title="Direct link to heading">​</a></h2><ul><li><p>处理css:</p><ul><li>css-loader  解析css模块import等语法</li><li>style-loader  将css模块插入到style标签中</li><li>mini-css-extract-plugin.loader 将css提取成一个文件</li><li>postcss-loader autoprefixer 自动为css添加浏览器前缀</li><li>less-loader  处理less模块</li><li>sass-loader  处理sass模块</li></ul></li><li><p>处理js</p><ul><li>bable-loader<br>转化ES6语法，必须得先安装@babel/core核心模块，@bael/preset-env一组预设插件。
一些实例方法的转化，需要额外安装core-js。
安装@babel/plugin-tranform-runtime, 提供每个文件的辅助方法为公共方法，加快速度。</li></ul></li><li><p>处理图片等资源</p><ul><li>file-loader 将图片输出到输出目录下，并返回一个路径</li><li>url-loader 可以设置一个限制，小于这个限制则将图片转成base64位，否则使用file-loader</li></ul></li><li><p>编译优化</p><ul><li>cache-loader 缓存loader，会在node_module目录的.cache目录下生成缓存。</li></ul></li><li><p>其他</p><ul><li>vue-loader 处理vue组件</li><li>eslint-loader 通过 ESLint 检查 JavaScript 代码</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="有哪些常见的plugin你用过哪些plugin">有哪些常见的Plugin？你用过哪些Plugin？<a class="hash-link" href="#有哪些常见的plugin你用过哪些plugin" title="Direct link to heading">​</a></h2><ul><li><p>处理html</p><ul><li>html-webpack-plugin 引用一个html模块，将生成的bundle等资源插入.</li></ul></li><li><p>处理css</p><ul><li>min-css-extract-plugin 提取css代码到单独的文件</li><li>css-minimizer-webpack-plugin  压缩css代码</li></ul></li><li><p>处理js</p><ul><li>uglifyjs-webpack-plugin 不支持ES6语法，压缩js</li><li>terser-webpack-plugin  支持ES6语法，压缩js</li></ul></li><li><p>处理资源</p><ul><li>copy-webpack-plugin  复制资源到输出目录</li></ul></li><li><p>优化</p><ul><li>preload-webpack-plugin 异步加载资源时，使用预加载资源</li></ul></li><li><p>webpack自带的插件</p><ul><li>webpack. DefinePlugin 定义环境变量</li><li>webpack. ProvidePlugin  将变量注到每个模块</li><li>webpack. BannerPlugin 写入版本信息</li><li>webpack. DllPlugin 动态链接库</li><li>webpack.optimize. ModuleConcatenationPlugin  作用域提升, 分析出模块之间的依赖关系，尽可能将打散的模块合并到一个函数中，前提是不能造成代码冗余。</li></ul></li><li><p>其他插件</p><ul><li>vue-loader-plugin 处理vue相关</li><li>friendly-errors-webpack-plugin  相好提示错误</li><li>webpack-bundle-analyzer 可视化 Webpack 输出文件的体积 (业务组件、依赖第三方模块)</li><li>clean-webpack-plugin 删除输出目录（webpack5可以直接在output里面配置clean属性）</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="loader和plugin的区别">Loader和Plugin的区别？<a class="hash-link" href="#loader和plugin的区别" title="Direct link to heading">​</a></h2><p>loader本质上是一个函数，传入一个源码参数，将源码进行相关处理，比如babel-loader就是将源码转化为ES5的语法，然后输出。
Plugin 就是插件，基于事件流框架 Tapable，插件可以扩展 Webpack 的功能，在 Webpack 运行的生命周期中会广播出许多事件，Plugin 可以监听这些事件，在合适的时机通过 Webpack 提供的 API 改变输出结果。
Loader 在 module.rules 中配置，作为模块的解析规则，类型为数组。
Plugin 在 plugins 中单独配置，类型为数组。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="webpack构建流程">Webpack构建流程<a class="hash-link" href="#webpack构建流程" title="Direct link to heading">​</a></h2><ul><li>初始化参数<ul><li>解析 Webpack 配置参数，合并 Shell 传入和 webpack.config.js 文件配置的参数，形成最后的配置结果。</li></ul></li><li>开始编译<ul><li>上一步得到的参数初始化 compiler 对象，注册所有配置的插件，插件监听 Webpack 构建生命周期的事件节点，做出相应的反应，执行对象的 run 方法开始执行编译。</li></ul></li><li>确定入口<ul><li>从配置文件（ webpack.config.js ）中指定的 entry 入口，开始解析文件构建 AST 语法树，找出依赖，递归下去。</li></ul></li><li>编译模块<ul><li>递归中根据文件类型和 loader 配置，调用所有配置的 loader 对文件进行转换，再找出该模块依赖的模块，再递归本步骤直到所有入口依赖的文件都经过了本步骤的处理。</li></ul></li><li>完成模块编译并输出<ul><li>递归完后，得到每个文件结果，包含每个模块以及他们之间的依赖关系，根据 entry 配置生成代码块 chunk 。</li></ul></li><li>输出完成<ul><li>输出所有的 chunk 到文件系统。</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="使用webpack开发时你用过哪些可以提高效率的插件">使用webpack开发时，你用过哪些可以提高效率的插件？<a class="hash-link" href="#使用webpack开发时你用过哪些可以提高效率的插件" title="Direct link to heading">​</a></h2><ul><li>webpack-merge：提取公共配置，减少重复配置代码</li><li>speed-measure-webpack-plugin：简称 SMP，分析出 Webpack 打包过程中 Loader 和 Plugin 的耗时，有助于找到构建过程中的性能瓶颈。</li><li>autodll-webpack-plugin 提取动态链接库</li><li>cache-loader 缓存loader</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="source-map是什么开发环境生产环境怎么用">source map是什么？开发环境，生产环境怎么用？<a class="hash-link" href="#source-map是什么开发环境生产环境怎么用" title="Direct link to heading">​</a></h2><ul><li>source map 是将编译、打包、压缩后的代码映射回源代码的过程。打包压缩后的代码不具备良好的可读性，想要调试源码就需要 soucre map。</li><li>开发环境, 使用的eval-source-map, 它的构建速度中，不支持生产环境，是官方构建高质量开发环境source-map的推荐。</li><li>生产环境，不暴露原码，只需要报错的行号和堆栈，使用nosource-source-map。也可以使用source-map，然后将.map的原码文件通过ngix设置, 只对内网生效，提高安全性。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="模块打包原理知道吗">模块打包原理知道吗？<a class="hash-link" href="#模块打包原理知道吗" title="Direct link to heading">​</a></h2><ul><li>Webpack 实际上为每个模块创造了一个可以导出和导入的环境，本质上并没有修改 代码的执行逻辑，代码执行顺序与模块加载顺序也完全一致。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="文件监听原理">文件监听原理<a class="hash-link" href="#文件监听原理" title="Direct link to heading">​</a></h2><ul><li>在发现源码发生变化时，自动重新构建出新的输出文件。</li><li>缺点是要刷新页面</li><li>原理：轮询判断文件的最后编辑时间是否变化，如果某个文件发生了变化，并不会立刻告诉监听者，而是先缓存起来，等 aggregateTimeout 后再执行。</li></ul><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 默认false,也就是不开启   </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">watch</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 只有开启监听模式时，watchOptions才有意义   </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">watchOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 默认为空，不监听的文件或者文件夹，支持正则匹配       </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">ignored</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">node_modules</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 监听到变化发生后会等300ms再去执行，默认300ms       </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">aggregateTimeout</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 判断文件是否发生变化是通过不停询问系统指定文件有没有变化实现的，默认每秒问1000次       </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">poll</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="webpack的热更新原理">Webpack的热更新原理<a class="hash-link" href="#webpack的热更新原理" title="Direct link to heading">​</a></h2><ul><li>webpack-dev-server内置一个express服务器，与浏览器之间维护了一个 Websocket</li><li>当本地资源发生变化时，服务器会向浏览器推送更新，并带上构建时的 hash，让客户端与上一次资源进行对比。</li><li>客户端对比出差异后会向服务器发起Ajax请求来获取更改内容(文件列表、hash)</li><li>客户端就可以再借助这些信息继续向 WDS 发起 jsonp 请求获取该chunk的增量更新。</li><li>增量更新，可以在我们的业务代码添加模块更新后的处理函数</li></ul><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">hot</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">hot</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">accept</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./hello.js&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        div</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">innerHTML</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">hello</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="如何对bundle体积进行监控和分析">如何对bundle体积进行监控和分析？<a class="hash-link" href="#如何对bundle体积进行监控和分析" title="Direct link to heading">​</a></h2><p>使用 webpack-bundle-analyzer 生成 bundle 的模块组成图，显示所占体积。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="文件指纹是什么怎么用">文件指纹是什么？怎么用？<a class="hash-link" href="#文件指纹是什么怎么用" title="Direct link to heading">​</a></h2><ul><li>通过给文件加上hash后缀，做到当代码有修改时打包出来的文件后缀也会修改，从而可以把静态资源开启持久缓存</li><li>webpack提供了三种hash类型<ul><li>hash 和整个项目构建相关，只要一个文件有修改，整个项目的hash值就会改变。它的问题是当项目有多入口或者使用code spliting，只要有一个文件修改打包的生成的js代码hash都会改变。不利于缓存。</li><li>chunkhash 和webpack打包的chunk有关，不同的entry会申城不同的chunkhash值</li><li>Contenthash 根据文件内容来定义hash，文件内容不变，则contenthash不变</li></ul></li><li>JS的文件指纹设置<ul><li>设置 output 的 filename，用 chunkhash。</li></ul></li><li>CSS的文件指纹设置<ul><li>设置 MiniCssExtractPlugin 的 filename，使用 contenthash。</li></ul></li><li>图片，字体文件的文件指纹设置,<ul><li>设置 file-loader（或url-loader） 的 name，使用 <!-- -->[hash]<!-- -->图片，字体文件的hash和css/js资源的hash概念不一样，图片，字体文件的hash是由内容决定的</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="如何保证各个loader按照预想方式工作">如何保证各个loader按照预想方式工作？<a class="hash-link" href="#如何保证各个loader按照预想方式工作" title="Direct link to heading">​</a></h2><ul><li>可以使用 enforce 强制执行 loader 的作用顺序，pre 代表在所有正常 loader 之前执行，post 是所有 loader 之后执行。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="如何优化-webpack-的构建速度">如何优化 Webpack 的构建速度？<a class="hash-link" href="#如何优化-webpack-的构建速度" title="Direct link to heading">​</a></h2><ul><li>优化loaders<ul><li>使用 include 字段仅将 loader 模块应用在实际需要用其转换的位置中：</li><li>thread-loader 开启多线程缓存</li><li>使用 cache-loader  启用持久化缓存。</li><li>noParse 对完全不需要解析的库进行忽略 </li><li>babel-loader 开启缓存</li></ul></li><li>plugins<ul><li>使用 DllPlugin 将更改不频繁的代码进行单独编译。</li><li>terser-webpack-plugin 开启缓存</li></ul></li><li>开发环境<ul><li>使用 webpack 的监听模式。使用 watchOptions.poll 来增加轮询的间隔。</li><li>Devtool使用 eval-source-map 配置进行增量编译。</li><li>开发环境下文件名等不添加hash。</li><li>开发环境下不使用压缩代码的插件</li><li>开发环境下不使用作用域提升，ModuleConcatenationPlugin插件</li></ul></li><li>生产环境<ul><li>多进程并行压缩,terser-webpack-plugin 开启 parallel 参数</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="你刚才也提到了代码分割那代码分割的本质是什么有什么意义呢">你刚才也提到了代码分割，那代码分割的本质是什么？有什么意义呢？<a class="hash-link" href="#你刚才也提到了代码分割那代码分割的本质是什么有什么意义呢" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_mojV" id="是否写过loader简单描述一下编写loader的思路">是否写过Loader？简单描述一下编写loader的思路？<a class="hash-link" href="#是否写过loader简单描述一下编写loader的思路" title="Direct link to heading">​</a></h2><ul><li>写过一个简单的去除代码中的console.log，debugger的loader</li><li>在webpack中配置resolveLoader.modules，使用本地的loader的目录</li><li>使用loader-utils工具包，传入this，获取loader的options选项。</li><li>使用schema-utils工具包，对options选项进行检证</li><li>获取webpack传入的loader函数的source参数，对source进行转化。</li><li>如果要异步执行loader，可以使用this.async()返回callback函数，执行callback函数，传入结果。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="是否写过plugin简单描述一下编写plugin的思路">是否写过Plugin？简单描述一下编写Plugin的思路？<a class="hash-link" href="#是否写过plugin简单描述一下编写plugin的思路" title="Direct link to heading">​</a></h2><ul><li>写过一个webpack打包之后上传FTP的的插件</li><li>webpack插件其实就一个类，这个类中有个apply方法.</li><li>webpack实例complier对象之后，将调用注册插件的apply方法，然后传入complier</li><li>获取到complier对象之后，使用complier对象注册相应的生命周期的钩子函数。</li><li>比如上传FPT这个插件，会在afterEmit钩子之后执行，它获取到compilation对象。</li><li>compilation对象是每一次构建的核心对象，可以获取当次编译模块，文件等对象</li><li>比如通过compilation.assets获取到输出的文件路径，然后能过ftp上传到服务器。</li><li></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="聊一聊babel原理吧">聊一聊Babel原理吧<a class="hash-link" href="#聊一聊babel原理吧" title="Direct link to heading">​</a></h2><ul><li>babel主要分为三部分解析，转化，生成。<ul><li>解析主要是通过babylon，将代码转化成AST语法树</li><li>转化主要是通过修改AST语法树来实现的，种Babel的转化插件就是主要处理这个过程。</li><li>生成是将新的AST语法树生成新的代码</li></ul></li><li>一般使用babel会使用@babel/core,@babel/preset-env,@babel/plugin-transform-runtime<ul><li>@babel/core主babel的核心库，要提供解析转化生成的方法。</li><li>@babel/preset-env主要是提供babel的预设的一系列转化插件</li><li>@babel/plugin-transform-runtime主要是优化转化的代码，拾取公共的辅助代码。</li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Guing/FED-DOC/docs/20-面试/webpack面试题/webpack面试题.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/FED-DOC/docs/体系/慕课网前端架构师/遇到的坑/1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">1</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/FED-DOC/docs/面试/前端面试题总结/Html/Html"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Html</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#有哪些常见的loader你用过哪些loader" class="table-of-contents__link toc-highlight">有哪些常见的Loader？你用过哪些Loader？</a></li><li><a href="#有哪些常见的plugin你用过哪些plugin" class="table-of-contents__link toc-highlight">有哪些常见的Plugin？你用过哪些Plugin？</a></li><li><a href="#loader和plugin的区别" class="table-of-contents__link toc-highlight">Loader和Plugin的区别？</a></li><li><a href="#webpack构建流程" class="table-of-contents__link toc-highlight">Webpack构建流程</a></li><li><a href="#使用webpack开发时你用过哪些可以提高效率的插件" class="table-of-contents__link toc-highlight">使用webpack开发时，你用过哪些可以提高效率的插件？</a></li><li><a href="#source-map是什么开发环境生产环境怎么用" class="table-of-contents__link toc-highlight">source map是什么？开发环境，生产环境怎么用？</a></li><li><a href="#模块打包原理知道吗" class="table-of-contents__link toc-highlight">模块打包原理知道吗？</a></li><li><a href="#文件监听原理" class="table-of-contents__link toc-highlight">文件监听原理</a></li><li><a href="#webpack的热更新原理" class="table-of-contents__link toc-highlight">Webpack的热更新原理</a></li><li><a href="#如何对bundle体积进行监控和分析" class="table-of-contents__link toc-highlight">如何对bundle体积进行监控和分析？</a></li><li><a href="#文件指纹是什么怎么用" class="table-of-contents__link toc-highlight">文件指纹是什么？怎么用？</a></li><li><a href="#如何保证各个loader按照预想方式工作" class="table-of-contents__link toc-highlight">如何保证各个loader按照预想方式工作？</a></li><li><a href="#如何优化-webpack-的构建速度" class="table-of-contents__link toc-highlight">如何优化 Webpack 的构建速度？</a></li><li><a href="#你刚才也提到了代码分割那代码分割的本质是什么有什么意义呢" class="table-of-contents__link toc-highlight">你刚才也提到了代码分割，那代码分割的本质是什么？有什么意义呢？</a></li><li><a href="#是否写过loader简单描述一下编写loader的思路" class="table-of-contents__link toc-highlight">是否写过Loader？简单描述一下编写loader的思路？</a></li><li><a href="#是否写过plugin简单描述一下编写plugin的思路" class="table-of-contents__link toc-highlight">是否写过Plugin？简单描述一下编写Plugin的思路？</a></li><li><a href="#聊一聊babel原理吧" class="table-of-contents__link toc-highlight">聊一聊Babel原理吧</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">笔记</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/FED-DOC/docs/intro">前端</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Guing" target="_blank" rel="noopener noreferrer" class="footer__link-item">关于我<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/FED-DOC/blog">博客</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 FED-DOCS, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/FED-DOC/assets/js/runtime~main.b55e0dcb.js"></script>
<script src="/FED-DOC/assets/js/main.3250de72.js"></script>
</body>
</html>