<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/Lerna基础-框架搭建">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/FED-DOC/blog/rss.xml" title="IT学习笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/FED-DOC/blog/atom.xml" title="IT学习笔记 Atom Feed"><title data-rh="true">原生脚手架开发痛点分析 | IT学习笔记</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://guing.github.io/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/Lerna基础-框架搭建"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="原生脚手架开发痛点分析 | IT学习笔记"><meta data-rh="true" name="description" content="我们在使用lerna之前，要知道我们为什么要用lerna，我们不妨看看原生开发脚手架存在什么痛点。"><meta data-rh="true" property="og:description" content="我们在使用lerna之前，要知道我们为什么要用lerna，我们不妨看看原生开发脚手架存在什么痛点。"><link data-rh="true" rel="icon" href="/FED-DOC/img/my.jpg"><link data-rh="true" rel="canonical" href="https://guing.github.io/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/Lerna基础-框架搭建"><link data-rh="true" rel="alternate" href="https://guing.github.io/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/Lerna基础-框架搭建" hreflang="en"><link data-rh="true" rel="alternate" href="https://guing.github.io/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/Lerna基础-框架搭建" hreflang="x-default"><link rel="stylesheet" href="/FED-DOC/assets/css/styles.5627add0.css">
<link rel="preload" href="/FED-DOC/assets/js/runtime~main.41d8161a.js" as="script">
<link rel="preload" href="/FED-DOC/assets/js/main.c542093f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/FED-DOC/"><div class="navbar__logo"><img src="/FED-DOC/img/my.jpg" alt="IT学习笔记" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/FED-DOC/img/my.jpg" alt="IT学习笔记" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">IT学习笔记</b></a><a class="navbar__item navbar__link navbar__link--active" href="/FED-DOC/docs/intro">前端</a><a class="navbar__item navbar__link" href="/FED-DOC/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Guing/FED-DOC" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/FED-DOC/docs/intro">前端学习笔记</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Html/MDN笔记/">Html</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Css/2021必修 CSS架构系统精讲/2-3 CSS设计模式/note">Css</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Vue/Nuxt-前端老张/笔记">Vue</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/React/React17系统精讲结合TS打造旅游电商平台2021/笔记/">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Nodejs/intro">Nodejs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/TypeScript/Typescript入门学习笔记/">TypeScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/小程序/codewhy前端体系-小程序/总结">小程序</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/浏览器/IndexedDB数据库/IndexedDB使用">浏览器</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/性能优化/vue-cli优化">性能优化</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/网络协议/intro">网络协议</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/工程化/intro">工程化</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/单元测试/intro">单元测试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/构建工具/webpack基础使用">构建工具</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/安全/intro">安全</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/算法/300分钟搞定数据结构与算法/">算法</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/移动端/intro">移动端</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/FED-DOC/docs/体系/codewhy前端体系/HTML与CSS/整体大纲">体系</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/HTML与CSS/整体大纲">codewhy前端体系</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/需求/1周 需求分析和架构设计/乐高架构方案设计文档">慕课网前端架构师</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/需求/1周 需求分析和架构设计/乐高架构方案设计文档">需求</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/28周 脚手架发布模块架构设计和核心流程/本周介绍">脚手架</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/28周 脚手架发布模块架构设计和核心流程/本周介绍">28周 脚手架发布模块架构设计和核心流程</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/29周 脚手架发布模式git自动化流程开发/Github和Gitee API接入">29周 脚手架发布模式git自动化流程开发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/学习目标">2周 脚手架架构设计和框架搭建</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/学习目标">学习目标</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/脚手架开发入门">1. 站在前端研发的视角，分析开发脚手架的必要性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/脚手架的实现原理">1. 脚手架执行原理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/脚手架开发流程">开发流程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/快速入门第一个脚手架">一、快速入门</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/Lerna基础-框架搭建">原生脚手架开发痛点分析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/lerna 源码分析">lerna 源码分析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/yargs 使用">yargs 使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/基于commander实现脚手架命令注册">快速实现一个commander脚手架</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/如何让Node支持Es Moudle">通过webpack完成ES Module资源构建</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/基于Lerna重新设计简历">基于Lerna重新设计简历</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/总结">总结</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/其他人的笔记">其他人的笔记</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/30周 脚手架发布模块云构建系统开发/WebSocket 快速入门">30周 脚手架发布模块云构建系统开发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/31周 脚手架发布模块云发布功能开发/node常用三方库介绍">31周 脚手架发布模块云发布功能开发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/32周 脚手架组件发布功能开发/笔记">32周 脚手架组件发布功能开发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/33周 组件平台开发/笔记">33周 组件平台开发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/3周 脚手架核心流程开发/脚手架开发架构设计">3周 脚手架核心流程开发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/4周 脚手架命令注册和执行过程开发/脚手架初始化+全局参数注册">4周 脚手架命令注册和执行过程开发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/5周 脚手架创建项目流程设计和开发/脚手架项目创建功能架构设计">5周 脚手架创建项目流程设计和开发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/6周 脚手架创建项目和组件初始化开发/安装项目模板阶段">6周 脚手架创建项目和组件初始化开发</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/编辑器/10周 编辑器基本布局及业务组件库初步开/笔记">编辑器</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/服务器/14周 服务端技术选型：磨刀不误砍柴工/导学">服务器</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/总结/遇到的坑">总结</a></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/面试/webpack面试题/">面试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Go/资深go开发工程师/基础">Go</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/FED-DOC/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">体系</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">慕课网前端架构师</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">脚手架</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">2周 脚手架架构设计和框架搭建</span><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">原生脚手架开发痛点分析</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>原生脚手架开发痛点分析</h1><p>我们在使用lerna之前，要知道我们为什么要用lerna，我们不妨看看原生开发脚手架存在什么痛点。
<strong>重复操作</strong></p><ul><li>多package本地link</li><li>多package安装依赖</li><li>多package代码提交</li><li>多package单元测试</li><li>多package代码发布</li></ul><p><strong>版本一致性</strong></p><ul><li>发布时的版本一致性问题</li><li>发布后相互依赖版本升级问题</li></ul><p>package越多，管理复杂度越高</p><h1>Lerna介绍</h1><p>Lerna is a tool that optimizes the workflow around managing multi-package repositories with git and npm.</p><p>Lerna是一个优化基于git+npm的多package项目的管理工具</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="优势">优势<a class="hash-link" href="#优势" title="Direct link to heading">​</a></h2><ul><li>大幅减少重复操作</li><li>提升操作的标准化</li></ul><p>Lerna是架构优化的产物，它揭示了一个架构真理：项目复杂度提升后，就需要对项目进行架构优化。架构优化的主要目标往往都是以效能为核心。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="官网">官网<a class="hash-link" href="#官网" title="Direct link to heading">​</a></h2><p>官网：<a href="https://lerna.js.org/" target="_blank" rel="noopener noreferrer">https://lerna.js.org/</a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="案例">案例<a class="hash-link" href="#案例" title="Direct link to heading">​</a></h2><p>使用Lerna管理的大型项目：</p><ul><li>babel：<a href="https://github.com/babel/babel" target="_blank" rel="noopener noreferrer">https://github.com/babel/babel</a></li><li>vue-cli：<a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener noreferrer">https://github.com/vuejs/vue-cli</a></li><li>create-react-app：<a href="https://github.com/facebook/create-react-app" target="_blank" rel="noopener noreferrer">https://github.com/facebook/create-react-app</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="lerna开发脚手架流程重点">lerna开发脚手架流程（重点）<a class="hash-link" href="#lerna开发脚手架流程重点" title="Direct link to heading">​</a></h2><p><img loading="lazy" alt="img" src="/FED-DOC/assets/images/1623403900032-8f610727-d506-4744-8f22-e8f9cc10f650-837592b21d619d0e561f938a85f23ace.png" width="1182" height="1526" class="img_E7b_"></p><h1>基于Lerna搭建脚手架框架</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="脚手架项目初始化">脚手架项目初始化<a class="hash-link" href="#脚手架项目初始化" title="Direct link to heading">​</a></h2><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir cli</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd cli</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install </span><span class="token operator" style="color:#393A34">-</span><span class="token constant" style="color:#36acaa">D</span><span class="token plain"> lerna  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">g lerna </span><span class="token comment" style="color:#999988;font-style:italic">// 安装全局的，方便访问</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna init  </span><span class="token comment" style="color:#999988;font-style:italic">// 初始化lerna</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>生成lerna基础结构</p><p><img loading="lazy" alt="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAACoCAYAAACVILDlAAAWfklEQVR4Ae2d269cR5XG+TciBhMu5whGwLGVwPEktkMUGEK4CzAJoJHjDBluUVC4P3BpQ1ASnIdYKGDUxEJBQWROlOPJJGaAkX1iQQK0EDMwgiDEAxKDkLi9IEA8FFpVtapW1b73rt63/h62eve+VNVe9f1qrareVf20yy67TPG2sbGpsMEG0EC5Bvbt26fi7WkMEX3CgOUGhH1gH9JADBF9B0jwwmhAG2oAIDU0GDwQPFCeBgASQIL3SaABgJTAiHktFI6tl+fqDaTZQwu1WPht7/SNauPEjj62cyKsBHPtjpoViD5Oi9KVaWTOn5+rYzYvnS+ne3yu9qhMD83QSrNN8FlLC0uBtLV9udoqNfB+dfn2/oIC3Kjm5wkgCcZMzVuD5NM7dnpPA8mQ5IM4UzsEDUFln4XvkxDCs4SNGuyRb48lQLpBnXrkgvr3z9xQANN+ddPdu+qbZ0+q6/NgK/A6uoIKzuWD4B8oe97CaiHJnjf3muN7an5cfvdAQjTexrBFuS2WAGlTbWzdpD7/aB5MFqJHTqmbtvIzjsUbVFAykDaVhMfs+zDShW5BeGc9FMK6gkgivz6D+strONfk2HIgkXEyMHlPVAQRGV0KPFMJdUCy1+j+lRV9XprymNwP8xTwFOQdXg8xwR75GlgeJAHT7t3vUu889ZgO58ogokoo7YcUiLkYBPNQ2fP1QjsqD9+7owc/ENYBlHxQquzSDiQH07fVhbMnC8O5sBDWC8jBhuNztZNwsMHA4UfuGJbcUb8cDxeWdznDIo31slt7kJaKgXnkzvdb5PC3HBanEbRSEJxX8WktFn4AgQTNYPl0pedhsD14gGC9IEhR3z2BhIpKUXlIYzg6AkhLedThVCBgGkZdACSAhOHuBBoASAmMCK8wDK/QZz0AJIAEj5RAAwApgRH7bAmR9zC8IUACSPBICTQAkBIYEV5hGF6hz3oASAAJHimBBgBSAiP22RIi72F4Q4AEkOCREmgAICUwIrzCMLxCn/UwOpCues2WOvLqcOvTgMgbEJEGugfp+pPq7H/eq27e37wCrv/AQfXZi9dltnfccWg44QlNyxjoLFuaC8brWJQ2AHoRGPmGfPO6Kk1/glFA9yBtHFA3nzqn9r7RHKbb5ldnIMoDSx57+dED3UIGkLq190Cg7AEkat0sTOfuaeSZ6oL04I8+6oB7z6mruq1YgNStvdcbpOVgqgLpKz+8Tf3Pr7+ufv67J/Unfad7ysMMmti3p+Yn7Jp2OevahRMD45DHTwzUS4zFIPFaeXoNv/jeKGSyIdXcLifGExR5ej5/988j885Zj0/mfX6uZiK0o2cKlh2T5Y5DO5mOnNm8IfMPJ1P6MkbPOBDhpy5fTx6JjXtA3fz5/1Z75+5xa8uVPWARSF/8/nH15C+/pgEiiOT2+E8fUIeOXFECkxWDW9/OfGeRaRG7c5tmEUv33cz05Ws3WFiuj0RpCYGRWN29bAPxaQXL/RgGKPju7jd58zmyG8Hhv0d5R2nXBylKxz1D/OziOSYKS5k2+wfp1Dn1xLfubQXSIz+9M4BHgkT7n7zzwxUgCbEHgoxEpAVCArLXO1EJEYmWXYPgoKJrKL0Sr5TrCcT18nxe3nTegpbN2yw8w6DVBSmbjn+GEFxhA4CkR/E6+luXA+ptd51VT3xrXrufVOSRUoNE4jGC86KRrZEToYDGnRfHtAh1SFe8noS7j8QnQan6LvLxafjy+mfwApfH3DOw6GV6ohzlz2C8Eq2FwYD6svh81+FYTx6pOURUGf2AFHqrjY1yj6SFZ72QFG4tMQkB6+vLvpPwXZhnRUvXl3gk6UGagFQNCcK8HkBaDqJ+QLIrEEnBBgImDyA77ea7+x1JgxCDWNJSl4GT8VAmLylyCYrxbiJvnbb3HBL4TN9OlqPmMwR5s5dbo8/uQXrrPercN+qHc7IlL/pB9uH/m5X2kT70sVsa9ZFiT0IicUt5SaicuPn8jprJEInO03cZ3gV9pggqKWCXdkEfSYvUgmvTl1Bpu8m8o1E7Bw+PJspyx+WQ6dD1+hl8WKefr+y5dFmjZ53Yse5BamlAekUob7v5g29W333qsQAo+v7Gt7y2BKJpV65shLC/2roeHUhVgiDv8+0fP6rKvdBqjVpVRh1WSS9F+7Gna9ngVJUB59NqYHIgQSBpBQJ71rMnQELLj9A3gQYAUgIjotWu12pP2U4ACSDBIyXQAEBKYMQpt7R4tnreFiABJHikBBoASAmMiFa7Xqs9ZTsBJIAEj5RAAwApgRGn3NLi2ep529GB9Jwjb1bPOXI02FDZ9SobdlqdnboHqcUqQs86+hm1745fZbZn3fSlQYUn6/4m9DoC2z1IvPDJEqsIXXrroxmI8sByx2ZPqWe/7HjnkAGk1bX8Q4W0B5DIyMutItQYpDt+pS5914MACf3AlWugJ5CWg6kMpNff/1t1yyN/zGz/eubHFUakOT3RKkLRm9hl85GCN7ntfYFHsnN5eIGUsrTkuZ0TVC4xF4kXVtFvjYsJe3aNCZ7zlJmTBIgq6j+N9+wRJAtTg1WEykD6j6f+qr75i7/lbv/2oU+VGNNOjhPwaEG7iWozteP2zWQ2FquGSN53eq4XcXEgZWaXVqTl8rEzcx1I0VRuMfFOl0HcN9TQZ+rl6h+kBqsIlYFUBBEdf9/sngqQwhY+swiJaNVJuAYkEnd0n73OgDSPpqFnWz6flvWKx+U1wiORVxPAVq0bMXXRDvH5egSp+doNdUAiz3TlF36jzvzgz847NQYpWjZLt/piIp4BSQhdgEaV7EK0HE9RPy2RfjzV25aFw0WXZgCbhBL7q4avJ5CaQ0SGqAKJIaJRu+fd/WsHU2OQKHSyotQiFUDQdw9SmUeaqfl5v9gIlb9RWiJ80+s+iDIUiSJOv+g6HE/fsPQA0nIQUeVXgfTVH/1Ffe7JP+kh8hu+9jt1n/VK1SDxgh5k4LAf5Po72utkz8mQaxb3kewAAfepKtMSsBivxoMN5J3kakUFQsiEgAXXRR4UYLW3U/cgtVhFqOgHWfJAso9EMBFUfKwapD01Py1W+xGCDlfb2VM7D7FHMsZ3YRyFW/a+ABjtWficAcKMsMVpGUh59C0zasfpcIgpPSYfc4MT7YUBuJrZsHuQWraG5hUhek0o3E7uPKHufex/s9vud9Sr3vS2ZoMNLcuYRIQivEyS3hCeacJlGB1I6UVFXiK/r5M+r7qtXBhC9leOuuXFdQBJ92P6BykIEUWYCIjGASlAmnC4AQi7gxAgAaSS/mN3Qhw79AAJIAGkBBoASAmMOPbWFOVv73kBEkCCR0qgAYCUwIho0du36GO3IUACSPBICTQwCZBu375U3X7wmRBEAkGM3TP0Vf7Rg3T4+c9VP7v2EvX/112ivnRoH2ACTL1oYNQgkSc68LxNRTDR/qph0tMUCuf81HxDG0LvReir9lSjBem+Q/s0OA8eeYarmMeu/oeVw+QqRM4XAhyuDpx91swmowSJISIP9LNXXKI9ElXgK1/QYZgHkNYeHtlojA4kCRGBRNvRrWdrmCjMI5haeSY57yf6J3A3AzWa+l00Y1a+iBrML2IIRTo8+Y8rR967kPOM7L3z03v639J5urm8Pk6L08Tn6obpRwUS94MYIP4kkGh7/Jqnu1by1BXP1JDRPfUFFE2psFCxMB1IFLYwDC6ECe8NrnXrONgZrzZdngho0vJvoGf6YnLma1QmerYwLzMFgwGr/+yrE9k6lGFSIBFYNPBAFbcMSKEgjbDoWHOQQqiMkOiYBImnkVM+Uvx599J5C1oFwJSXLPM6iHgIzzgqkMhgeaEdhXO0EUjUZ3r0pc/Q+3RtEyPnCVAeo/3Qi0gYJAACmsBjFYFkVh4yXiTvXnE+F6SFDvN4mrr+DKbLw9s00cEy144OpBgm6g/xg3PfiIBqChGlEYBiAaC+RxKPJAGQ+yIfD5IP88yzVXkkCTSgYT10+TlKkMhA7JnIA7FHov3GEElR630hYv19GZDs2nbCK5jBgDoeyd4rf6/K9JFCcHTaIq8uBYS8TMM1WpAkTAQPb409kQSJvIMYSaOltmZFfSQ3gMCgydDO93s43ModtXNhnwjdhIfie+WSX9lBjmxei8GtQTF9LzlqkGKYGkMkhFzUslJrn2QEjICVXqZG3kVlwvHhgTl6kEhUNMTdbJi7ZkVo7xSGUcuJ2IzKcV9ruTRqlhmAuj5zl3aeBEjJDGb7RC6kahEimT6RGE1DH6YXgSfTRkUDBZAqDNRVRSCfcXtcgASQJu0pumqgABJAAkgJNFAJ0vb2YYUNNoAGyjUAkNBQoKFMoAGAlMCIaK3LW+t1sA9AAkjwSAk0AJASGHEdWlw8Y7nXHR1ID3z6cvW3Cy9U3z9zoLAlpXN0DV0LAZQLAPZJY5/RgUSA3P3+l6i3v+GKQkjoHF1D11YL5aTaXVxUX74ljUGr8wvzuXN3oRa7J2uUM7yvaT64frX2GyVI77zhnyqFR9eMASQIfLUC78q+AGm7X4/UVUUjn9UCOyqQKGQjL9PEI73u2isrvFcWJB1u2X8Kf/zMrfZ+e92Zs3paNx1/75mLOizz14choj++UIsL96v35gxs0DVhHvyiq0yL8ubjYShYVQYAtFqA2L6jAYkGEH5/7kXqJ1/dr1720kMVcBzW19C1dM/37isemNiOPBIL0xjoVvXlCwu1exdVhhWz6M/oaxd8/rABywFzUu26a006HhhfuR4kmZc/v72dvdffY/MsLINMB/ss+lV8jgqkP3z9ReqXD2/VBomupXvKRvhCkLLeiWAxAOSfCwYKbrlfPb44q+7M8Tw+nVDQEgq57yr7rrNZb0b5WGBD8A+r7ZIyuDRzyodzYb00tcdoQKIHW31oF4VQHE5pz1IDJO21PEjssXh+U7lHooo03oeud9cSSM6zcWVTWUw+GZCiMjQVBK5nGzf7HBVIVMncRyKoKGyjY/R7Ef9mRB6Izi03aucFmhVUM5BigdN3B4fwCLleyAKlQ8qmHgkgVYb92bptBk3e/aMFifpJBAw9FA0o8KACHaNzy4F0WJGwsx6ADN0MpBCQsJ8jz8l9WUH+OOUrPNS2KSNDGQNryum9okwT++2BKbLhKEE6WeMHWbpmud+RfHhlQjIePWsGkhuc0OHhRbW76z2Sh0RCEeUbhHMGprwQESCtDo4iaPKOjw6kqb0iRFCZUcFhCCJPJDhWXTejA2lalZr1ctN6vmoBTuV5AZLo+HdXqT5U475Od3mvj7i7tClA6gUkiLlLkXeRF0ACSL0MF3ch7i7zAEgACSAl0EAlSF2tC4Z8xr1A4rrXH0BKsKbZuosIz7+pABJAwgKRCTQAkBIYES0ywtLRg3Tg4D+qd9xxSG+0D1FD1H1oYLQgvWDr+er6DxxUH3/4n9Wrjl2uN9qnY3SuD2Miz/WFeJQgvfzoAfWJ3Sw0Ei66pi9h038j9funYvHfcC4h8PgvQXNDYMon0T8a5qa/RLl7Smd0IFEY955TV6myMI7O0TV0bR8wrQ9I4xH6qnUwOpA+e/E6B8dVr9lStBE4FNIRPG9494tdaCevXbUhZfoAaf0AGzVIBA9tH3ngGt1HIqj+5eNXOk9UDyQbBp2Yqz2eWh79aXLwN5bRuWOn9/SqQnqukD0XgGT/JZ3/0LksLXku+Bd0Ha6YMMrMSdpT8+NlYs2GdjLtxSL+X1yZtg3VgtDO/Adu8O/qrkyiLMFfh4o8guNh2GtsNVPz87xKkrivpzBNNop19ycB0m3zq7U3IqiOvHpLHbzmhdpr1QdpoaRItOjcf77O1I7bD/9UWUMkwJqdnqtjG5vKiONGtaEFJIS2UZGWy8ek4QVv8mUYTbplggtBisu5QXC7chuIZNrzE5u27CaP0B4SYJmP3I+vkf2o8Fl02uK/eovzkmkOb38SIBE4NLhAIFG/iDwUtST1QZJiD0UUt0gkSjOQQIKI7rMtqAFpXtkR92nliZCOWVgC4ZOIRN5Ba8/lkenJfRaguJ/SFgC759Xp7qg5eVwHHd/PnzLtEBBOR0Mcpy/yNLa60YXrIeScz/A/JwESDXtTWEeVR5+3/9e17UAiz8Ei3thUWgwc9i04NAmvYeHQp2llF7kCrZ+WSJ+EJ/LnfedFMiGQFLhIR1xHZaT7PcyRWB2gDGd0Xqcl86Hz9N2EaFy23PQp7bwwmNIU56RNh74/CZAIHhpo4BCveWgXiUVUpha+aFG9MGIReaGZVtbE/XIYvFFaWsjCI4kyVItKlk3ucxm9R4rL5NLm/DXERWFkXtoMlLFpbvplHknY3pVFNABDPTY6kOTwN8FDP8bGxm02/E1ikN7DhCgMQBh6ZM/JsCfTR7ItdO20BCzGq7GATRm5lY+fN/s9FLhOS4ZnJGT+roERfZjjcxX3kTQMzkPLEC7Mx5dDXBOnr8NSn19oX3ikjJi9UbkVTPdJ/SH2PvQjLOdF+9RPolCv/g+yVgynRfgkBC3DlcViT+08xH0k8zxG8HbEyd4XiMMKyfRDDBA88hamZcTnwza6lkHifhuPbIWDI/z8/jMr8KCcDBG39FxGHZZZ76yP+fzN/XROQKIbCvbm8tk4/LV1HqTvIaLyBrZCaJcOEi+G6jQJHAIqfkWoSRoGFBZDdZ7N0m6RHokvFjwLfzCfEeyDKVcLuy/5DKML7WIhE0wU7tFW9rZDfJ//nm29/bnuK8TkbVp9Dgn7L0+BHWSIuKQAB/tsDZ9n9CC1r4hhgBSEXkGfrUDEDSu6vZ1EOfQABIWZA/TkPdkFIPVk+KTCxjO4fnJfdgVIEGHvIuxL/CnzBUgACSAl0ABASmDElC0b0hJ9sRHVDUAaUWUBsuFCBpAAEkK7BBoASAmMCE8xXE/RVd2MHiT6EbbdD7IQQVdim3I+owVJvlcXvyJE56ZcaXi24TV+owSJXkjFKkJZMem3tAf/fl623FNoGEYHkpxGUVQBzaZRpK/YzBvN6IdNPkIYHUhy+jhN6KONwKHpE1hFKH2jUNRY4Xho61GDRPDQhlWETKXGs1Hli7DyTXJ53C+wQmnYF3jlikrB3KxQPIDJ22MSIPEkP4JqnVcRkiDJfSn4TD8qmApBIMlJg+Z7/Zm5Xlgyz3XYnwRIB9d5FSHR/wrgCQBhgedNGaG5TzwdInse/T22XfnnJEDCKkKmkgOQ5OpHbiSPQPHTx9lTECzG62RBojRlWMj34DMEaxIgYRWhfJBY7B6wLCjBGnncRxKruAKkEBi2afw5OpDk8DdWEdpUckFFD0xU+SLM0wMNzkOF97vBBoDUeLh+dCBRS4BVhMSAgIBEgqT39apANCU8DOeCUTsJFTxSY4DYM40SJC48vQqEVYS890EY5m3BGunqc9QgkZEIpnYvreb1G/qrEFPxy6wiJNeb67v865f/6EFq3+IMA6Qg3Gq0ipABSC8siR9Plw7N2uoIIInfYdoaE/evnyfiOgdIAKm3VpxFOIVPgASQAFICDQCkBEacQouKZ2gXlgIkgASPlEADACmBEdGat2vNp2A/gASQ4JESaAAgJTDiFFpUPEM7rwqQABI8UgINAKQERkRr3q41n4L9ABJAgkdKoAGAlMCIU2hR8QztvCpAAkjwSAk0AJASGBGtebvWfAr2A0gACR4pgQYAUgIjTqFFxTO086oACSDBIyXQAEBKYES05u1a8ynYLw+kvwMc7DDPZ/vp/wAAAABJRU5ErkJggg==" width="210" height="168" class="img_E7b_"></p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// lerna.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;packages&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;packages/*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;version&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="创建package">创建package<a class="hash-link" href="#创建package" title="Direct link to heading">​</a></h2><p><a href="https://github.com/lerna/lerna/tree/main/commands/create#readme" target="_blank" rel="noopener noreferrer">https://github.com/lerna/lerna/tree/main/commands/create#readme</a></p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">lerna create core  </span><span class="token comment" style="color:#999988;font-style:italic">// 包含脚手架的bin文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna create utils </span><span class="token comment" style="color:#999988;font-style:italic">// 工具类方法</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>package的name使用创建组织,这样可以避免我们的包使用简短名字的时候重名</p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token string-property property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@cli-dev-zy/core&quot;</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>我们要先确保我们的组织名称可以使用，所以先去npm创建组织</p><p><a href="https://www.npmjs.com/org/create" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/org/create</a></p><p><img loading="lazy" alt="img" src="/FED-DOC/assets/images/1623736741480-8575f056-030f-48cd-a49f-9d042415c610-329f3ea86a41316a0a4dc76fb0f12ddf.png" width="957" height="739" class="img_E7b_"></p><p>安装项目依赖</p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">lerna add </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="脚手架开发和测试">脚手架开发和测试<a class="hash-link" href="#脚手架开发和测试" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_mojV" id="脚手架发布上线">脚手架发布上线<a class="hash-link" href="#脚手架发布上线" title="Direct link to heading">​</a></h2><ul><li><code>lerna version</code></li></ul><p>使用之前要先确定我们仓库创建了分支，并且关联了远程仓库，不然会报错</p><p><img loading="lazy" alt="img" src="/FED-DOC/assets/images/1623899965863-54a069f9-9944-4138-bd02-e0c1b0d28308-44617547591527710d631689b5379c01.png" width="702" height="155" class="img_E7b_"></p><p>关联远程仓库之后就可以使用<code>lerna version</code>提交到远程仓库了</p><p><img loading="lazy" alt="img" src="/FED-DOC/assets/images/1623899855514-c701dcd1-7c83-4a72-9c95-68759c02ebed-3182ca9f40c51c23f688a7dfbf8a6442.png" width="665" height="294" class="img_E7b_"></p><p>一般选择Patch、Minor、Major中选择版本就可以了</p><p><img loading="lazy" alt="img" src="data:image/png;base64,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iy++aN5///3m7LPPZl4oJEvF5t13322+//77RnPplM+Fx+iHH35oPvzww+bOO+9sTj311F4+/PrfdjYnPvxGc9LeJ5p/+MfftXV01Odf/cdFvWxM2VfaGjffzF18xAE58a7/bk740+7mV2f+yyBwnn/++ebrr79uPv/88/YhOuOMMwbVjz5wPg6Q7Ri/+++/v2Vv3759M3E3tv6qx3zR/SvZd2JDfHQ/06sgPrRw1M9PP/3ULiD7CJBWfDzwUnPSvc82OtdzgPjoHutVnyu6/Fuo+PAuiERIlxOxTA+OJpfXXnuteemll1oRct111/WuH21xvrngLnJstdumifO+++6bibux9RfZt3nYXnT/SvYRH+vzPJ9++unNbbfdtrWIvOyyy6rPksXH31x9e3PyHx9s70d8rM+YD51bFio+5MzJ15496PXLLbfc0nz77bfN448/3jz88MNtEtDRHXv99dfbrddbb7213daTsn7nnXea8847r73nrLPOal588cV2y1EJ5LPPPmvuvffeXlt/L7/8cvu655577tlq76qrrmq+/PLL5qOPPmqvXXLJJc2rr77aaFtR9lW2f//+1n5ucixNpO5PerzyyiubN998c8u+2lCfdV8f+5scn48//rh57733mp07/7IqcuwU46+++qqNkfqvmPlH4/PII48cNz5vv/12y4jGUD9PP/10o8nSY+W6PopHcen2Ssc+9bv4KdmN17WCFM+ffvppu6qUj3oVITZ039jx74pfn/6Nef5q9s2/nsVXXnmlHbs4fup/rf2u56tP/TgW6Xlu/lDS1Q6u54+af7Xxq/mfjl8qoLv4c3xLz4f6W2s/xuSGG25on8tvvvmmuemmm6rPj8WHXrHoVctv/umf/2rnw2LkxMf/3LQ/D7+xtUsS2+Z89UXLQsXHLDsfEh2a7CUuBKzA1S6It+30cOmVjB5mJwcdNXHt2LGjnZTidZ1/9913rQqvASmlrntjew899FArSA4ePNjs2rWrFTypfU2AerfqhzduC3tCTSeBnC96vaR3tal99Vn397G/yfF566232vifc845x01k2iH75JNPtpJvGj+Pv+OXlltceKxK5bkxi9dq9Wv8RFul8wceeOA4YSpfU/Ex5vlIk5fsO361/o19/mr2a+NXa7/2fNXql8bE1z1/HD16tJ2LdF3zhxZImj/62O96fmv+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" width="543" height="116" class="img_E7b_"></p><p>是否创建发布，可以先选择no，然后代码就会<code>push</code>到仓库中</p><ul><li><code>lerna publish</code></li></ul><p>会让我们先选择一个版本，选择<code>patch</code>，是否发布，选择yes</p><p><img loading="lazy" alt="img" src="/FED-DOC/assets/images/1623900178787-532c2d14-9481-483a-a2c1-02ae1de7e9b8-e76ad354928b4e6760f643733f7605ad.png" width="702" height="378" class="img_E7b_"></p><p>没有登录npm需要先登录</p><p><img loading="lazy" alt="img" src="/FED-DOC/assets/images/1623901512232-86e5c7ee-14d3-4c14-9422-0594a87c2001-cf59eb0a819b851ff81af44bf22f88ff.png" width="656" height="137" class="img_E7b_"></p><p>重新提交</p><p><img loading="lazy" alt="img" src="/FED-DOC/assets/images/1623913050698-efe5d9fd-1271-4bef-9eaa-c6e44bef5cd1-d76cd2dffc324029021222638510a96e.png" width="912" height="496" class="img_E7b_"></p><p>我们还是无法发布成功，第一个警告在项目中添加<code>LICENSE.md</code>文件</p><p>第二个是我们采用了<code>@***/***</code>组织的形式，属于私有包，我们需要声明为公开的</p><p>在每个package中进行声明</p><p><a href="https://github.com/lerna/lerna/tree/main/commands/publish#readme" target="_blank" rel="noopener noreferrer">https://github.com/lerna/lerna/tree/main/commands/publish#readme</a></p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;publishConfig&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">&quot;access&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;public&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>重新发布，发布成功</p><p><img loading="lazy" alt="img" src="data:image/png;base64,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" width="366" height="106" class="img_E7b_"></p><h1>Lern使用细节（重点）</h1><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir tangmen</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">cli</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm init </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">g </span><span class="token function" style="color:#d73a49">lerna</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">// 全局安装)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install lerna</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna </span><span class="token operator" style="color:#393A34">-</span><span class="token function" style="color:#d73a49">v</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 输出版本号说明安装成功)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna </span><span class="token function" style="color:#d73a49">init</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">// 初始化lerna项目，会创建一个lerna.json)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 经过上面init这一步，会初始化git仓库，再搞一个.gitignore 配置一些不用上传的目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote </span><span class="token function" style="color:#d73a49">xxx</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">// 添加远程仓库)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna create </span><span class="token function" style="color:#d73a49">core</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">// 创建一个package)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna create </span><span class="token function" style="color:#d73a49">utils</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">// 又创建了一个package)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">// 批量给两个package都安装依赖)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna </span><span class="token function" style="color:#d73a49">publish</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">// 发布项目)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="lerna-命令解释">lerna 命令解释<a class="hash-link" href="#lerna-命令解释" title="Direct link to heading">​</a></h3><ul><li><p><code>lerna init</code></p><p>直接运行，没有参数。创建一个lerna仓库(lerna repo)，生成 <code>lerna.josn</code> 并且在 <code>package.json</code> 中写入开发依赖</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;devDependencies&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;lerna&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^3.22.1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p><code>lerna create packageName [location]</code></p><p>创建新的 <code>package</code> 并根据交互命令行输入生成 <code>package.json</code>；可以指定路径。</p><div class="codeBlockContainer_I0IT language-powershell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-powershell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">lerna create get-npm-info ./utils/get-npm-info</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p><code>lerna add</code></p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">lerna </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">package</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">@version</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">--dev</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">--exact</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">--peer</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  path</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>向本地包的path添加依赖，不传path，表示向所有本地包添加依赖。</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">lerna </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> axios utils/get-npm-info</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><p>一次只能添加一个包，使用 <code>npm</code> 安装多包的写法，只会安装第一个</p></li><li><p><strong><code>npm link</code> 后的包，在 <code>lerna add</code> 后，要重新 <code>npm link</code>，不然会报错。这是坑</strong></p></li><li><p>选项：</p></li><li><ul><li><code>--dev</code>：将依赖安装到<code>devDependencies</code>，不加时安装到<code>dependencies</code></li></ul></li></ul></li><li><p><code>lerna link</code></p><p>如果未发布上线，需要手动将依赖添加到<code>package.json</code>或者<code>npm install</code>包</p><p>将相互依赖的本地包进行链接</p></li><li><p><code>lerna exec</code></p><p>对每个package执行任意 <code>shell</code> 命令，上下文在package文件夹中</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">lerna </span><span class="token builtin class-name">exec</span><span class="token plain"> -- </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> -rf ./node_modules</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> lerna </span><span class="token builtin class-name">exec</span><span class="token plain"> --scope @imooc-cli-dev/core（包名） -- </span><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> -la</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>通过 <code>--scope</code> 指定包名，对特定包执行 <code>shell</code> 脚本</p></li><li><p><code>lerna run</code></p><p>执行<strong>存在</strong>于每个包中的 npm script</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">lerna run </span><span class="token builtin class-name">test</span><span class="token plain"> </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">lerna run --scope @imooc-cil-dev/utils </span><span class="token builtin class-name">test</span><span class="token plain"> </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>通过 <code>--scope</code> 指定包名，对特定包执行 <code>npm</code> 命令</p><p>这里是包名，而不是package的路径，这点和<code>lerna add</code>用法不同</p></li><li><p><code>lerna clean</code></p><p>删除所有packages的node_modules目录，但是不会修改package.json的依赖，且始终不会删除根目录下的 <code>node_modules</code> 中的文件夹</p></li><li><p><code>lerna boorstrap</code></p><p>安装 <code>lerna repo</code> 中所有包的依赖，包括包与包的相互依赖</p></li><li><p><code>lerna version</code>
bump version。1.0.1 -&gt; 1.0.2 / 1.1.0 ...</p></li><li><p><code>lerna changed</code>
表示自上一个版本，有哪些package做了变更</p></li><li><p><code>lerna diff</code>
检查做出的修改，前提是有提交仓库或者有 <code>git commite</code></p></li><li><p><code>lerna publish</code></p><ul><li>发布时会自动执行：git add package-lock.json，所以package-lock.json不要加入.gitignore文件</li><li>先创建远程仓库，并且同步一次master分支</li><li>执行lerna publish前先完成npm login</li><li>如果发布的npm包名为：@xxx/yyy的格式，需要先在npm注册名为：xxx的organization，否则可能会提交不成功</li><li>发布到npm group时默认为private，所以我们需要手动在package.json中添加如下设置</li></ul><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token string-property property" style="color:#36acaa">&quot;publishConfig&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;access&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;public&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="lerna项目发布问题说明">lerna项目发布问题说明<a class="hash-link" href="#lerna项目发布问题说明" title="Direct link to heading">​</a></h3><p>在发布之前，确保已经初始化了git仓库</p><ol><li><p><code>lerna version</code>
<em><code>leran version</code> bump 版本号后，会提交到远程仓库，并在远程上产生一个tag。<code>leran version</code> 成功之后，是不能 <code>lerna publish</code> 发布成功的，会说没有修改</em></p></li><li><p><code>lerna publish</code></p><ul><li><p>如果要发布，不要先使用 <code>lerna version</code> 。提交完之后，直接使用 <code>lerna publish</code> 第一步就会 bump 版本号。</p></li><li><p><strong>删除多余或者调试产生的tag的方法</strong>，大胆调试发布流程</p><ul><li>先在远程上删除tag</li><li>在本地仓库根目录中，找到文件夹 <code>./git/refs/tags</code> 中删除之前在远程上删除的tag</li><li>接下来，就可以手动修改 <code>lerna.josn</code>中的version，使用一个没有发不过的较低的版本号 <code>lerna publish</code> 了</li></ul></li><li><p>使用 group 发布的包，默认情况都是私有的，publish不了。需要在 <code>package.json</code> 中追加配置</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;publishConfig&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;access&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;public&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p><code>lerna publish</code> 成功之后的日志</p><p><img loading="lazy" src="/FED-DOC/assets/images/publishSucc-01f2a30d00424ea769187d3221f14dad.png" width="1652" height="1450" class="img_E7b_"></p></li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="发布一个私有组织的npm包">发布一个私有组织的npm包<a class="hash-link" href="#发布一个私有组织的npm包" title="Direct link to heading">​</a></h3><p>创建npm Organazition， <code>pakage.json</code> 中 <code>name</code> 以 <code>@</code> 开头，说明是个 <code>group</code> ，需要先注册一个 <code>group</code> ，否则后面没法发布和获取</p><p><strong>添加 Organization</strong></p><ul><li>点击 add Organization</li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/add_organization-2178c1869ded16d6cb2f2b6b0650ffa1.jpg" width="1920" height="1080" class="img_E7b_"></p><ul><li><p>创建 group</p><p><img loading="lazy" src="/FED-DOC/assets/images/create_group-7fee682a92eed05ebcd9c14194193460.png" width="1154" height="1696" class="img_E7b_"></p></li><li><p>创建后，在packages中查看</p><p><img loading="lazy" src="/FED-DOC/assets/images/packages-cf8c645e4064dcf628c5091d059f23ab.png" width="3274" height="1410" class="img_E7b_"></p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Guing/FED-DOC/docs/19-体系/慕课网前端架构师/1-脚手架/2周 脚手架架构设计和框架搭建/05-Lerna基础-框架搭建.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/快速入门第一个脚手架"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">一、快速入门</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/FED-DOC/docs/体系/慕课网前端架构师/脚手架/2周 脚手架架构设计和框架搭建/lerna 源码分析"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">lerna 源码分析</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#优势" class="table-of-contents__link toc-highlight">优势</a></li><li><a href="#官网" class="table-of-contents__link toc-highlight">官网</a></li><li><a href="#案例" class="table-of-contents__link toc-highlight">案例</a></li><li><a href="#lerna开发脚手架流程重点" class="table-of-contents__link toc-highlight">lerna开发脚手架流程（重点）</a></li><li><a href="#脚手架项目初始化" class="table-of-contents__link toc-highlight">脚手架项目初始化</a></li><li><a href="#创建package" class="table-of-contents__link toc-highlight">创建package</a></li><li><a href="#脚手架开发和测试" class="table-of-contents__link toc-highlight">脚手架开发和测试</a></li><li><a href="#脚手架发布上线" class="table-of-contents__link toc-highlight">脚手架发布上线</a><ul><li><a href="#lerna-命令解释" class="table-of-contents__link toc-highlight">lerna 命令解释</a></li><li><a href="#lerna项目发布问题说明" class="table-of-contents__link toc-highlight">lerna项目发布问题说明</a></li><li><a href="#发布一个私有组织的npm包" class="table-of-contents__link toc-highlight">发布一个私有组织的npm包</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">笔记</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/FED-DOC/docs/intro">前端</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Guing" target="_blank" rel="noopener noreferrer" class="footer__link-item">关于我<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/FED-DOC/blog">博客</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 FED-DOCS, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/FED-DOC/assets/js/runtime~main.41d8161a.js"></script>
<script src="/FED-DOC/assets/js/main.c542093f.js"></script>
</body>
</html>