<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-体系/codewhy前端体系/JavaScript高级/深入JavaScript的运行原理">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/FED-DOC/blog/rss.xml" title="IT学习笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/FED-DOC/blog/atom.xml" title="IT学习笔记 Atom Feed"><title data-rh="true">深入JavaScript的运行原理 | IT学习笔记</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://guing.github.io/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/深入JavaScript的运行原理"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="深入JavaScript的运行原理 | IT学习笔记"><meta data-rh="true" name="description" content="JavaScript代码的引擎"><meta data-rh="true" property="og:description" content="JavaScript代码的引擎"><link data-rh="true" rel="icon" href="/FED-DOC/img/my.jpg"><link data-rh="true" rel="canonical" href="https://guing.github.io/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/深入JavaScript的运行原理"><link data-rh="true" rel="alternate" href="https://guing.github.io/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/深入JavaScript的运行原理" hreflang="en"><link data-rh="true" rel="alternate" href="https://guing.github.io/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/深入JavaScript的运行原理" hreflang="x-default"><link rel="stylesheet" href="/FED-DOC/assets/css/styles.5627add0.css">
<link rel="preload" href="/FED-DOC/assets/js/runtime~main.f856baaa.js" as="script">
<link rel="preload" href="/FED-DOC/assets/js/main.2f1773a1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/FED-DOC/"><div class="navbar__logo"><img src="/FED-DOC/img/my.jpg" alt="IT学习笔记" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/FED-DOC/img/my.jpg" alt="IT学习笔记" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">IT学习笔记</b></a><a class="navbar__item navbar__link navbar__link--active" href="/FED-DOC/docs/intro">前端</a><a class="navbar__item navbar__link" href="/FED-DOC/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Guing/FED-DOC" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/FED-DOC/docs/intro">前端学习笔记</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Html/MDN笔记/">Html</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Css/2021必修 CSS架构系统精讲/2-3 CSS设计模式/note">Css</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Vue/Nuxt-前端老张/笔记">Vue</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/React/React17系统精讲结合TS打造旅游电商平台2021/笔记/">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Nodejs/intro">Nodejs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/TypeScript/Typescript入门学习笔记/">TypeScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/小程序/codewhy前端体系-小程序/总结">小程序</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/浏览器/IndexedDB数据库/IndexedDB使用">浏览器</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/性能优化/vue-cli优化">性能优化</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/网络协议/intro">网络协议</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/工程化/intro">工程化</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/单元测试/intro">单元测试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/构建工具/webpack基础使用">构建工具</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/安全/intro">安全</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/算法/300分钟搞定数据结构与算法/">算法</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/移动端/intro">移动端</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/FED-DOC/docs/体系/codewhy前端体系/HTML与CSS/整体大纲">体系</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/HTML与CSS/整体大纲">codewhy前端体系</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/HTML与CSS/整体大纲">HTML与CSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript基础/JavaScript基础">JavaScript基础</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/JavaScript高级-this指向">JavaScript高级</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/JavaScript高级-this指向">JavaScript高级-this指向</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/深入浏览器的渲染原理">深入浏览器的渲染原理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/深入JavaScript的运行原理">深入JavaScript的运行原理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/JavaScript内存管理和闭包">JavaScript内存管理和闭包</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/JavaScript函数的增强知识">JavaScript函数的增强知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/JavaScript对象的增强知识">JavaScript对象的增强知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/JavaScript ES5实现继承">JavaScript ES5实现继承</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/JavaScript ES6实现继承">JavaScript ES6实现继承</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/ES6~ES13新特性（一）">ES6~ES13新特性（一）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/ES6~ES13新特性（二）">ES6~ES13新特性（二）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/ES6~ES13新特性（三）">ES6~ES13新特性（三）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/Proxy-Reflect详解">Proxy-Reflect详解</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/Promise用法详解">Promise用法详解</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/Iterator-迭代器">Iterator-迭代器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/Generator-生成器">Generator-生成器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/异步处理-async-await">异步处理-async-await</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/浏览器-宏任务与微任务">浏览器-宏任务与微任务</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/Error-错误处理方案">Error-错误处理方案</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/storage和正则表达式">storage和正则表达式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/正则表达式">正则表达式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/JavaScript网络编程">JavaScript网络编程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/防抖-节流-深拷贝-事件总线">防抖-节流-深拷贝-事件总线</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript实战框架应用/邂逅jQuery、属性和DOM操作">JavaScript实战框架应用</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/前端工程化+Node+模块化+webpack+Git/邂逅Node.js开发">前端工程化+Node+模块化+webpack+Git</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/阶段十四-Node服务器高级开发/Node跨域">阶段十四-Node服务器高级开发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/理解source-map">Webpack+Gulp+Vite+Rollup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/就业指导/高级前端会问到的问题">就业指导</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/需求/1周 需求分析和架构设计/乐高架构方案设计文档">慕课网前端架构师</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/面试/webpack面试题/">面试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Go/资深go开发工程师/基础">Go</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/FED-DOC/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">体系</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">codewhy前端体系</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">JavaScript高级</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">深入JavaScript的运行原理</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>深入JavaScript的运行原理</h1></header><h2 class="anchor anchorWithStickyNavbar_mojV" id="javascript代码的引擎"><strong>JavaScript代码的引擎</strong><a class="hash-link" href="#javascript代码的引擎" title="Direct link to heading">​</a></h2><ul><li><strong>JavaScript代码下载好之后，是如何一步步被执行的呢？</strong></li><li><strong>我们知道，浏览器内核是由两部分组成的，以webkit为例：</strong></li><li>WebCore<strong>：</strong>负责HTML解析、布局、渲染等等相关的工作；</li><li>JavaScriptCore<strong>：</strong>解析、执行JavaScript代码；</li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.014-f28cc84f47b248e705ee084b06cf13d0.png" width="737" height="272" class="img_E7b_"></p><ul><li><strong>另外一个强大的JavaScript引擎就是V8引擎。</strong></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="v8引擎的执行原理"><strong>V8引擎的执行原理</strong><a class="hash-link" href="#v8引擎的执行原理" title="Direct link to heading">​</a></h2><ul><li><strong>我们来看一下官方对V8引擎的定义：</strong><ul><li>V8是用C ++编写的Google开源高性能JavaScript和WebAssembly引擎，它用于Chrome和Node.js等。</li><li>它实现<a href="https://tc39.es/ecma262/" target="_blank" rel="noopener noreferrer">ECMAScript</a>和<a href="https://webassembly.github.io/spec/core/" target="_blank" rel="noopener noreferrer">WebAssembly</a>，并在Windows 7或更高版本，macOS 10.12+和使用x64，IA-32，ARM或MIPS处理 器的Linux系统上运行。</li><li>V8可以独立运行，也可以嵌入到任何C ++应用程序中。</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.015-0c0f77e881c7b0ee4bc0ee7b85501219.jpeg" width="1181" height="283" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="v8引擎的架构"><strong>V8引擎的架构</strong><a class="hash-link" href="#v8引擎的架构" title="Direct link to heading">​</a></h3><ul><li><p>V8引擎本身的源码<strong>非常复杂</strong>，大概有超过<strong>100w行C++代码</strong></p></li><li><p>通过了解它的架构，我们可以知道它是如何对JavaScript执行的：</p></li><li><p>Parse模块</p><ul><li>Parse模块会将JavaScript代码转换成AST（抽象语法树），这是因为解释器并不直接认识JavaScript代码；</li><li>如果函数没有被调用，那么是不会被转换成AST的；</li><li>Parse的V8官方文档：http<a href="https://v8.dev/blog/scanner" target="_blank" rel="noopener noreferrer">s://v8.dev/blog/scanner</a></li></ul></li><li><p>Ignition解释器</p><ul><li>会将AST转换成ByteCode（字节码）</li><li>同时会收集TurboFan优化所需要的信息（比如函数参数的类型信息，有了类型才能进行真实的运算）；</li><li>如果函数只调用一次，Ignition会解释执行ByteCode；</li><li>Ignition的V8官方文档：https<a href="https://v8.dev/blog/ignition-interpreter" target="_blank" rel="noopener noreferrer">://v8.dev/blog/ignition-interpreter</a></li></ul></li><li><p>TurboFan编译器</p><ul><li><p>可以将字节码编译为CPU可以直接执行的机器码；</p></li><li><p>如果一个函数被多次调用，那么就会被标记为热点函数，那么就会经过TurboFan转换成优化的机器码，提高代码的执行性能；</p></li><li><p>但是，机器码实际上也会被还原为ByteCode</p><ul><li>这是因为如果后续执行函数的过程中，类型发生了变化（比如sum函数原来执 行的是number类型，后来执行变成了string类型），之前优化的机器码并不能正确的处理运算，就会逆向的转换成字节码；</li></ul></li><li><p>TurboFan的V8官方文档：https<a href="https://v8.dev/blog/turbofan-jit" target="_blank" rel="noopener noreferrer">://v8.dev/blog/turbofan-jit</a></p></li></ul></li></ul><p><strong>所以在了解TurboFan编译器时，我们写函数时，尽量使用同一个类型的参数或者使用typescript时，就可以加快代码的执行效率</strong></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="v8引擎的解析图官方"><strong>V8引擎的解析图（官方）</strong><a class="hash-link" href="#v8引擎的解析图官方" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.016-76a5ac666404858b79ee8cfac9673f14.jpeg" width="891" height="437" class="img_E7b_"></p><ul><li><p><strong>词法分析（英文lexical analysis）</strong></p><ul><li><p>将字符序列转换成token序列 的过程。</p></li><li><p>token是<strong>记号化</strong>（tokenization）的缩写</p></li><li><p><strong>词法分析器</strong>（lexical analyzer，简称lexer），也 叫<strong>扫描器</strong>（scanner）</p></li></ul></li></ul><ul><li><p><strong>语法分析（英语：syntactic analysis，也叫 parsing）</strong></p><ul><li><strong>语法分析器也可以称之为</strong> parser。</li></ul></li><li><p>一行代码，比如<code>var num = 10</code></p><ul><li>先通过词法分析，也就是将<code>var</code>,<code>num</code>,<code>=</code>,<code>10</code>这些分组</li><li>然后再通过语法分析，也就是分析其中的语法含义，比如找到<code>var</code>，那就这一行代码就是声明变量。</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="v8引擎的解析图"><strong>V8引擎的解析图</strong><a class="hash-link" href="#v8引擎的解析图" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.017-9977bf54a4b3c34c1a6788e1435ee25c.jpeg" width="1190" height="500" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="javascript的执行原理"><strong>JavaScript的执行原理</strong><a class="hash-link" href="#javascript的执行原理" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="javascript代码执行原理---版本说明"><strong>JavaScript代码执行原理 - 版本说明</strong><a class="hash-link" href="#javascript代码执行原理---版本说明" title="Direct link to heading">​</a></h3><ul><li><p><strong>在ECMA早期的版本中（ECMAScript3），代码的执行流程的术语和ECMAScript5以及之后的术语会有所区别：</strong></p><ul><li><p>目前网上大多数流行的说法都是基于ECMAScript3版本的解析 ，并且在面试时问到的大多数都是ECMAScript3的版本内容。</p></li><li><p>但是ECMAScript3终将过去， ECMAScript5必然会成为主流 ，所以最好也理解ECMAScript5甚至包括ECMAScript6以及更好版本的内容；</p></li><li><p>事实上在TC39（ ECMAScript5 ）的最新描述中，和ECMAScript5之后的版本又出现了一定的差异；</p></li></ul></li></ul><ul><li><p><strong>那么我们课程按照如下顺序学习：</strong></p><ul><li>通过ECMAScript3中的概念学习JavaScript执行原理、作用域、作用域链、闭包等概念；</li><li>通过ECMAScript5中的概念学习块级作用域、let、const等概念；</li></ul></li><li><p><strong>事实上，它们只是在对某些概念上的描述不太一样，在整体思路上都是一致的。</strong></p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="javascript的执行过程"><strong>JavaScript的执行过程</strong><a class="hash-link" href="#javascript的执行过程" title="Direct link to heading">​</a></h3><ul><li>假如我们有下面一段代码，它在JavaScript中是如何被执行的呢？</li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.018-a6c33732311dc907d09ee1091296151f.png" width="406" height="417" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="初始化全局对象"><strong>初始化全局对象</strong><a class="hash-link" href="#初始化全局对象" title="Direct link to heading">​</a></h3><ul><li>js引擎会在执行代码之前，会在堆内存中创建一个全局对象：Global Object（GO）</li><li>该对象 所有的作用域（scope）都可以访问；</li><li>里面会包含Date、Array、String、Number、setTimeout、setInterval等等；</li><li>其中还有一个window属性指向自己；</li></ul><p><code> </code><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.019-2a6414c03a2c9402372f8992decb7e45.png" width="462" height="374" class="img_E7b_"><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.020-862799062dad664b857f2b739c862b4d.png" width="714" height="154" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="执行上下文-execution-contexts-"><strong>执行上下文（ Execution Contexts ）</strong><a class="hash-link" href="#执行上下文-execution-contexts-" title="Direct link to heading">​</a></h3><ul><li>js引擎内部有一个<strong>执行上下文栈（Execution Context Stack，简称ECS）</strong>，它是用于执行代码的调用栈。</li><li>那么现在它要执行谁呢？执行的是<strong>全局的代码块</strong>：<ul><li>全局的代码块为了执行会构建一个<strong>Global Execution Context（GEC）</strong>；</li><li>GEC会 被放入到ECS中 执行；</li></ul></li></ul><ul><li><p><strong>GEC被放入到ECS中里面包含两部分内容：</strong></p><ul><li><strong>第一部分：</strong>在代码执行前，在parser转成AST的过程中，会将全局定义的变量、函数等加入到GlobalObject中，但是并不会 赋值；<ul><li>这个过程也称之为变量的<strong>作用域提升（hoisting）</strong></li></ul></li></ul></li></ul><ul><li><strong>第二部分：</strong>在代码执行中，对变量赋值，或者执行其他的函数；</li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.021-3a03946eb31b0b6d1e69ef73394e14fb.png" width="970" height="108" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="认识vo对象variable-object"><strong>认识VO对象（Variable Object）</strong><a class="hash-link" href="#认识vo对象variable-object" title="Direct link to heading">​</a></h3><ul><li><strong>每一个执行上下文会关联一个VO（Variable Object，变量对象），变量和函数声明会被添加到这个VO对象中。</strong></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.022-2ff324ef8b14e4293ddebc93d451d4c1.png" width="1027" height="86" class="img_E7b_"></p><ul><li><strong>当全局代码被执行的时候，VO就是GO对象了</strong></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.023-eafe750ad04c7092bb0e5fc0cbe50ab0.png" width="979" height="152" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="全局代码执行过程执行前"><strong>全局代码执行过程（执行前）</strong><a class="hash-link" href="#全局代码执行过程执行前" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.024-06a6b966123d8cf59751bf0905073dae.jpeg" width="1126" height="572" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="全局代码执行过程执行后"><strong>全局代码执行过程（执行后）</strong><a class="hash-link" href="#全局代码执行过程执行后" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.025-d5b303529534930f63a7f64021c4ba1b.jpeg" width="1201" height="572" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="函数如何被执行呢"><strong>函数如何被执行呢？</strong><a class="hash-link" href="#函数如何被执行呢" title="Direct link to heading">​</a></h3><ul><li>在执行的过程中<strong>执行到一个函数时</strong>，就会根据<strong>函数体</strong>创建一个<strong>函数执行上下文（Functional Execution Context，简称FEC）</strong>，并且压入到<strong>EC Stack</strong>中。</li></ul><ul><li><p><strong>因为每个执行上下文都会关联一个VO，那么函数执行上下文关联的VO是什么呢？</strong></p><ul><li>当进入一个函数执行上下文时，会创建一个AO对象（Activation Object）；</li><li>这个AO对象会使用arguments作为初始化，并且初始值是传入的参数；</li><li>这个AO对象会作为执行上下文的VO来存放变量的初始化；</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.026-e52a84c3efe6cee4c9721caeb67542af.png" width="1056" height="158" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="函数的执行过程执行前"><strong>函数的执行过程（执行前）</strong><a class="hash-link" href="#函数的执行过程执行前" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.027-b1d81cc0f1fc04b7089f048d7b81190f.jpeg" width="1246" height="504" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="函数的执行过程执行后"><strong>函数的执行过程（执行后）</strong><a class="hash-link" href="#函数的执行过程执行后" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.028-d275b051e22f5c0e3085ae7305f96685.jpeg" width="1147" height="572" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="作用域和作用域链scope-chain"><strong>作用域和作用域链（Scope Chain）</strong><a class="hash-link" href="#作用域和作用域链scope-chain" title="Direct link to heading">​</a></h2><ul><li><p><strong>当进入到一个执行上下文时，执行上下文也会关联一个作用域链（Scope Chain）</strong></p><ul><li>作用域链是一个对象列表，用于变量标识符的求值；</li><li>当进入一个执行上下文时，这个作用域链被创建，并且根据代码类型，添加一系列的对象；</li></ul></li><li><p><strong>注意：作用域链的创建，是在函数声明的时候确定的，而不是在函数调用的时候。</strong></p></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.029-8f72fca8e6f1b26fe5ae8426f7b4d7c7.png" width="930" height="123" class="img_E7b_"></p><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.030-3857c7c08e53d88ee4c6cb07c34ebff8.png" width="286" height="258" class="img_E7b_"> <img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.77779478-4789-41fd-95da-692768ae6395.031-adf367636fb808749f5fa98be1d14ea4.png" width="422" height="152" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="自己的总结">自己的总结<a class="hash-link" href="#自己的总结" title="Direct link to heading">​</a></h2><ul><li><p>js引擎在执行代码之前，会将代码进行转化成字节码再执行，在转化的这个阶段，会先提取变量声明，函数声明，但是并不会赋值</p><ul><li>这就是变量声明提升和函数声明提升，所以函数能在函数声明之前执行</li><li>函数声明先于变量声明，所以如果两个同名的话，变量声明会覆盖掉函数声明。</li></ul></li><li><p>js引擎在代码执行之前，会先创建一个global object，这个全局对象包括内置对象，函数等，比如Math,String,setTimeout等，也包括全局声明的变量与函数</p></li><li><p>接着，JS会创建一个堆空间，和一个执行上下文栈（Execution context stack）</p></li><li><p>全局代码开始执行时，会创建一个全局的执行上下文（global Execution context）,并压入到执行上下文栈中</p></li><li><p>每一个执行上下文都会关联一个变量对象（Variable Object），这个VO对象，会保存变量声明和函数声明。</p><ul><li>全局执行上下文关联的VO对象，其实就是全局对象。</li></ul></li><li><p>接着代码继续执行，如果变量赋值等，会修改VO对象保存的变量值。如果遇到函数执行，则会创建一个函数执行的上下文（Functional Execution context）,并压入到执行上下文栈中</p></li><li><p>函数执行上下文创建的时候，也会创建一个新的VO对象，这个VO对象也叫做（Activation Object），这个AO对象也是会保存变量声明和函数声明</p></li><li><p>当函数执行完时，函数执行上下文就会出栈，对应的VO对象如果没有特殊情况下则会被垃圾回收销毁。</p></li><li><p>当函数声明时，还会创建一个作用域链对象数组，保存了函数在声明时，对应的上级作用域</p><ul><li>在chrome浏览器下，可以通过watch一个函数，查看函数的[<!-- -->[scope]<!-- -->]属性，会有相应的作用域对象。如果没有找到，可以使用闭包，因为chrome内核做了一些优化。如果没有引用变量，则移除上层作用域对象。</li><li>作用域链是在函数声明的时候就已经确定了，和函数调用是没有关系的。</li></ul></li><li><p>当函数里的变量开始查找时，会先查找本身的VO对象，如果查找不到，再通过作用域链一层层往上查找</p></li><li><p>其他一些特殊情况</p><ul><li>多层函数嵌套声明时，只有当函数执行时，内部嵌套的函数声明才会被提取。因为根本就没有执行，不知道函数内部是什么。</li><li>使用<code>message = 123</code>,<code>var a = b = 123</code>时，<code>message</code>,&#x27;b&#x27;会隐式地变为全局变量，就算在函数内部也是。</li><li>在函数内部renturn语句后，添加变量声明，这个变量声明也是会提升。因为在代码解析时，这个return根本不起作用，所以不管。return是在执行代码时才有用。</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="作用域提升面试题"><strong>作用域提升面试题</strong><a class="hash-link" href="#作用域提升面试题" title="Direct link to heading">​</a></h2><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 1.面试题一:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 2.面试题二:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//undefined</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 3.面试题三:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">foo1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">foo2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">foo1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">foo2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">//在函数内部renturn语句后，添加变量声明，这个变量声明也是会提升。因为在代码解析时，这个return根本不起作用，所以不管。return是在执行代码时才有用。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 4.面试题四:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//undefined</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//使用`message = 123`,`var a = b = 123`时，`message`,&#x27;b&#x27;会隐式地变为全局变量，就算在函数内部也是</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 5.在开发中可能会出现这样错误的写法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        message </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Hello World&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//&#x27;Hello World&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 6.面试题五:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//100</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="作业">作业<a class="hash-link" href="#作业" title="Direct link to heading">​</a></h2><h6 class="anchor anchorWithStickyNavbar_mojV" id="三-说出浏览器输入一个url到页面显示的过程">三. 说出浏览器输入一个URL到页面显示的过程<a class="hash-link" href="#三-说出浏览器输入一个url到页面显示的过程" title="Direct link to heading">​</a></h6><h6 class="anchor anchorWithStickyNavbar_mojV" id="四-说说async和defer的使用以及区别">四. 说说async和defer的使用以及区别<a class="hash-link" href="#四-说说async和defer的使用以及区别" title="Direct link to heading">​</a></h6><h6 class="anchor anchorWithStickyNavbar_mojV" id="五-写出v8引擎执行代码的大致流程">五. 写出v8引擎执行代码的大致流程<a class="hash-link" href="#五-写出v8引擎执行代码的大致流程" title="Direct link to heading">​</a></h6></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Guing/FED-DOC/docs/19-体系/codewhy前端体系/03-JavaScript高级/03-深入JavaScript的运行原理.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/深入浏览器的渲染原理"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">深入浏览器的渲染原理</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/JavaScript内存管理和闭包"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">JavaScript内存管理和闭包</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#javascript代码的引擎" class="table-of-contents__link toc-highlight"><strong>JavaScript代码的引擎</strong></a></li><li><a href="#v8引擎的执行原理" class="table-of-contents__link toc-highlight"><strong>V8引擎的执行原理</strong></a><ul><li><a href="#v8引擎的架构" class="table-of-contents__link toc-highlight"><strong>V8引擎的架构</strong></a></li><li><a href="#v8引擎的解析图官方" class="table-of-contents__link toc-highlight"><strong>V8引擎的解析图（官方）</strong></a></li><li><a href="#v8引擎的解析图" class="table-of-contents__link toc-highlight"><strong>V8引擎的解析图</strong></a></li></ul></li><li><a href="#javascript的执行原理" class="table-of-contents__link toc-highlight"><strong>JavaScript的执行原理</strong></a><ul><li><a href="#javascript代码执行原理---版本说明" class="table-of-contents__link toc-highlight"><strong>JavaScript代码执行原理 - 版本说明</strong></a></li><li><a href="#javascript的执行过程" class="table-of-contents__link toc-highlight"><strong>JavaScript的执行过程</strong></a></li><li><a href="#初始化全局对象" class="table-of-contents__link toc-highlight"><strong>初始化全局对象</strong></a></li><li><a href="#执行上下文-execution-contexts-" class="table-of-contents__link toc-highlight"><strong>执行上下文（ Execution Contexts ）</strong></a></li><li><a href="#认识vo对象variable-object" class="table-of-contents__link toc-highlight"><strong>认识VO对象（Variable Object）</strong></a></li><li><a href="#全局代码执行过程执行前" class="table-of-contents__link toc-highlight"><strong>全局代码执行过程（执行前）</strong></a></li><li><a href="#全局代码执行过程执行后" class="table-of-contents__link toc-highlight"><strong>全局代码执行过程（执行后）</strong></a></li><li><a href="#函数如何被执行呢" class="table-of-contents__link toc-highlight"><strong>函数如何被执行呢？</strong></a></li><li><a href="#函数的执行过程执行前" class="table-of-contents__link toc-highlight"><strong>函数的执行过程（执行前）</strong></a></li><li><a href="#函数的执行过程执行后" class="table-of-contents__link toc-highlight"><strong>函数的执行过程（执行后）</strong></a></li></ul></li><li><a href="#作用域和作用域链scope-chain" class="table-of-contents__link toc-highlight"><strong>作用域和作用域链（Scope Chain）</strong></a></li><li><a href="#自己的总结" class="table-of-contents__link toc-highlight">自己的总结</a></li><li><a href="#作用域提升面试题" class="table-of-contents__link toc-highlight"><strong>作用域提升面试题</strong></a></li><li><a href="#作业" class="table-of-contents__link toc-highlight">作业</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">笔记</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/FED-DOC/docs/intro">前端</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Guing" target="_blank" rel="noopener noreferrer" class="footer__link-item">关于我<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/FED-DOC/blog">博客</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 FED-DOCS, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/FED-DOC/assets/js/runtime~main.f856baaa.js"></script>
<script src="/FED-DOC/assets/js/main.2f1773a1.js"></script>
</body>
</html>