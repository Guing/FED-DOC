<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/深入解析Babel使用">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/FED-DOC/blog/rss.xml" title="IT学习笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/FED-DOC/blog/atom.xml" title="IT学习笔记 Atom Feed"><title data-rh="true">深入解析Babel使用 | IT学习笔记</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://guing.github.io/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/深入解析Babel使用"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="深入解析Babel使用 | IT学习笔记"><meta data-rh="true" name="description" content="总结"><meta data-rh="true" property="og:description" content="总结"><link data-rh="true" rel="icon" href="/FED-DOC/img/my.jpg"><link data-rh="true" rel="canonical" href="https://guing.github.io/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/深入解析Babel使用"><link data-rh="true" rel="alternate" href="https://guing.github.io/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/深入解析Babel使用" hreflang="en"><link data-rh="true" rel="alternate" href="https://guing.github.io/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/深入解析Babel使用" hreflang="x-default"><link rel="stylesheet" href="/FED-DOC/assets/css/styles.5627add0.css">
<link rel="preload" href="/FED-DOC/assets/js/runtime~main.cb11828d.js" as="script">
<link rel="preload" href="/FED-DOC/assets/js/main.b59e18dd.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/FED-DOC/"><div class="navbar__logo"><img src="/FED-DOC/img/my.jpg" alt="IT学习笔记" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/FED-DOC/img/my.jpg" alt="IT学习笔记" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">IT学习笔记</b></a><a class="navbar__item navbar__link navbar__link--active" href="/FED-DOC/docs/intro">前端</a><a class="navbar__item navbar__link" href="/FED-DOC/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Guing/FED-DOC" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/FED-DOC/docs/intro">前端学习笔记</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Html/MDN笔记/">Html</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Css/2021必修 CSS架构系统精讲/2-3 CSS设计模式/note">Css</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Vue/Nuxt-前端老张/笔记">Vue</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/React/React17系统精讲结合TS打造旅游电商平台2021/笔记/">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Nodejs/intro">Nodejs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/TypeScript/Typescript入门学习笔记/">TypeScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/小程序/codewhy前端体系-小程序/总结">小程序</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/浏览器/IndexedDB数据库/IndexedDB使用">浏览器</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/性能优化/vue-cli优化">性能优化</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/网络协议/intro">网络协议</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/工程化/intro">工程化</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/单元测试/intro">单元测试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/构建工具/webpack基础使用">构建工具</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/安全/intro">安全</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/算法/300分钟搞定数据结构与算法/">算法</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/移动端/intro">移动端</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/FED-DOC/docs/体系/codewhy前端体系/HTML与CSS/整体大纲">体系</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/HTML与CSS/整体大纲">codewhy前端体系</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/HTML与CSS/整体大纲">HTML与CSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript基础/JavaScript基础">JavaScript基础</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/JavaScript高级-this指向">JavaScript高级</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript实战框架应用/邂逅jQuery、属性和DOM操作">JavaScript实战框架应用</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/前端工程化+Node+模块化+webpack+Git/邂逅Node.js开发">前端工程化+Node+模块化+webpack+Git</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Vue3全家桶实战/邂逅Vue.js开发">Vue3全家桶实战</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/TypeScript开发实战/邂逅TypeScript语法">TypeScript开发实战</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Vue3+TS后台管理系统/项目规范+prettier+eslint+editconfig">Vue3+TS后台管理系统</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/阶段十四-Node服务器高级开发/Node跨域">阶段十四-Node服务器高级开发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/理解source-map">Webpack+Gulp+Vite+Rollup</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/理解source-map">理解source-map</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/深入解析Babel使用">深入解析Babel使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack性能优化方案">webpack性能优化方案</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack性能优化方案（二）">webpack性能优化方案（二）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack自定义loader">webpack自定义loader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack自定义Plugin">webpack自定义Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/自动化工具gulp">自动化工具gulp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/rollup工具使用">rollup工具使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/快速开发vite工具">快速开发vite工具</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack源码解析">webpack源码解析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/开发自己的脚手架">开发自己的脚手架</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/就业指导/高级前端会问到的问题">就业指导</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/需求/1周 需求分析和架构设计/乐高架构方案设计文档">慕课网前端架构师</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/面试/webpack面试题/">面试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Go/资深go开发工程师/基础">Go</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/FED-DOC/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">体系</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">codewhy前端体系</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Webpack+Gulp+Vite+Rollup</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">深入解析Babel使用</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>深入解析Babel使用</h1></header><h2 class="anchor anchorWithStickyNavbar_mojV" id="总结">总结<a class="hash-link" href="#总结" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="babel的作用">babel的作用<a class="hash-link" href="#babel的作用" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithStickyNavbar_mojV" id="babel命令行">babel命令行<a class="hash-link" href="#babel命令行" title="Direct link to heading">​</a></h3><ul><li>plugin</li><li>preset</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="babel底层原理">babel底层原理<a class="hash-link" href="#babel底层原理" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithStickyNavbar_mojV" id="preset-env的使用">preset-env的使用<a class="hash-link" href="#preset-env的使用" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithStickyNavbar_mojV" id="浏览器兼容性问题">浏览器兼容性问题<a class="hash-link" href="#浏览器兼容性问题" title="Direct link to heading">​</a></h3><ul><li>browerslist工具</li><li>targets(很少)</li><li>stage-x</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="babel的配置文件">babel的配置文件<a class="hash-link" href="#babel的配置文件" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithStickyNavbar_mojV" id="babel和polyfill使用">babel和polyfill使用<a class="hash-link" href="#babel和polyfill使用" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithStickyNavbar_mojV" id="babel对react的支持">babel对react的支持<a class="hash-link" href="#babel对react的支持" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithStickyNavbar_mojV" id="webpack对typescript支持">webpack对typescript支持<a class="hash-link" href="#webpack对typescript支持" title="Direct link to heading">​</a></h3><ul><li>ts-loader<ul><li>会进行类型检测,类似于polyfill无能为力</li></ul></li><li>babel-loader<ul><li>可以使用polyfill, 但是不会类型检测</li></ul></li><li>结合使用:<ul><li>打包代码使用babel-loader</li><li>开发阶段 tsc --noEmit --watch监听类型错误</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="为什么需要babel"><strong>为什么需要babel？</strong><a class="hash-link" href="#为什么需要babel" title="Direct link to heading">​</a></h2><ul><li><p>事实上，在开发中我们很少直接去接触babel，但是babel对于前端开发来说，目前是不可缺少的一部分：</p><ul><li>开发中，我们想要使用ES6+的语法，想要使用TypeScript，开发React项目，它们都是离不开Babel的；</li><li>所以，学习Babel对于我们理解代码从编写到线上的转变过程至关重要；</li><li>了解真相，你才能获得真正的自由！</li></ul></li><li><p>那么，Babel到底是什么呢？</p><ul><li>Babel是一个工具链，主要用于旧浏览器将ECMAScript 2015+代码转换为向后兼容版本的JavaScript；</li><li>包括：语法转换、源代码转换、Polyfill实现目标环境缺少的功能等；</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.014-620ed365557c98be4d6a6b1c239bd556.png" width="411" height="167" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="babel命令行使用"><strong>Babel命令行使用</strong><a class="hash-link" href="#babel命令行使用" title="Direct link to heading">​</a></h2><ul><li>babel本身可以作为一个独立的工具（和postcss一样），不和webpack等构建工具配置来单独使用。</li><li>如果我们希望在命令行尝试使用babel，需要安装如下库：<ul><li><strong>@babel/core</strong>：babel的核心代码，必须安装；</li><li><strong>@babel/cli</strong>：可以让我们在命令行使用babel；</li><li><code>npm install @babel/cli @babel/core</code></li></ul></li></ul><ul><li>使用babel来处理我们的源代码：<ul><li>src：是源文件的目录；</li><li>--out-dir：指定要输出的文件夹dist；</li><li><code>npx babel src --out-dir dist</code></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="babel插件的使用"><strong>Babel插件的使用</strong><a class="hash-link" href="#babel插件的使用" title="Direct link to heading">​</a></h2><ul><li>比如我们需要转换箭头函数，那么我们就可以使用箭头函数转换相关的插件：</li></ul><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> @babel/plugin-transform-arrow-functions -D</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx babel src --out-dir dist --plugins</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">@babel/plugin-transform-arrow-functions</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li>查看转换后的结果：我们会发现 const 并没有转成 var<ul><li>这是因为 plugin-transform-arrow-functions，并没有提供这样的功能；</li><li>我们需要使用 plugin-transform-block-scoping 来完成这样的功能；</li></ul></li></ul><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> @babel/plugin-transform-block-scoping -D </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx babel src --out-dir dist --plugins</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">@babel/plugin-transform-block-scoping,@babel/plugin-transform-arrow-functions</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="babel的预设preset"><strong>Babel的预设preset</strong><a class="hash-link" href="#babel的预设preset" title="Direct link to heading">​</a></h2><ul><li>但是如果要转换的内容过多，一个个设置是比较麻烦的，我们可以使用预设（preset）：</li><li><strong>安装@babel/preset-env预设：</strong></li></ul><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> @babel/preset-env -D</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx babel src --out-dir dist --presets</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">@babel/preset-env</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="babel的底层原理"><strong>Babel的底层原理</strong><a class="hash-link" href="#babel的底层原理" title="Direct link to heading">​</a></h2><ul><li><p>babel是如何做到将我们的一段代码（ES6、TypeScript、React）转成另外一段代码（ES5）的呢？</p><ul><li>从一种源代码（原生语言）转换成另一种源代码（目标语言），这是什么的工作呢？</li><li>就是编译器，事实上我们可以将babel看成就是一个编译器。</li><li>Babel编译器的作用就是将我们的源代码，转换成浏览器可以直接识别的另外一段源代码；</li></ul></li><li><p>Babel也拥有编译器的工作流程：</p><ul><li><strong>解析阶段（Parsing）</strong></li><li><strong>转换阶段（Transformation）</strong></li><li><strong>生成阶段（Code Generation）</strong></li></ul></li><li><p>一个使用JS写的优秀的小型编译器：<a href="https://github.com/jamiebuilds/the-super-tiny-compiler" target="_blank" rel="noopener noreferrer">https://github.com/jamiebuilds/the-super-tiny-compiler</a></p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="babel编译器执行原理"><strong>babel编译器执行原理</strong><a class="hash-link" href="#babel编译器执行原理" title="Direct link to heading">​</a></h3><ul><li>Babel的执行阶段</li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.023-1863105700d43255f2f63bff1433aa69.png" width="870" height="144" class="img_E7b_"></p><ul><li>当然，这只是一个简化版的编译器工具流程，在每个阶段又会有自己具体的工作：</li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.024-0ab4c26782619f08bb2ae38a74bf187c.png" width="1129" height="252" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="webpack配置babel">Webpack配置babel<a class="hash-link" href="#webpack配置babel" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="babel-loader"><strong>babel-loader</strong><a class="hash-link" href="#babel-loader" title="Direct link to heading">​</a></h3><ul><li>在实际开发中，我们通常会在构建工具中通过配置babel来对其进行使用的，比如在webpack中。<ul><li>那么我们就需要去安装相关的依赖：<code>npm install babel-loader @babel/core</code></li><li>我们可以设置一个规则，在加载js文件时，使用我们的babel：</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.026-4cdd27e9cf893647eb295f1ff8bbc800.png" width="384" height="286" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="babel插件"><strong>babel插件</strong><a class="hash-link" href="#babel插件" title="Direct link to heading">​</a></h3><ul><li>我们必须指定使用的插件才会生效</li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.027-8fc7dea248b7eea4894e52c00bf9be27.jpeg" width="676" height="385" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="babel预设"><strong>babel预设</strong><a class="hash-link" href="#babel预设" title="Direct link to heading">​</a></h3><ul><li><p>如果我们一个个去安装使用插件，那么需要手动来管理大量的babel插件，我们可以直接给webpack提供一个preset， webpack会根据我们的预设来加载对应的插件列表，并且将其传递给babel。</p></li><li><p>比如常见的预设有三个：</p><ul><li><strong>env</strong></li><li><strong>react</strong> </li><li><strong>TypeScript</strong> </li></ul></li><li><p>安装preset-env： </p><ul><li><code>npm install @babel/preset-env </code></li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.028-ed0f219a4c1d8f9390bba210aab37807.png" width="369" height="312" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browserslist的使用">browserslist的使用<a class="hash-link" href="#browserslist的使用" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="浏览器兼容性"><strong>浏览器兼容性</strong><a class="hash-link" href="#浏览器兼容性" title="Direct link to heading">​</a></h3><ul><li>我们来思考一个问题：开发中，浏览器的兼容性问题，我们应该如何去解决和处理？<ul><li>当然这个问题很笼统，这里我说的兼容性问题不是指屏幕大小的变化适配；</li><li>我这里指的兼容性是针对不同的浏览器支持的特性：比如css特性、js语法之间的兼容性；</li></ul></li><li>我们知道市面上有大量的浏览器：<ul><li>有Chrome、Safari、IE、Edge、Chrome for Android、UC Browser、QQ Browser等等；</li><li>它们的市场占率是多少？我们要不要兼容它们呢？</li></ul></li><li>其实在很多的脚手架配置中，都能看到类似于这样的配置信息：<ul><li>这里的百分之一，就是指市场占有率</li></ul></li></ul><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">% </span><span class="token comment" style="color:#999988;font-style:italic">#市场占用率大于百分之一</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">last </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> versions </span><span class="token comment" style="color:#999988;font-style:italic">#最新两个版本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">not dead  </span><span class="token comment" style="color:#999988;font-style:italic">#还在维护的</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="浏览器市场占有率"><strong>浏览器市场占有率</strong><a class="hash-link" href="#浏览器市场占有率" title="Direct link to heading">​</a></h3><ul><li><p>但是在哪里可以查询到浏览器的市场占有率呢？</p><ul><li>这个最好用的网站，也是我们工具通常会查询的一个网站就是caniuse；</li></ul></li><li><p><a href="https://caniuse.com/usage-table" target="_blank" rel="noopener noreferrer">https://caniuse.com/usage-table</a></p></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.031-c10cf10f8f38b3f54d953358c6363226.jpeg" width="926" height="409" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="认识browserslist工具"><strong>认识browserslist工具</strong><a class="hash-link" href="#认识browserslist工具" title="Direct link to heading">​</a></h3><ul><li><p>但是有一个问题，我们如何可以在css兼容性和js兼容性下共享我们配置的兼容性条件呢？</p><ul><li>就是当我们设置了一个条件： &gt; 1%；</li><li>我们表达的意思是css要兼容市场占有率大于1%的浏览器，js也要兼容市场占有率大于1%的浏览器；</li><li>如果我们是通过工具来达到这种兼容性的，比如我们讲到的postcss-preset-env、babel、autoprefixer等</li></ul></li><li><p>如何可以让他们共享我们的配置呢？</p><ul><li>这个问题的答案就是<strong>Browserslist</strong>；</li><li><strong>Browserslist</strong>是什么？<ul><li><strong>Browserslist本质上是使用的是caniuse-lite的工具，这个工具的数据来自于caniuse的网站上</strong></li><li>Browserslist是一个在不同的前端工具之间，共享目标浏览器和Node.js版本的配置：<ul><li><a href="https://github.com/postcss/autoprefixer" target="_blank" rel="noopener noreferrer">Autoprefixer</a></li><li><a href="https://github.com/babel/babel/tree/master/packages/babel-preset-env" target="_blank" rel="noopener noreferrer">Babel</a></li><li><a href="https://github.com/jonathantneal/postcss-preset-env" target="_blank" rel="noopener noreferrer">postcss-preset-env</a></li><li><a href="https://github.com/amilajack/eslint-plugin-compat" target="_blank" rel="noopener noreferrer">eslint-plugin-compat</a></li><li><a href="https://github.com/ismay/stylelint-no-unsupported-browser-features" target="_blank" rel="noopener noreferrer">stylelint-no-unsupported-browser-features</a></li><li><a href="https://github.com/jonathantneal/postcss-normalize" target="_blank" rel="noopener noreferrer">postcss-normalize</a></li><li><a href="https://github.com/ElemeFE/obsolete-webpack-plugin" target="_blank" rel="noopener noreferrer">obsolete-webpack-plugin</a></li></ul></li></ul></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="浏览器查询过程"><strong>浏览器查询过程</strong><a class="hash-link" href="#浏览器查询过程" title="Direct link to heading">​</a></h3><ul><li>我们可以编写类似于这样的配置：</li></ul><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">last </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> versions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">not dead</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li>那么之后，这些工具会根据我们的配置来获取相关的浏览器信息，以方便决定是否需要进行兼容性的支持：<ul><li><strong>条件查询使用的是caniuse-lite的工具，这个工具的数据来自于caniuse的网站上</strong>；</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.033-ff048b9f1935b94eb7bf76d35f71089f.jpeg" width="646" height="294" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="browserslist编写规则"><strong>Browserslist编写规则</strong><a class="hash-link" href="#browserslist编写规则" title="Direct link to heading">​</a></h3><ul><li><p>规则一，常见规则：</p><ul><li><p><strong>defaults：Browserslist的默认浏览器（&gt; 0.5%, last 2 versions, Firefox ESR, not dead）。</strong></p></li><li><p><strong>5%：通过全局使用情况统计信息选择的浏览器版本。 &gt;=，&lt;和&lt;=工作过。</strong></p><ul><li><p>5% in US：使用美国使用情况统计信息。它接受两个字母的国家/地区代码。</p></li><li><p>5% in alt-AS：使用亚洲地区使用情况统计信息。有关所有区域代码的列表，请参见caniuse-lite/data/regions</p></li><li><p>5% in my stats：使用自定义用法数据。</p></li><li><p>5% in browserslist-config-mycompany stats：使用 来自的自定义使用情况数据browserslist-config-mycompany/browserslist-stats.json。</p></li><li><p>cover 99.5%：提供覆盖率的最受欢迎的浏览器。</p></li><li><p>cover 99.5% in US：与上述相同，但国家/地区代码由两个字母组成。</p></li><li><p>cover 99.5% in my stats：使用自定义用法数据。</p></li></ul></li><li><p><strong>dead：24个月内没有官方支持或更新的浏览器。现在是IE 10，IE<!-- -->_<!-- -->Mob 11，BlackBerry 10，BlackBerry 7， Samsung 4和OperaMobile 12.1。</strong></p></li><li><p><strong>last 2 versions：每个浏览器的最后2个版本。</strong></p><ul><li><p>last 2 Chrome versions：最近2个版本的Chrome浏览器。</p></li><li><p>last 2 major versions或last 2 iOS major versions：最近2个主要版本的所有次要/补丁版本。</p></li></ul></li></ul></li><li><p>规则二，不常见规则：</p><ul><li><p><strong>node 10和node 10.4：选择最新的Node.js10.x.x 或10.4.x版本。</strong></p><ul><li><p>current node：Browserslist现在使用的Node.js版本。</p></li><li><p>maintained node versions：所有Node.js版本，仍由 Node.js Foundation维护。</p></li></ul></li></ul><ul><li><p><strong>iOS 7：直接使用iOS浏览器版本7。</strong></p><ul><li><p>Firefox &gt; 20：Firefox的版本高于20 &gt;=，&lt;并且&lt;=也可以使用。它也可以与Node.js一起使用。</p></li><li><p>ie 6-8：选择一个包含范围的版本。</p></li><li><p>Firefox ESR：最新的<!-- -->[Firefox ESR]<!-- -->版本。</p></li><li><p>PhantomJS 2.1和PhantomJS 1.9：选择类似于PhantomJS运行时的Safari版本。</p></li></ul></li></ul><ul><li><p><strong>extends browserslist-config-mycompany：从browserslist-config-mycompany的npm包中查询 。</strong></p><ul><li><strong>supports es6-module：支持特定功能的浏览器。</strong><ul><li>es6-module这是“我可以使用” 页面feat的URL上的参数。有关所有可用功能的列表，请参见 。caniuse-lite/data/features</li></ul></li></ul></li></ul><ul><li><strong>browserslist config：在Browserslist配置中定义的浏览器。</strong>在差异服务中很有用，可用于修改用户的配置，例如 browserslist config and supports es6-module。</li></ul><ul><li><strong>since 2015或last 2 years</strong>：自2015年以来发布的所有版本（since 2015-03以及since 2015-03-10）。</li></ul><ul><li><strong>unreleased versions或unreleased Chrome versions</strong>：Alpha和Beta版本。</li></ul><ul><li><strong>not ie &lt;= 8：排除先前查询选择的浏览器。</strong></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="命令行使用browserslist"><strong>命令行使用browserslist</strong><a class="hash-link" href="#命令行使用browserslist" title="Direct link to heading">​</a></h3><ul><li>我们可以直接通过命令来查询某些条件所匹配到的浏览器：<ul><li><code>npx browserslist &quot;&gt;1%, last 2 version, not dead&quot;</code></li><li>会输出匹配到的浏览器</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.037-dd6bfbb4a00fd269fd1d3c7faa8fc348.jpeg" width="918" height="342" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="配置browserslist"><strong>配置browserslist</strong><a class="hash-link" href="#配置browserslist" title="Direct link to heading">​</a></h3><ul><li><p>我们如何可以配置browserslist呢？两种方案：</p><ul><li><strong>方案一：在package.json中配置；</strong></li><li><strong>方案二：单独的一个配置文件.browserslistrc文件；</strong></li></ul></li><li><p>方案一<strong>：</strong>package.json配置：</p></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.038-2369888b066cd76afe81aa6cff0b5690.png" width="351" height="163" class="img_E7b_"></p><ul><li>方案二：.browserslistrc文件</li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.039-23bca9bf0d4d28e388d99635a692d79f.png" width="378" height="136" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="默认配置和条件关系"><strong>默认配置和条件关系</strong><a class="hash-link" href="#默认配置和条件关系" title="Direct link to heading">​</a></h3><ul><li>如果没有配置，那么也会有一个默认配置：</li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.040-7916adebcd89203c9c26c0c3e13c1e24.png" width="334" height="211" class="img_E7b_"></p><ul><li><p>我们编写了多个条件之后，多个条件之间是什么关系呢？</p></li><li><p><strong>表示或</strong>：</p><ul><li><p>表示并集</p></li><li><p>逗号：<code>&gt;0.1%,last 2 versions,not dead</code></p></li><li><p>or：<code>&gt;0.1% or last 2 versions or not dead</code></p></li><li><p>换行：</p><ul><li><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">0.1</span><span class="token plain">% </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">last </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> versions </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">not dead</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul></li></ul></li></ul><ul><li><strong>表示和</strong>：<ul><li>表示交集</li><li><code>&gt;0.1% and last 2 versions and not dead</code></li></ul></li><li><strong>表示排除：</strong><ul><li>表示去除这个部分。</li><li><code>no dead</code></li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.041-0ae8ef93cf9dbf8592fad13cdafc37af.png" width="484" height="236" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="babel设置targets">Babel设置targets<a class="hash-link" href="#babel设置targets" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="设置目标浏览器-browserslist"><strong>设置目标浏览器 browserslist</strong><a class="hash-link" href="#设置目标浏览器-browserslist" title="Direct link to heading">​</a></h3><ul><li><p>我们最终打包的JavaScript代码，是需要跑在目标浏览器上的，那么如何告知babel我们的目标浏览器呢？</p><ul><li>browserslist工具</li><li>target属性</li></ul></li><li><p>之前我们已经使用了browserslist工具，我们还可以<strong>通过babel的targets来进行配置</strong>：</p></li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//babel.config.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">presets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;@babel/preset-env&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 在开发中针对babel的浏览器兼容查询使用browserslist工具, 而不是设置target</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 因为browserslist工具, 可以在多个前端工具之间进行共享浏览器兼容性(postcss/babel)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">targets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&gt;5%&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li>那么，如果两个同时配置了，哪一个会生效呢？<ul><li><strong>配置的targets属性会覆盖browserslist；</strong></li><li><strong>但是在开发中，更推荐通过browserslist来配置，因为类似于postcss工具，也会使用browserslist，进行统一浏览器的适配；</strong></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="babel早期preset的stage-x"><strong>Babel早期preset的Stage-X</strong><a class="hash-link" href="#babel早期preset的stage-x" title="Direct link to heading">​</a></h2><ul><li><p>要了解Stage-X，我们需要先了解一下TC39的组织：</p><ul><li>TC39是指技术委员会（Technical Committee）第 39 号；</li><li>它是 ECMA 的一部分，ECMA 是 “ECMAScript” 规范下的 JavaScript 语言标准化的机构；</li><li>ECMAScript 规范定义了 JavaScript 如何一步一步的进化、发展；</li></ul></li><li><p>TC39 遵循的原则是：分阶段加入不同的语言特性，新流程涉及四个不同的 Stage</p><ul><li><strong>Stage 0：</strong>strawman（稻草人），任何尚未提交作为正式提案的讨论、想法变更或者补充都被认为是第 0 阶段的&quot;稻草人&quot;；</li><li><strong>Stage 1：</strong>proposal（提议），提案已经被正式化，并期望解决此问题，还需要观察与其他提案的相互影响；</li><li><strong>Stage 2：</strong>draft（草稿），Stage 2 的提案应提供规范初稿、草稿。此时，语言的实现者开始观察 runtime 的具体实现是否合理；</li><li><strong>Stage 3：</strong>candidate（候补），Stage 3 提案是建议的候选提案。在这个高级阶段，规范的编辑人员和评审人员必须在最终 规范上签字。Stage 3 的提案不会有太大的改变，在对外发布之前只是修正一些问题；</li><li><strong>Stage 4：</strong>finished（完成），进入 Stage 4 的提案将包含在 ECMAScript 的下一个修订版中；</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="babel的stage-x设置"><strong>Babel的Stage-X设置</strong><a class="hash-link" href="#babel的stage-x设置" title="Direct link to heading">​</a></h3><ul><li>在babel7之前（比如babel6中），我们会经常看到这种设置方式：<ul><li>它表达的含义是使用对应的 babel-preset-stage-x 预设；</li><li>但是从babel7开始，已经不建议使用了，建议使用preset-env来设置；</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.044-7959c897d726db9631a4943a900b8190.png" width="396" height="124" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="babel的配置文件-1"><strong>Babel的配置文件</strong><a class="hash-link" href="#babel的配置文件-1" title="Direct link to heading">​</a></h2><ul><li><p>像之前一样，我们可以将babel的配置信息放到一个独立的文件中，babel给我们提供了两种配置文件的编写：</p><ul><li><strong>babel.config.json（或者.js，.cjs，.mjs）文件；</strong></li><li><strong>.babelrc.json（或者.babelrc，.js，.cjs，.mjs）文件；</strong></li></ul></li><li><p>它们两个有什么区别呢？目前很多的项目都采用了多包管理的方式（babel本身、element-plus、umi等）；</p><ul><li>.babelrc.json：早期使用较多的配置方式，但是对于配置Monorepos项目是比较麻烦的；</li><li>babel.config.json（babel7）：可以直接作用于Monorepos项目的子包，更加推荐；</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.045-2a4dceaf974c9cdea58aea7ccf5eba2b.png" width="476" height="243" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="认识polyfill"><strong>认识polyfill</strong><a class="hash-link" href="#认识polyfill" title="Direct link to heading">​</a></h2><ul><li><p>Polyfill是什么呢？</p><ul><li>翻译：一种用于衣物、床具等的聚酯填充材料, 使这些物品更加温暖舒适；</li><li>理解：更像是应该填充物（垫片），一个补丁，可以帮助我们更好的使用JavaScript；</li></ul></li><li><p>为什么时候会用到polyfill呢？</p><ul><li>比如我们使用了一些语法特性（例如：Promise, Generator, Symbol等以及实例方法例如Array.prototype.includes等）</li><li>但是某些浏览器压根不认识这些特性，必然会报错；</li><li>我们可以使用polyfill来填充或者说打一个补丁，那么就会包含该特性了；</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="如何使用polyfill"><strong>如何使用polyfill？</strong><a class="hash-link" href="#如何使用polyfill" title="Direct link to heading">​</a></h3><ul><li><strong>babel7.4.0之前，可以使用 @babel/polyfill的包，但是该包现在已经不推荐使用了：</strong></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.046-52bd071ad3dd34c533102c72e3a07dd1.png" width="1193" height="138" class="img_E7b_"></p><ul><li><strong>babel7.4.0之后，可以通过单独引入core-js和regenerator-runtime来完成polyfill的使用：</strong><ul><li><code>npm install core-js regenerator-runtime --save</code></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="配置babelconfigjs"><strong>配置babel.config.js</strong><a class="hash-link" href="#配置babelconfigjs" title="Direct link to heading">​</a></h3><ul><li><p>我们需要在babel.config.js文件中进行配置，给preset-env配置一些属性：</p><ul><li><strong>useBuiltIns：设置以什么样的方式来使用polyfill；</strong></li><li><strong>corejs：设置corejs的版本，目前使用较多的是3.x的版本，比如我使用的是3.8.x的版本；</strong></li></ul></li><li><p>另外corejs可以设置是否对提议阶段的特性进行支持；</p><ul><li>设置 proposals属性为true即可；</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="usebuiltins属性设置"><strong>useBuiltIns属性设置</strong><a class="hash-link" href="#usebuiltins属性设置" title="Direct link to heading">​</a></h3><ul><li><p>useBuiltIns属性有三个常见的值</p></li><li><p><strong>第一个值：false</strong></p><ul><li><strong>打包后的文件不使用polyfill来进行适配；</strong></li><li>并且这个时候是不需要设置corejs属性的；</li></ul></li><li><p><strong>第二个值：usage</strong></p><ul><li><strong>会根据源代码中出现的语言特性，自动检测所需要的polyfill；</strong></li><li>这样可以确保最终包里的polyfill数量的最小化，打包的包相对会小一些；</li><li>可以设置corejs属性来确定使用的corejs的版本；</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.049-74cce4463e9a0ce81339f86612388ac9.png" width="364" height="181" class="img_E7b_"></p><ul><li><p><strong>第三个值：entry</strong></p><ul><li><p>手动引入。需要要入口文件main.js中手动添加：</p><ul><li><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;core-js/stable&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;regenerator-runtime/runtime&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul></li><li><p>这种情况适合，我们依赖的某些npm包本身使用了某些polyfill的特性，</p><ul><li><p>但是因为webpack配置的babel-loader排除node-modules</p></li><li><p>并且我们使用的是usage，所以之后用户浏览器可能会报错；</p></li><li><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">test</span><span class="token operator" style="color:#393A34">:</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">\.jsx?$</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">exclude</span><span class="token operator" style="color:#393A34">:</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">node_modules</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">use</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">loader</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&#x27;babel-loader&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token literal-property property" style="color:#36acaa">options</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token literal-property property" style="color:#36acaa">presets</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;@babel/preset-env&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token literal-property property" style="color:#36acaa">useBuiltIns</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;usage&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token literal-property property" style="color:#36acaa">corejs</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3.8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>所以，如果你担心出现这种情况，可以使用 entry；</p></li></ul></li><li><p><strong>这样做会根据 browserslist 目标导入所有的polyfill，但是对应的包也会变大；</strong></p></li><li><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.050-d0b145a728db8a67922a56ab5d4b2f44.png" width="367" height="189" class="img_E7b_"> <img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.051-6a07fd13c2355cd11fb48db103a62d53.png" width="513" height="75" class="img_E7b_"></p></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="react的jsx支持"><strong>React的jsx支持</strong><a class="hash-link" href="#react的jsx支持" title="Direct link to heading">​</a></h2><ul><li><p>在我们编写react代码时，react使用的语法是jsx，jsx是可以直接使用babel来转换的。</p></li><li><p>对react jsx代码进行处理需要如下的插件：</p><ul><li><a href="https://babeljs.io/docs/en/babel-plugin-syntax-jsx" target="_blank" rel="noopener noreferrer">@babel/plugin-syntax-jsx</a></li><li><a href="https://babeljs.io/docs/en/babel-plugin-transform-react-jsx" target="_blank" rel="noopener noreferrer">@babel/plugin-transform-react-jsx</a></li><li><a href="https://babeljs.io/docs/en/babel-plugin-transform-react-display-name" target="_blank" rel="noopener noreferrer">@babel/plugin-transform-react-display-name</a></li></ul></li><li><p>但是开发中，我们并不需要一个个去安装这些插件，我们依然可以使用preset来配置：</p><ul><li><code>npm install @babel/preset-react -D</code></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="typescript的编译"><strong>TypeScript的编译</strong><a class="hash-link" href="#typescript的编译" title="Direct link to heading">​</a></h2><ul><li>在项目开发中，我们会使用TypeScript来开发，那么TypeScript代码是需要转换成JavaScript代码。</li><li>可以通过TypeScript的compiler来转换成JavaScript：<ul><li><code>npm install typescript -D</code></li></ul></li></ul><ul><li><p>另外TypeScript的编译配置信息我们通常会编写一个tsconfig.json文件：</p><ul><li><p><code>tsc --init</code></p></li><li><p>生成配置文件如下：</p></li></ul></li></ul><p><img loading="lazy" src="data:image/png;base64,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" width="360" height="126" class="img_E7b_"></p><ul><li>之后我们可以运行 npx tsc来编译自己的ts代码：<ul><li><code>npx tsc</code></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="使用ts-loader"><strong>使用ts-loader</strong><a class="hash-link" href="#使用ts-loader" title="Direct link to heading">​</a></h3><ul><li>如果我们希望在webpack中使用TypeScript，那么我们可以使用ts-loader来处理ts文件：<ul><li><code>npm install ts-loader -D</code></li></ul></li></ul><ul><li>配置ts-loader：</li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.059-48bbb865c415ac7bf7b484fa46bb1c80.png" width="380" height="233" class="img_E7b_"></p><ul><li>之后，我们通过npm run build打包即可。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="使用babel-loader"><strong>使用babel-loader</strong><a class="hash-link" href="#使用babel-loader" title="Direct link to heading">​</a></h3><ul><li><p>除了可以使用TypeScript Compiler来编译TypeScript之外，我们也可以使用Babel：</p><ul><li>Babel是有对TypeScript进行支持；</li><li>我们可以使用插件： @babel/tranform-typescript；</li><li><strong>但是更推荐直接使用preset：@babel/preset-typescript；</strong></li></ul></li><li><p>我们来安装@babel/preset-typescript：</p><ul><li><code>npm install @babel/preset-typescript -D</code></li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.061-8b526463f764daf4266ce46826e73cce.png" width="413" height="242" class="img_E7b_"> <img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.062-efe6cf940dd0045509d746b0c4dcd544.png" width="371" height="222" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="ts-loader和babel-loader选择"><strong>ts-loader和babel-loader选择</strong><a class="hash-link" href="#ts-loader和babel-loader选择" title="Direct link to heading">​</a></h3><ul><li><p>那么我们在开发中应该选择ts-loader还是babel-loader呢？</p></li><li><p><strong>使用ts-loader（TypeScript Compiler）</strong></p><ul><li><strong>来直接编译TypeScript，那么只能将ts转换成js；</strong></li><li><strong>如果我们还希望在这个过程中添加对应的polyfill，那么ts-loader是无能为力的；</strong></li><li><strong>我们需要借助于babel来完成polyfill的填充功能；</strong></li></ul></li><li><p><strong>使用babel-loader（Babel）</strong></p><ul><li><strong>来直接编译TypeScript，也可以将ts转换成js，并且可以实现polyfill的功能；</strong></li><li><strong>但是babel-loader在编译的过程中，不会对类型错误进行检测；</strong></li></ul></li><li><p>那么在开发中，我们如何可以同时保证两个情况都没有问题呢？</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="编译typescript最佳实践"><strong>编译TypeScript最佳实践</strong><a class="hash-link" href="#编译typescript最佳实践" title="Direct link to heading">​</a></h3><ul><li>事实上TypeScript官方文档有对其进行说明：</li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.2394c54b-8019-4fce-aed9-82a5b1be73af.063-fa0cf0f477cb81d7d83bb5380a33ab86.jpeg" width="1067" height="248" class="img_E7b_"></p><ul><li><p><strong>也就是说我们使用Babel来完成代码的转换，使用tsc来进行类型的检查。</strong></p></li><li><p>但是，如何可以使用tsc来进行类型的检查呢？ </p><ul><li><p><strong>在使用webpack编译时，先使用tsc进行类型校验</strong></p></li><li><p><strong>在scripts中添加脚本用于类型检查；</strong> </p><ul><li><strong>执行 <code>npm run type-check</code>可以对ts代码的类型进行检测；</strong> </li></ul></li><li><p><strong>可以加上--watch时，进行实时检测</strong></p><ul><li><strong>npm run type-check-watch`可以实时的检测类型错误；</strong> </li></ul></li><li><p><strong>类型检验没问题，再进行npm run build编译</strong></p></li></ul></li></ul><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;scripts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;test&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;build&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;webpack&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;ts-check&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tsc --noEmit&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;ts-check-watch&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tsc --noEmit --watch&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="作业">作业<a class="hash-link" href="#作业" title="Direct link to heading">​</a></h2><ul><li><p>Babel命令的使用，plugin/preset使用</p></li><li><p>Babel的转换代码的原理是什么？（面试题）</p></li><li><p>前端目前如何进行浏览器兼容性的配置, 它底层是如何做到的?</p><ul><li>browserlist工具</li><li>caniuse-lite</li></ul></li><li><p>什么是polyfill, babel中如何配置polyfill来填充代码?</p></li><li><p>typescript代码的转换方式有哪些?它们有什么区别?</p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Guing/FED-DOC/docs/19-体系/codewhy前端体系/15-Webpack+Gulp+Vite+Rollup/02_深入解析Babel使用.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/理解source-map"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">理解source-map</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack性能优化方案"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">webpack性能优化方案</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a><ul><li><a href="#babel的作用" class="table-of-contents__link toc-highlight">babel的作用</a></li><li><a href="#babel命令行" class="table-of-contents__link toc-highlight">babel命令行</a></li><li><a href="#babel底层原理" class="table-of-contents__link toc-highlight">babel底层原理</a></li><li><a href="#preset-env的使用" class="table-of-contents__link toc-highlight">preset-env的使用</a></li><li><a href="#浏览器兼容性问题" class="table-of-contents__link toc-highlight">浏览器兼容性问题</a></li><li><a href="#babel的配置文件" class="table-of-contents__link toc-highlight">babel的配置文件</a></li><li><a href="#babel和polyfill使用" class="table-of-contents__link toc-highlight">babel和polyfill使用</a></li><li><a href="#babel对react的支持" class="table-of-contents__link toc-highlight">babel对react的支持</a></li><li><a href="#webpack对typescript支持" class="table-of-contents__link toc-highlight">webpack对typescript支持</a></li></ul></li><li><a href="#为什么需要babel" class="table-of-contents__link toc-highlight"><strong>为什么需要babel？</strong></a></li><li><a href="#babel命令行使用" class="table-of-contents__link toc-highlight"><strong>Babel命令行使用</strong></a></li><li><a href="#babel插件的使用" class="table-of-contents__link toc-highlight"><strong>Babel插件的使用</strong></a></li><li><a href="#babel的预设preset" class="table-of-contents__link toc-highlight"><strong>Babel的预设preset</strong></a></li><li><a href="#babel的底层原理" class="table-of-contents__link toc-highlight"><strong>Babel的底层原理</strong></a><ul><li><a href="#babel编译器执行原理" class="table-of-contents__link toc-highlight"><strong>babel编译器执行原理</strong></a></li></ul></li><li><a href="#webpack配置babel" class="table-of-contents__link toc-highlight">Webpack配置babel</a><ul><li><a href="#babel-loader" class="table-of-contents__link toc-highlight"><strong>babel-loader</strong></a></li><li><a href="#babel插件" class="table-of-contents__link toc-highlight"><strong>babel插件</strong></a></li><li><a href="#babel预设" class="table-of-contents__link toc-highlight"><strong>babel预设</strong></a></li></ul></li><li><a href="#browserslist的使用" class="table-of-contents__link toc-highlight">browserslist的使用</a><ul><li><a href="#浏览器兼容性" class="table-of-contents__link toc-highlight"><strong>浏览器兼容性</strong></a></li><li><a href="#浏览器市场占有率" class="table-of-contents__link toc-highlight"><strong>浏览器市场占有率</strong></a></li><li><a href="#认识browserslist工具" class="table-of-contents__link toc-highlight"><strong>认识browserslist工具</strong></a></li><li><a href="#浏览器查询过程" class="table-of-contents__link toc-highlight"><strong>浏览器查询过程</strong></a></li><li><a href="#browserslist编写规则" class="table-of-contents__link toc-highlight"><strong>Browserslist编写规则</strong></a></li><li><a href="#命令行使用browserslist" class="table-of-contents__link toc-highlight"><strong>命令行使用browserslist</strong></a></li><li><a href="#配置browserslist" class="table-of-contents__link toc-highlight"><strong>配置browserslist</strong></a></li><li><a href="#默认配置和条件关系" class="table-of-contents__link toc-highlight"><strong>默认配置和条件关系</strong></a></li></ul></li><li><a href="#babel设置targets" class="table-of-contents__link toc-highlight">Babel设置targets</a><ul><li><a href="#设置目标浏览器-browserslist" class="table-of-contents__link toc-highlight"><strong>设置目标浏览器 browserslist</strong></a></li></ul></li><li><a href="#babel早期preset的stage-x" class="table-of-contents__link toc-highlight"><strong>Babel早期preset的Stage-X</strong></a><ul><li><a href="#babel的stage-x设置" class="table-of-contents__link toc-highlight"><strong>Babel的Stage-X设置</strong></a></li></ul></li><li><a href="#babel的配置文件-1" class="table-of-contents__link toc-highlight"><strong>Babel的配置文件</strong></a></li><li><a href="#认识polyfill" class="table-of-contents__link toc-highlight"><strong>认识polyfill</strong></a><ul><li><a href="#如何使用polyfill" class="table-of-contents__link toc-highlight"><strong>如何使用polyfill？</strong></a></li><li><a href="#配置babelconfigjs" class="table-of-contents__link toc-highlight"><strong>配置babel.config.js</strong></a></li><li><a href="#usebuiltins属性设置" class="table-of-contents__link toc-highlight"><strong>useBuiltIns属性设置</strong></a></li></ul></li><li><a href="#react的jsx支持" class="table-of-contents__link toc-highlight"><strong>React的jsx支持</strong></a></li><li><a href="#typescript的编译" class="table-of-contents__link toc-highlight"><strong>TypeScript的编译</strong></a><ul><li><a href="#使用ts-loader" class="table-of-contents__link toc-highlight"><strong>使用ts-loader</strong></a></li><li><a href="#使用babel-loader" class="table-of-contents__link toc-highlight"><strong>使用babel-loader</strong></a></li><li><a href="#ts-loader和babel-loader选择" class="table-of-contents__link toc-highlight"><strong>ts-loader和babel-loader选择</strong></a></li><li><a href="#编译typescript最佳实践" class="table-of-contents__link toc-highlight"><strong>编译TypeScript最佳实践</strong></a></li></ul></li><li><a href="#作业" class="table-of-contents__link toc-highlight">作业</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">笔记</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/FED-DOC/docs/intro">前端</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Guing" target="_blank" rel="noopener noreferrer" class="footer__link-item">关于我<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/FED-DOC/blog">博客</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 FED-DOCS, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/FED-DOC/assets/js/runtime~main.cb11828d.js"></script>
<script src="/FED-DOC/assets/js/main.b59e18dd.js"></script>
</body>
</html>