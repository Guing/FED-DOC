<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack性能优化方案">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/FED-DOC/blog/rss.xml" title="IT学习笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/FED-DOC/blog/atom.xml" title="IT学习笔记 Atom Feed"><title data-rh="true">webpack性能优化方案 | IT学习笔记</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://guing.github.io/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack性能优化方案"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="webpack性能优化方案 | IT学习笔记"><meta data-rh="true" name="description" content="总结"><meta data-rh="true" property="og:description" content="总结"><link data-rh="true" rel="icon" href="/FED-DOC/img/my.jpg"><link data-rh="true" rel="canonical" href="https://guing.github.io/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack性能优化方案"><link data-rh="true" rel="alternate" href="https://guing.github.io/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack性能优化方案" hreflang="en"><link data-rh="true" rel="alternate" href="https://guing.github.io/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack性能优化方案" hreflang="x-default"><link rel="stylesheet" href="/FED-DOC/assets/css/styles.5627add0.css">
<link rel="preload" href="/FED-DOC/assets/js/runtime~main.5bcd5349.js" as="script">
<link rel="preload" href="/FED-DOC/assets/js/main.0a48b003.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/FED-DOC/"><div class="navbar__logo"><img src="/FED-DOC/img/my.jpg" alt="IT学习笔记" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/FED-DOC/img/my.jpg" alt="IT学习笔记" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">IT学习笔记</b></a><a class="navbar__item navbar__link navbar__link--active" href="/FED-DOC/docs/intro">前端</a><a class="navbar__item navbar__link" href="/FED-DOC/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Guing/FED-DOC" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/FED-DOC/docs/intro">前端学习笔记</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Html/MDN笔记/">Html</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Css/2021必修 CSS架构系统精讲/2-3 CSS设计模式/note">Css</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Vue/Nuxt-前端老张/笔记">Vue</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/React/React17系统精讲结合TS打造旅游电商平台2021/笔记/">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Nodejs/intro">Nodejs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/TypeScript/Typescript入门学习笔记/">TypeScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/小程序/codewhy前端体系-小程序/总结">小程序</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/浏览器/IndexedDB数据库/IndexedDB使用">浏览器</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/性能优化/vue-cli优化">性能优化</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/网络协议/intro">网络协议</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/工程化/intro">工程化</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/单元测试/intro">单元测试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/构建工具/webpack基础使用">构建工具</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/安全/intro">安全</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/算法/300分钟搞定数据结构与算法/">算法</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/移动端/intro">移动端</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/FED-DOC/docs/体系/codewhy前端体系/HTML与CSS/整体大纲">体系</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/HTML与CSS/整体大纲">codewhy前端体系</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/HTML与CSS/整体大纲">HTML与CSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript基础/JavaScript基础">JavaScript基础</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript高级/JavaScript高级-this指向">JavaScript高级</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/JavaScript实战框架应用/邂逅jQuery、属性和DOM操作">JavaScript实战框架应用</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/前端工程化+Node+模块化+webpack+Git/邂逅Node.js开发">前端工程化+Node+模块化+webpack+Git</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Vue3全家桶实战/邂逅Vue.js开发">Vue3全家桶实战</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/React18全家桶+Hooks+项目实战/React在前端的地位">React18全家桶+Hooks+项目实战</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/TypeScript开发实战/邂逅TypeScript语法">TypeScript开发实战</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Vue3+TS后台管理系统/项目规范+prettier+eslint+editconfig">Vue3+TS后台管理系统</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/阶段十四-Node服务器高级开发/Node跨域">阶段十四-Node服务器高级开发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/理解source-map">Webpack+Gulp+Vite+Rollup</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/理解source-map">理解source-map</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/深入解析Babel使用">深入解析Babel使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack性能优化方案">webpack性能优化方案</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack性能优化方案（二）">webpack性能优化方案（二）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack自定义loader">webpack自定义loader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack自定义Plugin">webpack自定义Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/自动化工具gulp">自动化工具gulp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/rollup工具使用">rollup工具使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/快速开发vite工具">快速开发vite工具</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack源码解析">webpack源码解析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/开发自己的脚手架">开发自己的脚手架</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/codewhy前端体系/就业指导/高级前端会问到的问题">就业指导</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/FED-DOC/docs/体系/慕课网前端架构师/需求/1周 需求分析和架构设计/乐高架构方案设计文档">慕课网前端架构师</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/面试/webpack面试题/">面试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FED-DOC/docs/Go/资深go开发工程师/基础">Go</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/FED-DOC/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">体系</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">codewhy前端体系</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Webpack+Gulp+Vite+Rollup</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">webpack性能优化方案</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>webpack性能优化方案</h1></header><h2 class="anchor anchorWithStickyNavbar_mojV" id="总结">总结<a class="hash-link" href="#总结" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="一-代码分包">一. 代码分包<a class="hash-link" href="#一-代码分包" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="11-多入口起点">1.1. 多入口起点<a class="hash-link" href="#11-多入口起点" title="Direct link to heading">​</a></h4><h4 class="anchor anchorWithStickyNavbar_mojV" id="12-动态导入分包使用最多">1.2. 动态导入分包(使用最多)<a class="hash-link" href="#12-动态导入分包使用最多" title="Direct link to heading">​</a></h4><h4 class="anchor anchorWithStickyNavbar_mojV" id="13-自定义分包splitchunksplugin">1.3. 自定义分包(SplitChunksPlugin)<a class="hash-link" href="#13-自定义分包splitchunksplugin" title="Direct link to heading">​</a></h4><h4 class="anchor anchorWithStickyNavbar_mojV" id="14-chunkid名称">1.4. chunkId名称<a class="hash-link" href="#14-chunkid名称" title="Direct link to heading">​</a></h4><ul><li>chunkId:<ul><li>named</li><li>natural</li><li>deterministic</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="15-runtime的分包">1.5. runtime的分包<a class="hash-link" href="#15-runtime的分包" title="Direct link to heading">​</a></h4><h4 class="anchor anchorWithStickyNavbar_mojV" id="16-prefetchpreload">1.6 prefetch/preload<a class="hash-link" href="#16-prefetchpreload" title="Direct link to heading">​</a></h4><h4 class="anchor anchorWithStickyNavbar_mojV" id="17-cdn服务器配置">1.7. CDN服务器配置<a class="hash-link" href="#17-cdn服务器配置" title="Direct link to heading">​</a></h4><ul><li>所有资源都放到CDN中</li><li>第三方库放到CDN中</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="二-其他优化">二. 其他优化<a class="hash-link" href="#二-其他优化" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="21-shimiming">2.1. shimiming<a class="hash-link" href="#21-shimiming" title="Direct link to heading">​</a></h4><ul><li>垫片: ProvidePlugin</li><li>axios.default.get</li><li>pnpm</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="22-css的提取">2.2. CSS的提取<a class="hash-link" href="#22-css的提取" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithStickyNavbar_mojV" id="23-hashchunkhashcontenthash">2.3. Hash/ChunkHash/ContentHash<a class="hash-link" href="#23-hashchunkhashcontenthash" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithStickyNavbar_mojV" id="24-ddl课下自行了解">2.4. DDL(课下自行了解)<a class="hash-link" href="#24-ddl课下自行了解" title="Direct link to heading">​</a></h3><h2 class="anchor anchorWithStickyNavbar_mojV" id="如何使用webpack性能优化"><strong>如何使用webpack性能优化？</strong><a class="hash-link" href="#如何使用webpack性能优化" title="Direct link to heading">​</a></h2><ul><li><p>webpack作为前端目前使用最广泛的打包工具，在面试中也是经常会被问到的。</p></li><li><p>比较常见的面试题包括：</p><ul><li><strong>可以配置哪些属性来进行webpack性能优化？</strong></li><li><strong>前端有哪些常见的性能优化？（问到前端性能优化时，除了其他常见的，也完全可以从webpack来回答）</strong></li></ul></li><li><p>webpack的性能优化较多，我们可以对其进行分类：</p><ul><li><strong>优化一：打包后的结果，上线时的性能优化。（比如分包处理、减小包体积、CDN服务器等）</strong></li><li><strong>优化二：优化打包速度，开发或者构建时优化打包速度。（比如exclude、cache-loader等）</strong></li></ul></li><li><p>大多数情况下，我们会更加侧重于优化一，这对于线上的产品影响更大。</p></li><li><p>在大多数情况下webpack都帮我们做好了该有的性能优化：</p><ul><li>比如配置mode为production或者development时，默认webpack的配置信息；</li></ul></li><li><p>但是我们也可以针对性的进行自己的项目优化；</p><p><img loading="lazy" alt="分包处理的优势和必要性" src="/FED-DOC/assets/images/分包处理的优势和必要性-16903378614212-6e80e2975ece8cc806d92767b2da5992.png" width="1715" height="753" class="img_E7b_"></p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="性能优化---代码分离"><strong>性能优化 - 代码分离</strong><a class="hash-link" href="#性能优化---代码分离" title="Direct link to heading">​</a></h2><ul><li><p><strong>代码分离（Code Splitting）是webpack一个非常重要的特性：</strong></p><ul><li>它主要的目的是将代码分离到不同的bundle中，之后我们可以按需加载，或者并行加载这些文件；</li><li>比如默认情况下，所有的JavaScript代码（业务代码、第三方依赖、暂时没有用到的模块）在首页全部都加载，就会影响首页 的加载速度；</li><li><strong>代码分离可以分出更小的bundle，以及控制资源加载优先级，提供代码的加载性能；</strong></li></ul></li><li><p>Webpack中常用的代码分离有三种：</p><ul><li><strong>入口起点：使用entry配置手动分离代码；</strong></li><li><strong>防止重复：使用Entry Dependencies或者SplitChunksPlugin去重和分离代码；</strong></li><li><strong>动态导入：通过模块的内联函数调用来分离代码；</strong></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="多入口起点"><strong>多入口起点</strong><a class="hash-link" href="#多入口起点" title="Direct link to heading">​</a></h3><ul><li>多入口起点的含义非常简单，就是配置多入口：<ul><li>比如配置一个index.js和main.js的入口；</li><li>他们分别有自己的代码逻辑；</li></ul></li></ul><p><img loading="lazy" alt="image-20230726102328517" src="/FED-DOC/assets/images/image-20230726102328517-18d2c8192fd67300149ff9190eb9461e.png" width="1181" height="473" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="entry-dependencies入口依赖"><strong>Entry Dependencies(入口依赖)</strong><a class="hash-link" href="#entry-dependencies入口依赖" title="Direct link to heading">​</a></h3><ul><li>假如我们的index.js和main.js都依赖两个库：lodash、dayjs<ul><li>如果我们<strong>单纯的进行入口分离，那么打包后的两个bunlde都有会有一份lodash和dayjs</strong>；</li><li>事实上我们可以对他们进行共享；<ul><li>在entry里添加一个shared（名称可以自定义）属性，并设置为需要共享的依赖库数组</li><li>在入口对象里，添加<code>dependOn:shared</code>。</li></ul></li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.015-a6f8c77922ab91df99d8313740123686.png" width="817" height="354" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="动态导入dynamic-import"><strong>动态导入(dynamic import)</strong><a class="hash-link" href="#动态导入dynamic-import" title="Direct link to heading">​</a></h3><ul><li><p>另外一个代码拆分的方式是动态导入时，webpack提供了两种实现动态导入的方式：</p><ul><li><strong>第一种，使用ECMAScript中的 import() 语法来完成，也是目前推荐的方式</strong>；</li><li>第二种，使用webpack遗留的 require.ensure，目前已经不推荐使用；</li></ul></li><li><p>比如我们有一个模块 bar.js：</p><ul><li>该模块我们希望在代码运行过程中来加载它（比如判断一个条件成立时加载）；</li><li>因为我们并不确定这个模块中的代码一定会用到，所以最好拆分成一个独立的js文件；</li><li>这样可以保证不用到该内容时，浏览器不需要加载和处理该文件的js代码；</li><li>这个时候我们就可以使用动态导入；</li></ul></li><li><p>注意：使用动态导入bar.js：</p><ul><li>在webpack中，通过动态导入获取到一个对象；</li><li><strong>真正导出的内容，在该对象的default属性中，所以我们需要做一个简单的解构；</strong></li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="动态导入的文件命名"><strong>动态导入的文件命名</strong><a class="hash-link" href="#动态导入的文件命名" title="Direct link to heading">​</a></h4><ul><li>动态导入的文件命名：<ul><li>因为动态导入通常是一定会打包成独立的文件的，所以并不会在cacheGroups中进行配置；</li><li>那么它的<strong>命名我们通常会在output中，通过 chunkFilename 属性来命名</strong>；</li></ul></li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">output</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">clean</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">path</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./build&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 对生成的入口文件进行命名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">filename</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;[name]-bundle.js&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 单独针对分包的文件进行命名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">chunkFilename</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;[id]-[name]_chunk.js&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><strong>但是，你会发现默认情况下我们获取到的<!-- -->[name]<!-- --> 是和id的名称保持一致的</strong><ul><li>如果我们希望修改name的值，可以<strong>通过magic comments（魔法注释）的方式</strong>；</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.017-84a223c2ef716ca5f28d29395c4132a2.png" width="871" height="105" class="img_E7b_"></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="代码的懒加载"><strong>代码的懒加载</strong><a class="hash-link" href="#代码的懒加载" title="Direct link to heading">​</a></h4><ul><li><strong>动态import使用最多的一个场景是懒加载（比如路由懒加载）：</strong><ul><li>封装一个component.js，返回一个component对象；</li><li>我们可以在一个按钮点击时，加载这个对象；</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.018-2a18eb5d4909eb1694beb30bba548c6a.png" width="629" height="104" class="img_E7b_"></p><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.019-38eb20c9c38936b77345c9bda3c8b3b5.jpeg" width="1092" height="286" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="optimization优化配置">optimization优化配置<a class="hash-link" href="#optimization优化配置" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="splitchunks"><strong>SplitChunks</strong><a class="hash-link" href="#splitchunks" title="Direct link to heading">​</a></h3><ul><li><p><strong>另外一种分包的模式是splitChunk，它底层是使用SplitChunksPlugin来实现的：</strong></p><ul><li>因为该插件webpack已经默认安装和集成，所以我们并不需要单独安装和直接使用该插件；</li><li>只需要提供SplitChunksPlugin相关的配置信息即可；</li></ul></li><li><p>Webpack提供了SplitChunksPlugin默认的配置，我们也可以手动来修改它的配置：</p><ul><li><strong>比如默认配置中，chunks仅仅针对于异步（async）请求，我们也可以设置为all；</strong></li><li><strong>all就是对动态导入的和同步的都进行分包。</strong><ul><li>比如以下除了about_chunk.js和category_chunk.js使用import动态的导入会分包。</li><li>node_modules下的依赖包react,axios....也会进行打包</li></ul></li></ul></li></ul><p><img loading="lazy" alt="image-20230726104807403" src="/FED-DOC/assets/images/image-20230726104807403-01cf978ee54a3d85f2bda2f5ff8c8b95.png" width="1500" height="400" class="img_E7b_"></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="splitchunks自定义配置解析"><strong>SplitChunks自定义配置解析</strong><a class="hash-link" href="#splitchunks自定义配置解析" title="Direct link to heading">​</a></h4><ul><li><p><strong>Chunks:</strong></p><ul><li>默认值是async</li><li>all表示对同步和异步代码都进行处理</li></ul></li><li><p><strong>minSize：</strong></p><ul><li>拆分包的大小, 至少为minSize；</li><li>如果一个包拆分出来达不到minSize,那么这个包就不会拆分；</li></ul></li><li><p><strong>maxSize：</strong></p><ul><li>将大于maxSize的包，拆分为不小于minSize的包；</li></ul></li><li><p><strong>cacheGroups：</strong></p><ul><li>用于对拆分的包就行分组，比如一个lodash在拆分之后，并不会立即打包，而是会等到有没有其他符合规则的包一起来打包；<ul><li>test属性：匹配符合规则的包；</li><li>name属性：拆分包的name属性；</li><li>filename属性：拆分包的名称，可以自己使用placeholder属性；</li></ul></li></ul></li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 优化配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">optimization</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 分包插件: SplitChunksPlugin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">splitChunks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">chunks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;all&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 当一个包大于指定的大小时, 继续进行拆包</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// maxSize: 20000,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// // 将包拆分成不小于minSize的包</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">minSize</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 自己对需要进行拆包的内容进行分包</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">cacheGroups</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//这里如果不生效，要修改minSize的值，</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//因为默认的minSize是20K，所以如果utils小于20k，就算这里有配置，也不会分组。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//这里设置为10B</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">utils</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">test</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">utils</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">filename</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;[id]_utils.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">vendors</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// window上面 /\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// mac上面 /</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">//这里可以选择/node_modules/不加分隔符，但是会出现abc_node_modules这里的包也会被匹配到组里。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">//所以这里选择加上分隔符，但是要适配window和linux两个不同的分隔符。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">test</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">[\\/]node_modules[\\/]</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">filename</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;[id]_vendors.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><img loading="lazy" alt="image-20230726111449301" src="/FED-DOC/assets/images/image-20230726111449301-5c1b08e5d0a604d60aa0e42820a8d8a7.png" width="1370" height="619" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="注释的单独提取"><strong>注释的单独提取</strong><a class="hash-link" href="#注释的单独提取" title="Direct link to heading">​</a></h3><ul><li><strong>默认情况下，webpack的mode设置为production时，在进行分包时，有对包中的顶部的版权相关的注释进行单独提取。</strong></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.022-242579abbe06490a1d04713554a68d20.png" width="1085" height="129" class="img_E7b_"></p><ul><li><strong>这个包提取是由另一个插件默认配置的原因：</strong><ul><li>可以通过设置为false阻止生成。</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.023-0e2fd9de5c41a8f775a8b0d6f0860ce3.png" width="482" height="260" class="img_E7b_"> <img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.024-0009741afe62249015c9b3eb979f54bd.png" width="624" height="34" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="optimizationchunkids配置"><strong>optimization.chunkIds配置</strong><a class="hash-link" href="#optimizationchunkids配置" title="Direct link to heading">​</a></h3><ul><li><p><strong>optimization.chunkIds配置用于告知webpack模块的id采用什么算法生成。</strong></p></li><li><p>有三个比较常见的值：</p><ul><li><strong>natural：按照数字的顺序使用id；</strong><ul><li>如果在使用的时候，删除一些包，那些其他内容不变的包，文件名的ID会重新生成。</li><li>其实文件名是应该不变的，不然浏览器会重新下载包。</li></ul></li></ul><p><img loading="lazy" alt="image-20230726113105206" src="/FED-DOC/assets/images/image-20230726113105206-53fbfc5db46ed9117211f7b05039e4c6.png" width="1411" height="557" class="img_E7b_"></p><ul><li><strong>named：一个可读的名称的id；（development下的默认值）</strong></li></ul><p><img loading="lazy" alt="image-20230726113136032" src="/FED-DOC/assets/images/image-20230726113136032-e4c8e2a18195d10f6f6b0f774f20ea87.png" width="1344" height="476" class="img_E7b_"></p><ul><li><strong>deterministic：确定性的，在不同的编译中不变的短数字id（production下的默认值）</strong><ul><li>根据算法生成的确定的ID，就算重新生成，只要内容不变，ID就会不变</li><li>在webpack4中是没有这个值的；如果使用natural，那么在一些编译发生变化时，就会有问题；</li></ul></li></ul></li><li><p>最佳实践：</p><ul><li><strong>开发过程中，我们推荐使用named；</strong></li><li><strong>打包过程中，我们推荐使用deterministic；</strong></li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="optimizationruntimechunk配置"><strong>optimization.runtimeChunk配置</strong><a class="hash-link" href="#optimizationruntimechunk配置" title="Direct link to heading">​</a></h4><ul><li><p><strong>配置runtime相关的代码是否抽取到一个单独的chunk中：</strong></p><ul><li>runtime相关的代码指的是在运行环境中，对模块进行解析、加载、模块信息相关的代码；</li><li>比如我们的component、bar两个通过import函数相关的代码加载，就是通过runtime代码完成的；</li></ul></li><li><p><strong>抽离出来后，有利于浏览器缓存的策略：</strong></p><ul><li>比如我们修改了业务代码（main），那么runtime和component、bar的chunk是不需要重新加载的；</li><li>比如我们修改了component、bar的代码，那么main中的代码是不需要重新加载的；</li></ul></li><li><p><strong>设置的值</strong>：</p><ul><li>true/multiple：针对每个入口打包一个runtime文件； </li><li>single：打包一个runtime文件； </li><li>对象：name属性决定runtimeChunk的名称； </li></ul></li><li><p><strong>注意：早期的vue2会抽离一个runtime文件，但是现在的框架基本都不会抽离，文件本身不大，但是会多加一个http请求。</strong></p></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.025-01d36227204714d520eabfa898ecb6a1.png" width="405" height="171" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="prefetch和preload"><strong>Prefetch和Preload</strong><a class="hash-link" href="#prefetch和preload" title="Direct link to heading">​</a></h2><ul><li>webpack v4.6.0+ 增加了对预获取和预加载的支持。</li><li>在声明 import 时，使用下面这些内置指令，来告知浏览器：<ul><li><strong>prefetch</strong>(预获取)：将来某些导航下可能需要的资源</li><li><strong>preload</strong>(预加载)：当前导航下可能需要资源</li></ul></li><li>如何使用：<ul><li>在使用import时，添加魔法注释,<code>/* webpackPreload:true */</code></li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.026-551ef3e74b277b4ec98dd3aa39aeb3ff.png" width="457" height="153" class="img_E7b_"></p><ul><li><strong>与 prefetch 指令相比，preload 指令有许多不同之处：</strong><ul><li>preload chunk 会在父 chunk 加载时，以并行方式开始加载。prefetch chunk 会在父 chunk 加载结束后开始加载。</li><li>preload chunk 具有中等优先级，并立即下载。prefetch chunk 在浏览器闲置时下载。</li><li>preload chunk 会在父 chunk 中立即请求，用于当下时刻。prefetch chunk 会用于未来的某个时刻。</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="什么是cdn"><strong>什么是CDN？</strong><a class="hash-link" href="#什么是cdn" title="Direct link to heading">​</a></h2><ul><li><strong>CDN称之为内容分发网络（Content Delivery Network或Content Distribution Network，缩写：CDN）</strong><ul><li>它是指通过相互连接的网络系统，利用最靠近每个用户的服务器；</li><li>更快、更可靠地将音乐、图片、视频、应用程序及其他文件发送给用户；</li><li>来提供高性能、可扩展性及低成本的网络内容传递给用户；</li></ul></li></ul><ul><li>在开发中，我们使用CDN主要是两种方式：<ul><li>方式一：打包的所有静态资源，放到CDN服务器， 用户所有资源都是通过CDN服务器加载的；</li><li>方式二：一些第三方资源放到CDN服务器上；</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.027-0336068-86dbb5c5715762dbaaf921f9c7dd2aa0.png" width="660" height="334" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="webpack中使用cdn"><strong>webpack中使用CDN</strong><a class="hash-link" href="#webpack中使用cdn" title="Direct link to heading">​</a></h3><ul><li>如果所有的静态资源都想要放到CDN服务器上，我们需要购买自己的CDN服务器；<ul><li>目前阿里、腾讯、亚马逊、Google等都可以购买CDN服务器；</li><li><strong>我们可以直接修改publicPath，在打包时添加上自己的CDN地址</strong>；</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.028-f7faa00347bc26e814c4c3ebe9c703cb.png" width="654" height="216" class="img_E7b_"></p><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.029-4199884a7787f46eed01ebb2db71c1fa.png" width="1158" height="161" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="webpack手动引入cdn"><strong>webpack手动引入CDN</strong><a class="hash-link" href="#webpack手动引入cdn" title="Direct link to heading">​</a></h3><ul><li><p>通常一些比较出名的开源框架都会将打包后的源码放到一些比较出名的、免费的CDN服务器上：</p><ul><li>国际上使用比较多的是unpkg、JSDelivr、cdnjs；</li><li>国内也有一个比较好用的CDN是bootcdn；</li></ul></li><li><p>在项目中，我们如何去引入这些CDN呢？</p><ul><li>第一，在打包的时候我们不再需要对类似于lodash或者dayjs这些库进行打包；</li><li>第二，在html模块中，我们需要自己加入对应的CDN服务器地址；</li></ul></li><li><p><strong>第一步，我们可以通过webpack配置，来排除一些库的打包：</strong></p><ul><li>Key：排除框架的名称，比如<code>import _ from &#x27;lodash&#x27;</code>中的<code>lodash</code></li><li>Value：为cdn提供的全局变量的名称，比如lodash的CDN提供的全局变量名就是<code>_</code></li><li>在使用的时候，也要使用value，比如<code>_.cloneDeep()</code></li></ul></li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 排除某些包不需要进行打包</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">externals</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">react</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;React&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// key属性名: 排除的框架的名称</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// value值: 从CDN地址请求下来的js中提供对应的名称</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">lodash</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;_&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><strong>第二步，在html模块中，加入CDN服务器地址：</strong> <img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.031-0b8e0b321507c8503b6f820a9210d98d.png" width="909" height="65" class="img_E7b_"></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="认识shimming"><strong>认识shimming</strong><a class="hash-link" href="#认识shimming" title="Direct link to heading">​</a></h2><ul><li>shimming是一个概念，是某一类功能的统称：<ul><li>shimming翻译过来我们称之为 垫片，相当于给我们的代码填充一些垫片来处理一些问题；<ul><li><strong>比如我们现在依赖一个第三方的库，这个第三方的库本身依赖lodash，但是默认没有对lodash进行导入（认为全局存在 lodash）</strong></li><li><strong>比如没有使用<code>import _ from &#x27;lodash&#x27;</code>，也没有使用CDN，想通过变量<code>_</code>来使用。</strong></li></ul></li><li>那么我们就可以通过ProvidePlugin来实现shimming的效果；</li></ul></li><li><strong>注意：webpack并不推荐随意的使用shimming</strong><ul><li>Webpack背后的整个理念是使前端开发更加模块化；</li><li>也就是说，需要编写具有封闭性的、不存在隐含依赖（比如全局变量）的彼此隔离的模块；</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="使用shimming预支全局变量"><strong>使用Shimming预支全局变量</strong><a class="hash-link" href="#使用shimming预支全局变量" title="Direct link to heading">​</a></h3><ul><li><strong>我们可以通过使用ProvidePlugin来实现shimming的效果：</strong><ul><li>ProvidePlugin能够帮助我们在每个模块中，通过一个变量来获取一个package； </li><li>如果webpack看到这个模块，它将在最终的bundle中引入这个模块； </li><li>另外ProvidePlugin是webpack默认的一个插件，所以不需要专门导入； </li></ul></li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ProvidePlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">axios</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;axios&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;default&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">dayjs</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;dayjs&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// import axios from &#x27;axios&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// import dayjs from &#x27;dayjs&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">axios</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;http://123.207.32.32:8000/home/multidata&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">dayjs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><strong>这段代码的本质是告诉webpack：</strong><ul><li><strong>如果你遇到了至少一处用到 axios变量的模块实例，那请你将 axios package 引入进来，并将其提供给需要用到它的模块。</strong></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="css样式的单独提取"><strong>CSS样式的单独提取</strong><a class="hash-link" href="#css样式的单独提取" title="Direct link to heading">​</a></h2><ul><li><strong>MiniCssExtractPlugin可以帮助我们将css提取到一个独立的css文件中，该插件需要在webpack4+才可以使用。</strong></li><li><strong>首先，我们需要安装 mini-css-extract-plugin：</strong><ul><li><code>npm install mini-css-extract-plugin -D</code></li></ul></li></ul><ul><li><p><strong>配置rules和plugins：</strong></p><ul><li>Style-loader是将css写入到html中，将这个loader换成MiniCssExtractPlugin.loader</li></ul></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.034-a35fea1ec19c44bcb51529a627f5d5e0.jpeg" width="559" height="324" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="hashcontenthashchunkhash"><strong>Hash、ContentHash、ChunkHash</strong><a class="hash-link" href="#hashcontenthashchunkhash" title="Direct link to heading">​</a></h2><ul><li><p>在我们给打包的文件进行命名的时候会使用placeholder，placeholder中有几个属性比较相似：</p><ul><li><strong>hash、chunkhash、contenthash</strong></li></ul></li><li><p>hash本身是通过MD4的散列函数处理后，生成一个128位的hash值（32个十六进制）；</p></li><li><p><strong>hash值的生成和整个项目有关系：</strong></p><ul><li>比如我们现在有两个入口index.js和main.js；</li><li>它们分别会输出到不同的bundle文件中，并且在文件名称中我们有使用hash；</li><li>这个时候，如果修改了index.js文件中的内容，那么hash会发生变化；</li><li>那就意味着两个文件的名称都会发生变化；</li></ul></li><li><p><strong>chunkhash可以有效的解决上面的问题，它会根据不同的入口进行解析来生成hash值：</strong></p><ul><li>比如我们修改了index.js，那么main.js的chunkhash是不会发生改变的；</li></ul></li><li><p><strong>contenthash表示生成的文件hash名称，只和内容有关系：</strong></p><ul><li>比如我们的index.js，引入了一个style.css，style.css有被抽取到一个独立的css文件中；</li><li>这个css文件在命名时，如果我们使用的是chunkhash；</li><li>那么当index.js文件的内容发生变化时，css文件的命名也会发生变化；</li><li>这个时候我们可以使用contenthash；</li></ul></li><li><p><strong>注意：使用的尽量使用contenthash</strong></p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="认识dll库了解"><strong>认识DLL库（了解）</strong><a class="hash-link" href="#认识dll库了解" title="Direct link to heading">​</a></h2><ul><li><p><strong>DLL是什么呢？</strong></p><ul><li>DLL全程是动态链接库（Dynamic Link Library），是为软件在Windows中实现共享函数库的一种实现方式；</li><li>那么webpack中也有内置DLL的功能，它指的是我们可以将能够共享，并且不经常改变的代码，抽取成一个共享的库；</li><li>这个库在之后编译的过程中，会被引入到其他项目的代码中；</li></ul></li><li><p><strong>DDL库的使用分为两步:</strong></p><ul><li>第一步：打包一个DLL库；</li><li>第二步：项目中引入DLL库；</li></ul></li><li><p><strong>注意：在升级到webpack4之后，React和Vue脚手架都移除了DLL库（下面的vue作者的回复），所以知道有这么一个概念即 可。</strong></p></li></ul><p><img loading="lazy" src="/FED-DOC/assets/images/Aspose.Words.81716918-a676-4933-91b2-152c66b90168.035-0380cfe109f4eaf7899ab5cd2565663e.png" width="783" height="90" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="作业">作业<a class="hash-link" href="#作业" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="一-完成上课所有的代码练习和配置演练">一. 完成上课所有的代码练习和配置演练<a class="hash-link" href="#一-完成上课所有的代码练习和配置演练" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithStickyNavbar_mojV" id="二-webpack有哪些常见的性能优化方案说出每种优化方案是如何配置以及优化方案的原理">二. webpack有哪些常见的性能优化方案？说出每种优化方案是如何配置，以及优化方案的原理。<a class="hash-link" href="#二-webpack有哪些常见的性能优化方案说出每种优化方案是如何配置以及优化方案的原理" title="Direct link to heading">​</a></h3><ul><li>比如分包处理<ul><li>三种分包方式。</li><li>分包后浏览器在加载包时有什么优势？比如增加首屏的渲染速度等</li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Guing/FED-DOC/docs/19-体系/codewhy前端体系/15-Webpack+Gulp+Vite+Rollup/04_webpack性能优化方案.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/深入解析Babel使用"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">深入解析Babel使用</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/FED-DOC/docs/体系/codewhy前端体系/Webpack+Gulp+Vite+Rollup/webpack性能优化方案（二）"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">webpack性能优化方案（二）</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a><ul><li><a href="#一-代码分包" class="table-of-contents__link toc-highlight">一. 代码分包</a></li><li><a href="#二-其他优化" class="table-of-contents__link toc-highlight">二. 其他优化</a></li><li><a href="#22-css的提取" class="table-of-contents__link toc-highlight">2.2. CSS的提取</a></li><li><a href="#23-hashchunkhashcontenthash" class="table-of-contents__link toc-highlight">2.3. Hash/ChunkHash/ContentHash</a></li><li><a href="#24-ddl课下自行了解" class="table-of-contents__link toc-highlight">2.4. DDL(课下自行了解)</a></li></ul></li><li><a href="#如何使用webpack性能优化" class="table-of-contents__link toc-highlight"><strong>如何使用webpack性能优化？</strong></a></li><li><a href="#性能优化---代码分离" class="table-of-contents__link toc-highlight"><strong>性能优化 - 代码分离</strong></a><ul><li><a href="#多入口起点" class="table-of-contents__link toc-highlight"><strong>多入口起点</strong></a></li><li><a href="#entry-dependencies入口依赖" class="table-of-contents__link toc-highlight"><strong>Entry Dependencies(入口依赖)</strong></a></li><li><a href="#动态导入dynamic-import" class="table-of-contents__link toc-highlight"><strong>动态导入(dynamic import)</strong></a></li></ul></li><li><a href="#optimization优化配置" class="table-of-contents__link toc-highlight">optimization优化配置</a><ul><li><a href="#splitchunks" class="table-of-contents__link toc-highlight"><strong>SplitChunks</strong></a></li><li><a href="#注释的单独提取" class="table-of-contents__link toc-highlight"><strong>注释的单独提取</strong></a></li><li><a href="#optimizationchunkids配置" class="table-of-contents__link toc-highlight"><strong>optimization.chunkIds配置</strong></a></li></ul></li><li><a href="#prefetch和preload" class="table-of-contents__link toc-highlight"><strong>Prefetch和Preload</strong></a></li><li><a href="#什么是cdn" class="table-of-contents__link toc-highlight"><strong>什么是CDN？</strong></a><ul><li><a href="#webpack中使用cdn" class="table-of-contents__link toc-highlight"><strong>webpack中使用CDN</strong></a></li><li><a href="#webpack手动引入cdn" class="table-of-contents__link toc-highlight"><strong>webpack手动引入CDN</strong></a></li></ul></li><li><a href="#认识shimming" class="table-of-contents__link toc-highlight"><strong>认识shimming</strong></a><ul><li><a href="#使用shimming预支全局变量" class="table-of-contents__link toc-highlight"><strong>使用Shimming预支全局变量</strong></a></li></ul></li><li><a href="#css样式的单独提取" class="table-of-contents__link toc-highlight"><strong>CSS样式的单独提取</strong></a></li><li><a href="#hashcontenthashchunkhash" class="table-of-contents__link toc-highlight"><strong>Hash、ContentHash、ChunkHash</strong></a></li><li><a href="#认识dll库了解" class="table-of-contents__link toc-highlight"><strong>认识DLL库（了解）</strong></a></li><li><a href="#作业" class="table-of-contents__link toc-highlight">作业</a><ul><li><a href="#一-完成上课所有的代码练习和配置演练" class="table-of-contents__link toc-highlight">一. 完成上课所有的代码练习和配置演练</a></li><li><a href="#二-webpack有哪些常见的性能优化方案说出每种优化方案是如何配置以及优化方案的原理" class="table-of-contents__link toc-highlight">二. webpack有哪些常见的性能优化方案？说出每种优化方案是如何配置，以及优化方案的原理。</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">笔记</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/FED-DOC/docs/intro">前端</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Guing" target="_blank" rel="noopener noreferrer" class="footer__link-item">关于我<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/FED-DOC/blog">博客</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
      <div>
        <div>Copyright © 2023 FED-DOCS, Inc. Built with Docusaurus.</div>
         <div>
           <img width="25" height="25" src="img/icp.png" alt="图标描述"> <a href="https://beian.mps.gov.cn/#/query/webSearch?code=44010602012151" rel="noreferrer" target="_blank">粤公网安备44010602012151</a>
         </div>
      </div>
    </div></div></div></footer></div>
<script src="/FED-DOC/assets/js/runtime~main.5bcd5349.js"></script>
<script src="/FED-DOC/assets/js/main.0a48b003.js"></script>
</body>
</html>