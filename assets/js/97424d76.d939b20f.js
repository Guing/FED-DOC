"use strict";(self.webpackChunkfed_doc=self.webpackChunkfed_doc||[]).push([[89156],{3905:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return c}});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=n.createContext({}),k=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=k(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},o=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),o=k(a),c=l,N=o["".concat(s,".").concat(c)]||o[c]||m[c]||r;return a?n.createElement(N,i(i({ref:t},u),{},{components:a})):n.createElement(N,i({ref:t},u))}));function c(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=o;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:l,i[1]=p;for(var k=2;k<r;k++)i[k]=a[k];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}o.displayName="MDXCreateElement"},86546:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return c},frontMatter:function(){return p},metadata:function(){return k},toc:function(){return m}});var n=a(87462),l=a(63366),r=(a(67294),a(3905)),i=["components"],p={},s=void 0,k={unversionedId:"\u4f53\u7cfb/codewhy\u524d\u7aef\u4f53\u7cfb/Webpack+Gulp+Vite+Rollup/webpack\u6027\u80fd\u4f18\u5316\u65b9\u6848\uff08\u4e8c\uff09",id:"\u4f53\u7cfb/codewhy\u524d\u7aef\u4f53\u7cfb/Webpack+Gulp+Vite+Rollup/webpack\u6027\u80fd\u4f18\u5316\u65b9\u6848\uff08\u4e8c\uff09",title:"webpack\u6027\u80fd\u4f18\u5316\u65b9\u6848\uff08\u4e8c\uff09",description:"\u603b\u7ed3",source:"@site/docs/19-\u4f53\u7cfb/codewhy\u524d\u7aef\u4f53\u7cfb/15-Webpack+Gulp+Vite+Rollup/05_webpack\u6027\u80fd\u4f18\u5316\u65b9\u6848\uff08\u4e8c\uff09.md",sourceDirName:"19-\u4f53\u7cfb/codewhy\u524d\u7aef\u4f53\u7cfb/15-Webpack+Gulp+Vite+Rollup",slug:"/\u4f53\u7cfb/codewhy\u524d\u7aef\u4f53\u7cfb/Webpack+Gulp+Vite+Rollup/webpack\u6027\u80fd\u4f18\u5316\u65b9\u6848\uff08\u4e8c\uff09",permalink:"/FED-DOC/docs/\u4f53\u7cfb/codewhy\u524d\u7aef\u4f53\u7cfb/Webpack+Gulp+Vite+Rollup/webpack\u6027\u80fd\u4f18\u5316\u65b9\u6848\uff08\u4e8c\uff09",editUrl:"https://github.com/Guing/FED-DOC/docs/19-\u4f53\u7cfb/codewhy\u524d\u7aef\u4f53\u7cfb/15-Webpack+Gulp+Vite+Rollup/05_webpack\u6027\u80fd\u4f18\u5316\u65b9\u6848\uff08\u4e8c\uff09.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"webpack\u6027\u80fd\u4f18\u5316\u65b9\u6848",permalink:"/FED-DOC/docs/\u4f53\u7cfb/codewhy\u524d\u7aef\u4f53\u7cfb/Webpack+Gulp+Vite+Rollup/webpack\u6027\u80fd\u4f18\u5316\u65b9\u6848"},next:{title:"webpack\u81ea\u5b9a\u4e49loader",permalink:"/FED-DOC/docs/\u4f53\u7cfb/codewhy\u524d\u7aef\u4f53\u7cfb/Webpack+Gulp+Vite+Rollup/webpack\u81ea\u5b9a\u4e49loader"}},u={},m=[{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2},{value:"\u4e00. webpack\u6027\u80fd\u4f18\u5316",id:"\u4e00-webpack\u6027\u80fd\u4f18\u5316",level:3},{value:"1.1. Terser\u5de5\u5177\u548c\u914d\u7f6e",id:"11-terser\u5de5\u5177\u548c\u914d\u7f6e",level:4},{value:"1.2. CSS\u4f18\u5316<em>CSSMinimizerPlugin</em>",id:"12-css\u4f18\u5316cssminimizerplugin",level:4},{value:"1.3. \u4ee3\u7801\u7684\u5206\u79bb - \u5f00\u53d1\u548c\u751f\u4ea7",id:"13-\u4ee3\u7801\u7684\u5206\u79bb---\u5f00\u53d1\u548c\u751f\u4ea7",level:4},{value:"1.4. JavaScript TreeShaking",id:"14-javascript-treeshaking",level:4},{value:"1.5. CSS TreeShaking",id:"15-css-treeshaking",level:4},{value:"1.6. \u4f5c\u7528\u57df\u63d0\u5347 <strong>Scope</strong> <strong>Hoisting</strong>",id:"16-\u4f5c\u7528\u57df\u63d0\u5347-scope-hoisting",level:4},{value:"1.7. HTTP\u538b\u7f29 - gzip",id:"17-http\u538b\u7f29---gzip",level:4},{value:"1.8. HTML\u6587\u4ef6\u538b\u7f29",id:"18-html\u6587\u4ef6\u538b\u7f29",level:4},{value:"\u4e8c. \u6253\u5305\u7684\u6027\u80fd\u5206\u6790",id:"\u4e8c-\u6253\u5305\u7684\u6027\u80fd\u5206\u6790",level:3},{value:"2.1. \u65f6\u95f4\u7684\u5206\u6790",id:"21-\u65f6\u95f4\u7684\u5206\u6790",level:4},{value:"2.2. \u7ed3\u679c\u7684\u5206\u6790",id:"22-\u7ed3\u679c\u7684\u5206\u6790",level:4},{value:"<strong>JS\u4ee3\u7801\u538b\u7f29</strong>",id:"js\u4ee3\u7801\u538b\u7f29",level:2},{value:"<strong>Terser\u4ecb\u7ecd\u548c\u5b89\u88c5</strong>",id:"terser\u4ecb\u7ecd\u548c\u5b89\u88c5",level:3},{value:"<strong>\u547d\u4ee4\u884c\u4f7f\u7528Terser</strong>",id:"\u547d\u4ee4\u884c\u4f7f\u7528terser",level:3},{value:"<strong>Compress\u548cMangle\u7684options</strong>",id:"compress\u548cmangle\u7684options",level:3},{value:"<strong>Terser\u5728webpack\u4e2d\u914d\u7f6e</strong>",id:"terser\u5728webpack\u4e2d\u914d\u7f6e",level:3},{value:"<strong>CSS\u7684\u538b\u7f29</strong>",id:"css\u7684\u538b\u7f29",level:2},{value:"<strong>Tree Shaking</strong>",id:"tree-shaking",level:2},{value:"<strong>webpack\u5b9e\u73b0Tree Shaking</strong>",id:"webpack\u5b9e\u73b0tree-shaking",level:3},{value:"<strong>usedExports</strong>",id:"usedexports",level:3},{value:"<strong>sideEffects</strong>",id:"sideeffects",level:3},{value:"<strong>Webpack\u4e2dtree shaking\u7684\u8bbe\u7f6e</strong>",id:"webpack\u4e2dtree-shaking\u7684\u8bbe\u7f6e",level:3},{value:"<strong>Scope Hoisting</strong>",id:"scope-hoisting",level:3},{value:"<strong>CSS\u5b9e\u73b0Tree Shaking</strong>",id:"css\u5b9e\u73b0tree-shaking",level:2},{value:"<strong>\u914d\u7f6ePurgeCss</strong>",id:"\u914d\u7f6epurgecss",level:3},{value:"<strong>HTML\u6587\u4ef6\u7684\u538b\u7f29</strong>",id:"html\u6587\u4ef6\u7684\u538b\u7f29",level:2},{value:"HTTP\u538b\u7f29",id:"http\u538b\u7f29",level:2},{value:"<strong>\u76ee\u524d\u7684\u538b\u7f29\u683c\u5f0f</strong>",id:"\u76ee\u524d\u7684\u538b\u7f29\u683c\u5f0f",level:3},{value:"<strong>Webpack\u5bf9\u6587\u4ef6\u538b\u7f29</strong>",id:"webpack\u5bf9\u6587\u4ef6\u538b\u7f29",level:3},{value:"<strong>webpack\u6253\u5305\u5206\u6790</strong>",id:"webpack\u6253\u5305\u5206\u6790",level:2},{value:"\u6253\u5305\u8fc7\u7a0b\u65f6\u95f4\u5206\u6790",id:"\u6253\u5305\u8fc7\u7a0b\u65f6\u95f4\u5206\u6790",level:3},{value:"<strong>\u6253\u5305\u540e\u6587\u4ef6\u5206\u6790</strong>",id:"\u6253\u5305\u540e\u6587\u4ef6\u5206\u6790",level:3},{value:"\u4f5c\u4e1a",id:"\u4f5c\u4e1a",level:2},{value:"\u4e8c. webpack\u5982\u4f55\u5bf9JavaScript\u4ee3\u7801\u8fdb\u884c\u4f18\u5316\uff1fTerser\u5de5\u5177\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f",id:"\u4e8c-webpack\u5982\u4f55\u5bf9javascript\u4ee3\u7801\u8fdb\u884c\u4f18\u5316terser\u5de5\u5177\u7684\u4f5c\u7528\u662f\u4ec0\u4e48",level:3},{value:"\u4e09. \u4ec0\u4e48\u662fTreeShaking\uff1fwebpack\u5b9e\u73b0TreeShaking\u7684\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f",id:"\u4e09-\u4ec0\u4e48\u662ftreeshakingwebpack\u5b9e\u73b0treeshaking\u7684\u65b9\u5f0f\u6709\u54ea\u4e9b",level:3},{value:"\u56db. CSS\u4ee3\u7801\u5982\u4f55\u8fdb\u884c\u538b\u7f29\u4f18\u5316\uff1f\u662f\u5426CSS\u4e5f\u53ef\u4ee5\u5b9e\u73b0TreeShaking\u7684\u6548\u679c\uff1f(\u540e\u7eed)",id:"\u56db-css\u4ee3\u7801\u5982\u4f55\u8fdb\u884c\u538b\u7f29\u4f18\u5316\u662f\u5426css\u4e5f\u53ef\u4ee5\u5b9e\u73b0treeshaking\u7684\u6548\u679c\u540e\u7eed",level:3},{value:"\u4e94. HTML\u5982\u4f55\u5b9e\u73b0\u4ee3\u7801\u7684\u538b\u7f29\uff1f\u6709\u54ea\u4e9bHTML\u5e38\u89c1\u7684\u914d\u7f6e\uff1f",id:"\u4e94-html\u5982\u4f55\u5b9e\u73b0\u4ee3\u7801\u7684\u538b\u7f29\u6709\u54ea\u4e9bhtml\u5e38\u89c1\u7684\u914d\u7f6e",level:3}],o={toc:m};function c(e){var t=e.components,p=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,n.Z)({},o,p,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"\u603b\u7ed3"},"\u603b\u7ed3"),(0,r.kt)("h3",{id:"\u4e00-webpack\u6027\u80fd\u4f18\u5316"},"\u4e00. webpack\u6027\u80fd\u4f18\u5316"),(0,r.kt)("h4",{id:"11-terser\u5de5\u5177\u548c\u914d\u7f6e"},"1.1. Terser\u5de5\u5177\u548c\u914d\u7f6e"),(0,r.kt)("h4",{id:"12-css\u4f18\u5316cssminimizerplugin"},"1.2. CSS\u4f18\u5316",(0,r.kt)("em",{parentName:"h4"},"CSSMinimizerPlugin")),(0,r.kt)("h4",{id:"13-\u4ee3\u7801\u7684\u5206\u79bb---\u5f00\u53d1\u548c\u751f\u4ea7"},"1.3. \u4ee3\u7801\u7684\u5206\u79bb - \u5f00\u53d1\u548c\u751f\u4ea7"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"comm.config.js"),(0,r.kt)("li",{parentName:"ul"},"prod.config.js"),(0,r.kt)("li",{parentName:"ul"},"dev.config.js")),(0,r.kt)("h4",{id:"14-javascript-treeshaking"},"1.4. JavaScript TreeShaking"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"TreeShaking\u4ecb\u7ecd"),(0,r.kt)("li",{parentName:"ul"},"\u65b9\u5f0f\u4e00: usedExports"),(0,r.kt)("li",{parentName:"ul"},"\u65b9\u5f0f\u4e8c: sideEffects")),(0,r.kt)("h4",{id:"15-css-treeshaking"},"1.5. CSS TreeShaking"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"PurgeCSSPlugin"))),(0,r.kt)("h4",{id:"16-\u4f5c\u7528\u57df\u63d0\u5347-scope-hoisting"},"1.6. \u4f5c\u7528\u57df\u63d0\u5347 ",(0,r.kt)("strong",{parentName:"h4"},"Scope")," ",(0,r.kt)("strong",{parentName:"h4"},"Hoisting")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"new webpack.optimize.ModuleConcatenationPlugin()")),(0,r.kt)("h4",{id:"17-http\u538b\u7f29---gzip"},"1.7. HTTP\u538b\u7f29 - gzip"),(0,r.kt)("h4",{id:"18-html\u6587\u4ef6\u538b\u7f29"},"1.8. HTML\u6587\u4ef6\u538b\u7f29"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"HTMLWebpackPlugin")),(0,r.kt)("h3",{id:"\u4e8c-\u6253\u5305\u7684\u6027\u80fd\u5206\u6790"},"\u4e8c. \u6253\u5305\u7684\u6027\u80fd\u5206\u6790"),(0,r.kt)("h4",{id:"21-\u65f6\u95f4\u7684\u5206\u6790"},"2.1. \u65f6\u95f4\u7684\u5206\u6790"),(0,r.kt)("h4",{id:"22-\u7ed3\u679c\u7684\u5206\u6790"},"2.2. \u7ed3\u679c\u7684\u5206\u6790"),(0,r.kt)("h2",{id:"js\u4ee3\u7801\u538b\u7f29"},(0,r.kt)("strong",{parentName:"h2"},"JS\u4ee3\u7801\u538b\u7f29")),(0,r.kt)("h3",{id:"terser\u4ecb\u7ecd\u548c\u5b89\u88c5"},(0,r.kt)("strong",{parentName:"h3"},"Terser\u4ecb\u7ecd\u548c\u5b89\u88c5")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4ec0\u4e48\u662fTerser\u5462\uff1f"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Terser\u662f\u4e00\u4e2aJavaScript\u7684\u89e3\u91ca\uff08Parser\uff09\u3001Mangler\uff08\u7ede\u8089\u673a\uff09/Compressor\uff08\u538b\u7f29\u673a\uff09\u7684\u5de5\u5177\u96c6\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u65e9\u671f\u6211\u4eec\u4f1a\u4f7f\u7528 uglify-js\u6765\u538b\u7f29\u3001\u4e11\u5316\u6211\u4eec\u7684JavaScript\u4ee3\u7801\uff0c\u4f46\u662f\u76ee\u524d\u5df2\u7ecf\u4e0d\u518d\u7ef4\u62a4\uff0c\u5e76\u4e14\u4e0d\u652f\u6301ES6+\u7684\u8bed\u6cd5\uff1b"),(0,r.kt)("li",{parentName:"ul"},"Terser\u662f\u4ece uglify-es fork \u8fc7\u6765\u7684\uff0c\u5e76\u4e14\u4fdd\u7559\u5b83\u539f\u6765\u7684\u5927\u90e8\u5206API\u4ee5\u53ca\u9002\u914d uglify-es\u548cuglify-js@3\u7b49\uff1b"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u4e5f\u5c31\u662f\u8bf4\uff0cTerser\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u538b\u7f29\u3001\u4e11\u5316\u6211\u4eec\u7684\u4ee3\u7801\uff0c\u8ba9\u6211\u4eec\u7684bundle\u53d8\u5f97\u66f4\u5c0f\u3002"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u56e0\u4e3aTerser\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u5de5\u5177\uff0c\u6240\u4ee5\u5b83\u53ef\u4ee5\u5355\u72ec\u5b89\u88c5\uff1a")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5168\u5c40\u5b89\u88c5"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"npm install terser -g"))))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5c40\u90e8\u5b89\u88c5",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"npm install terser -D"))))),(0,r.kt)("h3",{id:"\u547d\u4ee4\u884c\u4f7f\u7528terser"},(0,r.kt)("strong",{parentName:"h3"},"\u547d\u4ee4\u884c\u4f7f\u7528Terser")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6211\u4eec\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528Terser\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"terser [input files] [options]"))))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4e3e\u4f8b\u8bf4\u660e",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"terser js/file1.js -o foo.min.js -c -m "))))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6211\u4eec\u8fd9\u91cc\u6765\u8bb2\u89e3\u51e0\u4e2aCompress option\u548cMangle(\u4e71\u780d) option\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u56e0\u4e3a\u4ed6\u4eec\u7684\u914d\u7f6e\u975e\u5e38\u591a\uff0c\u6211\u4eec\u4e0d\u53ef\u80fd\u4e00\u4e2a\u4e2a\u89e3\u6790\uff0c\u66f4\u591a\u7684\u67e5\u770b\u6587\u6863\u5373\u53ef\uff1b"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/terser/terser#compress-options"},"https://github.com/terser/terser#compress-options"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/terser/terser#mangle-options"},"https://github.com/terser/terser#mangle-options")))),(0,r.kt)("h3",{id:"compress\u548cmangle\u7684options"},(0,r.kt)("strong",{parentName:"h3"},"Compress\u548cMangle\u7684options")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Compress option\uff1a")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"arrows\uff1aclass\u6216\u8005object\u4e2d\u7684\u51fd\u6570\uff0c\u8f6c\u6362\u6210\u7bad\u5934\u51fd\u6570\uff1b"),(0,r.kt)("li",{parentName:"ul"},"arguments\uff1a\u5c06\u51fd\u6570\u4e2d\u4f7f\u7528 arguments","[index]","\u8f6c\u6210\u5bf9\u5e94\u7684\u5f62\u53c2\u540d\u79f0\uff1b"),(0,r.kt)("li",{parentName:"ul"},"dead","_","code\uff1a\u79fb\u9664\u4e0d\u53ef\u8fbe\u7684\u4ee3\u7801\uff08tree shaking\uff09\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u5176\u4ed6\u5c5e\u6027\u53ef\u4ee5\u67e5\u770b\u6587\u6863\uff1b"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Mangle option")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"toplevel\uff1a\u9ed8\u8ba4\u503c\u662ffalse\uff0c\u9876\u5c42\u4f5c\u7528\u57df\u4e2d\u7684\u53d8\u91cf\u540d\u79f0\uff0c\u8fdb\u884c\u4e11\u5316\uff08\u8f6c\u6362\uff09\uff1b"),(0,r.kt)("li",{parentName:"ul"},"keep","_","classnames\uff1a\u9ed8\u8ba4\u503c\u662ffalse\uff0c\u662f\u5426\u4fdd\u6301\u4f9d\u8d56\u7684\u7c7b\u540d\u79f0\uff1b"),(0,r.kt)("li",{parentName:"ul"},"keep","_","fnames\uff1a\u9ed8\u8ba4\u503c\u662ffalse\uff0c\u662f\u5426\u4fdd\u6301\u539f\u6765\u7684\u51fd\u6570\u540d\u79f0\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u5176\u4ed6\u5c5e\u6027\u53ef\u4ee5\u67e5\u770b\u6587\u6863\uff1b")))),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"npx terser ./src/abc.js -o abc.min.js -c arrows,arguments=true,dead\\_code -m toplevel=true,keep\\_classnames=true,keep\\_fnames=true ")),(0,r.kt)("h3",{id:"terser\u5728webpack\u4e2d\u914d\u7f6e"},(0,r.kt)("strong",{parentName:"h3"},"Terser\u5728webpack\u4e2d\u914d\u7f6e")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u771f\u5b9e\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u624b\u52a8\u7684\u901a\u8fc7terser\u6765\u5904\u7406\u6211\u4eec\u7684\u4ee3\u7801\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7webpack\u6765\u5904\u7406\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5728webpack\u4e2d\u6709\u4e00\u4e2aminimizer\u5c5e\u6027\uff0c\u5728production\u6a21\u5f0f\u4e0b\uff0c\u9ed8\u8ba4\u5c31\u662f\u4f7f\u7528TerserPlugin\u6765\u5904\u7406\u6211\u4eec\u7684\u4ee3\u7801\u7684"),"\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u6211\u4eec\u5bf9\u9ed8\u8ba4\u7684\u914d\u7f6e\u4e0d\u6ee1\u610f\uff0c\u4e5f\u53ef\u4ee5\u81ea\u5df1\u6765\u521b\u5efaTerserPlugin\u7684\u5b9e\u4f8b\uff0c\u5e76\u4e14\u8986\u76d6\u76f8\u5173\u7684\u914d\u7f6e\uff1b"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u8bbe\u7f6eminimize\u4e3atrue")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u8ba9\u5176\u5bf9\u6211\u4eec\u7684\u4ee3\u7801\u8fdb\u884c\u538b\u7f29\uff08\u9ed8\u8ba4production\u6a21\u5f0f\u4e0b\u5df2\u7ecf\u6253\u5f00\u4e86\uff09 "))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u5176\u6b21\uff0c\u6211\u4eec\u53ef\u4ee5\u5728minimizer\u521b\u5efa\u4e00\u4e2aTerserPlugin\uff1a")," "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"extractComments\uff1a\u9ed8\u8ba4\u503c\u4e3atrue\uff0c\u8868\u793a\u4f1a\u5c06\u6ce8\u91ca\u62bd\u53d6\u5230\u4e00\u4e2a\u5355\u72ec\u7684\u6587\u4ef6\u4e2d\uff1b "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5728\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u4e0d\u5e0c\u671b\u4fdd\u7559\u8fd9\u4e2a\u6ce8\u91ca\u65f6\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3afalse\uff1b "))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"parallel\uff1a\u4f7f\u7528\u591a\u8fdb\u7a0b\u5e76\u53d1\u8fd0\u884c\u63d0\u9ad8\u6784\u5efa\u7684\u901f\u5ea6\uff0c\u9ed8\u8ba4\u503c\u662ftrue "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5e76\u53d1\u8fd0\u884c\u7684\u9ed8\u8ba4\u6570\u91cf\uff1a os.cpus().length - 1\uff1b "),(0,r.kt)("li",{parentName:"ul"},"\u6211\u4eec\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u81ea\u5df1\u7684\u4e2a\u6570\uff0c\u4f46\u662f\u4f7f\u7528\u9ed8\u8ba4\u503c\u5373\u53ef\uff1b "))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"terserOptions\uff1a\u8bbe\u7f6e\u6211\u4eec\u7684terser\u76f8\u5173\u7684\u914d\u7f6e "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"compress\uff1a\u8bbe\u7f6e\u538b\u7f29\u76f8\u5173\u7684\u9009\u9879\uff1b "),(0,r.kt)("li",{parentName:"ul"},"mangle\uff1a\u8bbe\u7f6e\u4e11\u5316\u76f8\u5173\u7684\u9009\u9879\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bbe\u7f6e\u4e3atrue\uff1b "),(0,r.kt)("li",{parentName:"ul"},"toplevel\uff1a\u9876\u5c42\u53d8\u91cf\u662f\u5426\u8fdb\u884c\u8f6c\u6362\uff1b "),(0,r.kt)("li",{parentName:"ul"},"keep","_","classnames\uff1a\u4fdd\u7559\u7c7b\u7684\u540d\u79f0\uff1b "),(0,r.kt)("li",{parentName:"ul"},"keep","_","fnames\uff1a\u4fdd\u7559\u51fd\u6570\u7684\u540d\u79f0\uff1b ")))))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," optimization: {\n     minimize: true,\n    // \u4ee3\u7801\u4f18\u5316: TerserPlugin => \u8ba9\u4ee3\u7801\u66f4\u52a0\u7b80\u5355 => Terser\n    minimizer: [\n      // JS\u538b\u7f29\u7684\u63d2\u4ef6: TerserPlugin\n      new TerserPlugin({\n        extractComments: false,\n        terserOptions: {\n          compress: {\n            arguments: true,\n            unused: true\n          },\n          mangle: true,\n          // toplevel: false\n          keep_fnames: true\n        }\n      }),\n   \n    ]\n }\n")),(0,r.kt)("h2",{id:"css\u7684\u538b\u7f29"},(0,r.kt)("strong",{parentName:"h2"},"CSS\u7684\u538b\u7f29")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u53e6\u4e00\u4e2a\u4ee3\u7801\u7684\u538b\u7f29\u662fCSS\uff1a")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"CSS\u538b\u7f29\u901a\u5e38\u662f\u53bb\u9664\u65e0\u7528\u7684\u7a7a\u683c\u7b49\uff0c\u56e0\u4e3a\u5f88\u96be\u53bb\u4fee\u6539\u9009\u62e9\u5668\u3001\u5c5e\u6027\u7684\u540d\u79f0\u3001\u503c\u7b49\uff1b"),(0,r.kt)("li",{parentName:"ul"},"CSS\u7684\u538b\u7f29\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u53e6\u5916\u4e00\u4e2a\u63d2\u4ef6\uff1acss-minimizer-webpack-plugin\uff1b"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"css-minimizer-webpack-plugin\u662f\u4f7f\u7528cssnano\u5de5\u5177\u6765\u4f18\u5316\u3001\u538b\u7f29CSS\uff08\u4e5f\u53ef\u4ee5\u5355\u72ec\u4f7f\u7528\uff09\uff1b"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7b2c\u4e00\u6b65\uff0c\u5b89\u88c5 ",(0,r.kt)("inlineCode",{parentName:"p"},"css-minimizer-webpack-plugin"),"\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"npm install css-minimizer-webpack-plugin -D"))))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u6b65\uff0c\u5728optimization.minimizer\u4e2d\u914d\u7f6e")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"optimization:{\n  minimizer: [\n     \n      // CSS\u538b\u7f29\u7684\u63d2\u4ef6: CSSMinimizerPlugin\n      new CSSMinimizerPlugin({\n         parallel: true\n      })\n    ]\n}\n\n")),(0,r.kt)("h2",{id:"tree-shaking"},(0,r.kt)("strong",{parentName:"h2"},"Tree Shaking")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4ec0\u4e48\u662fTree Shaking\u5462\uff1f"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Tree Shaking\u662f\u4e00\u4e2a\u672f\u8bed\uff0c\u5728\u8ba1\u7b97\u673a\u4e2d\u8868\u793a\u6d88\u9664\u6b7b\u4ee3\u7801\uff08dead","_","code\uff09\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u6700\u65e9\u7684\u60f3\u6cd5\u8d77\u6e90\u4e8eLISP\uff0c\u7528\u4e8e\u6d88\u9664\u672a\u8c03\u7528\u7684\u4ee3\u7801\uff08\u7eaf\u51fd\u6570\u65e0\u526f\u4f5c\u7528\uff0c\u53ef\u4ee5\u653e\u5fc3\u7684\u6d88\u9664\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u8981\u6c42\u6211\u4eec\u5728\u8fdb\u884c\u51fd\u6570\u5f0f \u7f16\u7a0b\u65f6\uff0c\u5c3d\u91cf\u4f7f\u7528\u7eaf\u51fd\u6570\u7684\u539f\u56e0\u4e4b\u4e00\uff09\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u540e\u6765Tree Shaking\u4e5f\u88ab\u5e94\u7528\u4e8e\u5176\u4ed6\u7684\u8bed\u8a00\uff0c\u6bd4\u5982JavaScript\u3001Dart\uff1b"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"JavaScript\u7684Tree Shaking\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5bf9JavaScript\u8fdb\u884cTree Shaking\u662f\u6e90\u81ea\u6253\u5305\u5de5\u5177rollup"),"\uff08\u540e\u9762\u6211\u4eec\u4e5f\u4f1a\u8bb2\u7684\u6784\u5efa\u5de5\u5177\uff09\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u8fd9\u662f\u56e0\u4e3aTree Shaking\u4f9d\u8d56\u4e8eES Module\u7684\u9759\u6001\u8bed\u6cd5\u5206\u6790\uff08\u4e0d\u6267\u884c\u4efb\u4f55\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u660e\u786e\u77e5\u9053\u6a21\u5757\u7684\u4f9d\u8d56\u5173\u7cfb\uff09\uff1b"),(0,r.kt)("li",{parentName:"ul"},"webpack2\u6b63\u5f0f\u5185\u7f6e\u652f\u6301\u4e86ES2015\u6a21\u5757\uff0c\u548c\u68c0\u6d4b\u672a\u4f7f\u7528\u6a21\u5757\u7684\u80fd\u529b\uff1b"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5728webpack4\u6b63\u5f0f\u6269\u5c55\u4e86\u8fd9\u4e2a\u80fd\u529b\uff0c\u5e76\u4e14\u901a\u8fc7 package.json\u7684 sideEffects\u5c5e\u6027\u4f5c\u4e3a\u6807\u8bb0\uff0c\u544a\u77e5webpack\u5728\u7f16\u8bd1\u65f6\uff0c\u54ea\u91cc\u6587 \u4ef6\u53ef\u4ee5\u5b89\u5168\u7684\u5220\u9664\u6389\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"webpack5\u4e2d\uff0c\u4e5f\u63d0\u4f9b\u4e86\u5bf9\u90e8\u5206CommonJS\u7684tree shaking\u7684\u652f\u6301\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/webpack/changelog-v5#commonjs-tree-shaking"},"https://github.com/webpack/changelog-v5#commonjs-tree-shaking"))))),(0,r.kt)("h3",{id:"webpack\u5b9e\u73b0tree-shaking"},(0,r.kt)("strong",{parentName:"h3"},"webpack\u5b9e\u73b0Tree Shaking")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e8b\u5b9e\u4e0awebpack\u5b9e\u73b0Tree Shaking\u91c7\u7528\u4e86\u4e24\u79cd\u4e0d\u540c\u7684\u65b9\u6848\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"usedExports\uff1a\u901a\u8fc7\u6807\u8bb0\u67d0\u4e9b\u51fd\u6570\u662f\u5426\u88ab\u4f7f\u7528\uff0c\u4e4b\u540e\u901a\u8fc7Terser\u6765\u8fdb\u884c\u4f18\u5316\u7684\uff1b")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5bfc\u5165\u6a21\u5757\u65f6, \u5206\u6790\u6a21\u5757\u4e2d\u7684\u54ea\u4e9b\u51fd\u6570\u6709\u88ab\u4f7f\u7528, \u54ea\u4e9b\u51fd\u6570\u6ca1\u6709\u88ab\u4f7f\u7528\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u7136\u540e\u901a\u8fc7Terser\u538b\u7f29\u5220\u9664\u6389"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"sideEffects\uff1a\u8df3\u8fc7\u6574\u4e2a\u6a21\u5757/\u6587\u4ef6\uff0c\u76f4\u63a5\u67e5\u770b\u8be5\u6587\u4ef6\u662f\u5426\u6709\u526f\u4f5c\u7528\uff1b")))))),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(43495).Z,width:"974",height:"158"})),(0,r.kt)("h3",{id:"usedexports"},(0,r.kt)("strong",{parentName:"h3"},"usedExports")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u5c06mode\u8bbe\u7f6e\u4e3adevelopment\u6a21\u5f0f\uff1a")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4e3a\u4e86\u53ef\u4ee5\u770b\u5230 usedExports\u5e26\u6765\u7684\u6548\u679c\uff0c\u6211\u4eec\u9700\u8981\u8bbe\u7f6e\u4e3a development \u6a21\u5f0f"),(0,r.kt)("li",{parentName:"ul"},"\u56e0\u4e3a\u5728 production \u6a21\u5f0f\u4e0b\uff0cwebpack\u9ed8\u8ba4\u7684\u4e00\u4e9b\u4f18\u5316\u4f1a\u5e26\u6765\u5f88\u5927\u7684\u5f71\u54cd\u3002"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u8bbe\u7f6eusedExports\u4e3atrue\u548cfalse\u5bf9\u6bd4\u6253\u5305\u540e\u7684\u4ee3\u7801\uff1a")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5728usedExports\u8bbe\u7f6e\u4e3atrue\u65f6\uff0c\u4f1a\u6709\u4e00\u6bb5\u6ce8\u91ca\uff1aunused harmony export mul\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u8fd9\u6bb5\u6ce8\u91ca\u7684\u610f\u4e49\u662f\u4ec0\u4e48\u5462\uff1f\u544a\u77e5Terser\u5728\u4f18\u5316\u65f6\uff0c\u53ef\u4ee5\u5220\u9664\u6389\u8fd9\u6bb5\u4ee3\u7801\uff1b")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"  optimization: {\n    // \u5bfc\u5165\u6a21\u5757\u65f6, \u5206\u6790\u6a21\u5757\u4e2d\u7684\u54ea\u4e9b\u51fd\u6570\u6709\u88ab\u4f7f\u7528, \u54ea\u4e9b\u51fd\u6570\u6ca1\u6709\u88ab\u4f7f\u7528.\n    usedExports: true\n  }\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u622a\u5c4f2023-07-26 16.10.23",src:a(87599).Z,width:"2520",height:"1072"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u8fd9\u4e2a\u65f6\u5019\uff0c\u6211\u4eec\u628aminimize\u8bbe\u7f6etrue\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"usedExports\u8bbe\u7f6e\u4e3atrue\u65f6\uff0cmul\u51fd\u6570\u88ab\u9b54\u6cd5\u6ce8\u91ca\u6807\u8bc6\u4e3a\u672a\u4f7f\u7528\uff0c\u6240\u4ee5terser\u4f1a\u628a\u672a\u4f7f\u7528\u7684mul\u51fd\u6570\u5220\u9664\u6389\u3002")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"  optimization: {\n    // \u5bfc\u5165\u6a21\u5757\u65f6, \u5206\u6790\u6a21\u5757\u4e2d\u7684\u54ea\u4e9b\u51fd\u6570\u6709\u88ab\u4f7f\u7528, \u54ea\u4e9b\u51fd\u6570\u6ca1\u6709\u88ab\u4f7f\u7528.\n    minimize: true\n  }\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u6240\u4ee5\uff0cusedExports\u5b9e\u73b0Tree Shaking\u662f\u7ed3\u5408Terser\u6765\u5b8c\u6210\u7684\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"production\u7684\u6a21\u5f0f\u4e0b\uff0cusedExports\u4f1a\u9ed8\u8ba4\u5f00\u542f"))),(0,r.kt)("h3",{id:"sideeffects"},(0,r.kt)("strong",{parentName:"h3"},"sideEffects")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"sideEffects\u7528\u4e8e\u544a\u77e5webpack compiler\u54ea\u4e9b\u6a21\u5757\u65f6\u6709\u526f\u4f5c\u7528\u7684\uff1a")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u526f\u4f5c\u7528\u7684\u610f\u601d\u662f\u8fd9\u91cc\u9762\u7684\u4ee3\u7801\u6709\u6267\u884c\u4e00\u4e9b\u7279\u6b8a\u7684\u4efb\u52a1\uff0c\u4e0d\u80fd\u4ec5\u4ec5\u901a\u8fc7export\u6765\u5224\u65ad\u8fd9\u6bb5\u4ee3\u7801\u7684\u610f\u4e49\uff1b"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u5728package.json\u4e2d\u8bbe\u7f6esideEffects\u7684\u503c\uff1a")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u6211\u4eec\u5c06sideEffects\u8bbe\u7f6e\u4e3afalse\uff0c\u5c31\u662f\u544a\u77e5webpack\u53ef\u4ee5\u5b89\u5168\u7684\u5220\u9664\u672a\u7528\u5230\u7684exports\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u6709\u4e00\u4e9b\u6211\u4eec\u5e0c\u671b\u4fdd\u7559\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u6570\u7ec4\uff1b"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u4f8b\u5b50"),"\uff1a")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e00\u822c\u6211\u4eec\u5728\u4f7f\u7528import\u51fd\u6570\u5355\u7eaf\u5bfc\u5165\u65f6\uff0c\u4e0d\u5f15\u7528\u4efb\u4f55\u4e1c\u897f\u65f6\uff0cwebpack\u4f1a\u9ed8\u8ba4\u4f7f\u7528tree shaking\uff0c\u751f\u6210\u7684\u6587\u4ef6\u4e0d\u4f1a\u6709\u672a\u4f7f\u7528\u7684\u51fd\u6570")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f46\u662f\u8fd9\u4e2a\u6587\u4ef6\u867d\u7136\u662f\u7a7a\u7684\uff0c\u8fd8\u662f\u4f1a\u751f\u6210\u6587\u4ef6\u3002"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"//demo.js\nexport function parseLyric(lyricString) {\n  return []\n}\n\nexport function test() {\n}\n\n\n//main.js\nimport 'demo.js' //\u5bfc\u5165\u4f46\u662f\u672a\u4f7f\u7528\n\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u622a\u5c4f2023-07-26 16.34.42",src:a(1172).Z,width:"2318",height:"962"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8fd9\u91cc\u6211\u4eec\u5728package.json\uff0c\u6dfb\u52a0",(0,r.kt)("inlineCode",{parentName:"p"},"sideEffects:false"),"\uff0c\u6807\u8bc6\u6574\u4e2a\u6a21\u5757\u90fd\u662f\u6ca1\u6709\u4f5c\u7528\u7684\u3002\u90a3\u4e48\u8fd9\u4e2a\u6587\u4ef6\u5c31\u6839\u672c\u4e0d\u4f1a\u751f\u6210\u3002"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"\u622a\u5c4f2023-07-26 16.37.26",src:a(98431).Z,width:"2324",height:"796"}))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f46\u662f\u5982\u679cdemo.js\u91cc\u9762\u662f\u6709\u526f\u4f5c\u7528\u7684\uff0c\u5219\u4ee3\u7801\u4f9d\u7136\u4f1a\u88ab\u5220\u9664\u6389\uff0c\u4f1a\u5bfc\u81f4\u62a5\u9519\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6bd4\u5982\u4ee5\u4e0b\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"window.lyric"),"\u7684\u8d4b\u503c\u88ab\u5220\u9664\u6389\u4e86\uff0c\u5bfc\u81f4\u5176\u4ed6js\u4ee3\u7801\u8bbf\u95ee\u65f6\uff0c\u4f1a\u51fa\u9519\u3002"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'//demo.js\nexport function parseLyric(lyricString) {\n  return []\n}\n\nexport function test() {\n}\n\n\n// \u6a21\u5757\u7684\u526f\u4f5c\u7528\u4ee3\u7801\uff0c\u4fee\u6539\u5168\u5c40\u53d8\u91cf\u3002\nwindow.lyric = "\u54c8\u54c8\u54c8\u54c8\u54c8"\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8fd9\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5728package.json\u7684sideEffects\u8bbe\u7f6e\u4e3a\u6570\u7ec4\uff0c\u6dfb\u52a0\u4e00\u4e9b\u6709\u526f\u4f5c\u7528\u7684\u6587\u4ef6\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  sideEffects:[\n    "./src/demo.js"\n  ]\n}\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u4f7f\u7528sideEffects\u65f6\uff0c\u5982\u679c\u4f7f\u7528import 'xxx.css'\uff0c\u5219css\u4ee3\u7801\u4e5f\u4f1a\u88ab\u8ba4\u4e3a\u6ca1\u6709\u526f\u4f5c\u7528\uff0c\u4f1a\u88ab\u5220\u9664\u6389\u3002\u6240\u4ee5\u4e5f\u8981\u5728\u6570\u7ec4\u91cc\u6dfb\u52a0css\u6587\u4ef6\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  sideEffects:[\n    "./src/demo.js",\n    "*.css"\n  ]\n}\n')),(0,r.kt)("h3",{id:"webpack\u4e2dtree-shaking\u7684\u8bbe\u7f6e"},(0,r.kt)("strong",{parentName:"h3"},"Webpack\u4e2dtree shaking\u7684\u8bbe\u7f6e")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6240\u4ee5\uff0c\u5982\u4f55\u5728\u9879\u76ee\u4e2d\u5bf9JavaScript\u7684\u4ee3\u7801\u8fdb\u884cTreeShaking\u5462\uff08\u751f\u4ea7\u73af\u5883\uff09\uff1f",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5728optimization\u4e2d\u914d\u7f6eusedExports\u4e3atrue\uff0c\u6765\u5e2e\u52a9Terser\u8fdb\u884c\u4f18\u5316\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5728package.json\u4e2d\u914d\u7f6esideEffects\uff0c\u76f4\u63a5\u5bf9\u6a21\u5757\u8fdb\u884c\u4f18\u5316\uff1b"))))),(0,r.kt)("h3",{id:"scope-hoisting"},(0,r.kt)("strong",{parentName:"h3"},"Scope Hoisting")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4ec0\u4e48\u662fScope Hoisting\u5462\uff1f",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Scope Hoisting\u4ecewebpack3\u5f00\u59cb\u589e\u52a0\u7684\u4e00\u4e2a\u65b0\u529f\u80fd\uff1b"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u529f\u80fd\u662f\u5bf9\u4f5c\u7528\u57df\u8fdb\u884c\u63d0\u5347\uff0c\u5e76\u4e14\u8ba9webpack\u6253\u5305\u540e\u7684\u4ee3\u7801\u66f4\u5c0f\u3001\u8fd0\u884c\u66f4\u5feb\uff1b")))),(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u60c5\u51b5\u4e0bwebpack\u6253\u5305\u4f1a\u6709\u5f88\u591a\u7684\u51fd\u6570\u4f5c\u7528\u57df\uff0c\u5305\u62ec\u4e00\u4e9b\uff08\u6bd4\u5982\u6700\u5916\u5c42\u7684\uff09IIFE\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6bd4\u5982\u6bcf\u4e00\u4e2a\u6587\u4ef6\uff0c\u90fd\u4ea7\u751f\u4e00\u4e2a\u7acb\u5373\u6267\u884c\u51fd\u6570\uff0c\u7528\u6765\u9694\u79bb\u6bcf\u4e2a\u6587\u4ef6\u6a21\u5757\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u65e0\u8bba\u662f\u4ece\u6700\u5f00\u59cb\u7684\u4ee3\u7801\u8fd0\u884c\uff0c\u8fd8\u662f\u52a0\u8f7d\u4e00\u4e2a\u6a21\u5757\uff0c\u90fd\u9700\u8981\u6267\u884c\u4e00\u7cfb\u5217\u7684\u51fd\u6570\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u8fd9\u6837\u4ee3\u7801\u8fd0\u884c\u7684\u6548\u7387\u4f1a\u4f4e\u4e00\u70b9\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Scope Hoisting\u53ef\u4ee5\u5c06\u51fd\u6570\u5408\u5e76\u5230\u4e00\u4e2a\u6a21\u5757\u4e2d\u6765\u8fd0\u884c\uff1b")),(0,r.kt)("li",{parentName:"ul"},"\u6bd4\u5982\u4ee5\u4e0b\u7684sum\u51fd\u6570\u53ef\u4ee5\u5408\u5e76\u5230demo.js\u6587\u4ef6\u4f5c\u7528\u57df\u4e2d\u3002")))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u622a\u5c4f2023-07-27 10.46.01",src:a(42475).Z,width:"1886",height:"1024"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528Scope Hoisting\u975e\u5e38\u7684\u7b80\u5355\uff0cwebpack\u5df2\u7ecf\u5185\u7f6e\u4e86\u5bf9\u5e94\u7684\u6a21\u5757\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5728production\u6a21\u5f0f\u4e0b\uff0c\u9ed8\u8ba4\u8fd9\u4e2a\u6a21\u5757\u5c31\u4f1a\u542f\u7528\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5728development\u6a21\u5f0f\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u81ea\u5df1\u6765\u6253\u5f00\u8be5\u6a21\u5757\uff1b"))))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," plugins: [\n    // \u4f5c\u7528\u57df\u63d0\u5347\n    new webpack.optimize.ModuleConcatenationPlugin()\n  ]\n")),(0,r.kt)("h2",{id:"css\u5b9e\u73b0tree-shaking"},(0,r.kt)("strong",{parentName:"h2"},"CSS\u5b9e\u73b0Tree Shaking")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e0a\u9762\u6211\u4eec\u5b66\u4e60\u7684\u90fd\u662f\u5173\u4e8eJavaScript\u7684Tree Shaking\uff0c\u90a3\u4e48CSS\u662f\u5426\u4e5f\u53ef\u4ee5\u8fdb\u884cTree Shaking\u64cd\u4f5c\u5462\uff1f"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"CSS\u7684Tree Shaking\u9700\u8981\u501f\u52a9\u4e8e\u4e00\u4e9b\u5176\u4ed6\u7684\u63d2\u4ef6\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u5728\u65e9\u671f\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4f1a\u4f7f\u7528PurifyCss\u63d2\u4ef6\u6765\u5b8c\u6210CSS\u7684tree shaking\uff0c\u4f46\u662f\u76ee\u524d\u8be5\u5e93\u5df2\u7ecf\u4e0d\u518d\u7ef4\u62a4\u4e86\uff08\u6700\u65b0\u66f4\u65b0\u4e5f\u662f\u57284\u5e74\u524d \u4e86\uff09\uff1b"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u76ee\u524d\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u53e6\u5916\u4e00\u4e2a\u5e93\u6765\u5b8c\u6210CSS\u7684Tree Shaking\uff1aPurgeCSS"),"\uff0c\u4e5f\u662f\u4e00\u4e2a\u5e2e\u52a9\u6211\u4eec\u5220\u9664\u672a\u4f7f\u7528\u7684CSS\u7684\u5de5\u5177\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b89\u88c5PurgeCss\u7684webpack\u63d2\u4ef6\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"npm install purgecss-webpack-plugin -D"))))),(0,r.kt)("h3",{id:"\u914d\u7f6epurgecss"},(0,r.kt)("strong",{parentName:"h3"},"\u914d\u7f6ePurgeCss")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u914d\u7f6e\u8fd9\u4e2a\u63d2\u4ef6\uff08\u751f\u6210\u73af\u5883\uff09\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"paths\uff1a\u8868\u793a\u8981\u68c0\u6d4b\u54ea\u4e9b\u76ee\u5f55\u4e0b\u7684\u5185\u5bb9\u9700\u8981\u88ab\u5206\u6790\uff0c\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528glob\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cPurgecss\u4f1a\u5c06\u6211\u4eec\u7684html\u6807\u7b7e\u7684\u6837\u5f0f\u79fb\u9664\u6389\uff0c\u5982\u679c\u6211\u4eec\u5e0c\u671b\u4fdd\u7559\uff0c\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2asafelist\u7684\u5c5e\u6027\uff1b")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"  plugins: [\n    // \u5bf9CSS\u8fdb\u884cTreeShaking\n    new PurgeCSSPlugin({\n      //\u904d\u5386src\u4e0b\u9762\u7684\u6240\u6709\u6587\u4ef6\uff0c\u4e0d\u5305\u62ec\u6587\u4ef6\u5939\n      paths: glob.sync(`${path.resolve(__dirname, '../src')}/**/*`, { nodir: true }),\n      safelist: function() {\n        return {\n          standard: [\"body\"]\n        }\n      }\n    })\n  ]\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"purgecss\u4e5f\u53ef\u4ee5\u5bf9less\u6587\u4ef6\u8fdb\u884c\u5904\u7406\uff08\u6240\u4ee5\u5b83\u662f\u5bf9\u6253\u5305\u540e\u7684css\u8fdb\u884ctree shaking\u64cd\u4f5c\uff09\uff1b"))),(0,r.kt)("h2",{id:"html\u6587\u4ef6\u7684\u538b\u7f29"},(0,r.kt)("strong",{parentName:"h2"},"HTML\u6587\u4ef6\u7684\u538b\u7f29")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6211\u4eec\u4e4b\u524d\u4f7f\u7528\u4e86",(0,r.kt)("strong",{parentName:"p"},"HtmlWebpackPlugin"),"\u63d2\u4ef6\u6765\u751f\u6210HTML\u7684\u6a21\u677f\uff0c\u4e8b\u5b9e\u4e0a\u5b83\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u7684\u914d\u7f6e\uff1a")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"inject\uff1a\u8bbe\u7f6e\u6253\u5305\u7684\u8d44\u6e90\uff0c\u6bd4\u5982JS\u548cCSS\u6587\u4ef6\u63d2\u5165\u7684\u4f4d\u7f6e")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"true\uff1a\uff08\u9ed8\u8ba4\uff09\u6839\u636e",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"scriptLoading")),"\u6765\u51b3\u5b9a\u63d2\u5165\u5230\u54ea\u4e2a\u4f4d\u7f6e\uff0c",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"scriptLoading")),"\u9ed8\u8ba4\u662f",(0,r.kt)("strong",{parentName:"li"},"defer"),"\uff0c\u6240\u4ee5\u4f1a\u63d2\u5165\u5230head\u4e2d\u3002"),(0,r.kt)("li",{parentName:"ul"},"false \uff1a\u4e0d\u63d2\u5165"),(0,r.kt)("li",{parentName:"ul"},"body\uff1a\u63d2\u5165\u5230body\u5143\u7d20\u5e95\u90e8"),(0,r.kt)("li",{parentName:"ul"},"head\uff1a\u63d2\u5165\u5230head\u5143\u7d20\u4e2d"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"cache\uff1a\u8bbe\u7f6e\u4e3atrue\uff0c\u53ea\u6709\u5f53\u6587\u4ef6\u6539\u53d8\u65f6\uff0c\u624d\u4f1a\u751f\u6210\u65b0\u7684\u6587\u4ef6\uff08\u9ed8\u8ba4\u503c\u4e5f\u662ftrue\uff09"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"minify\uff1a\u9ed8\u8ba4\u4f1a\u4f7f\u7528\u4e00\u4e2a\u63d2\u4ef6html-minifier-terser")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"plugins: [\n    new HtmlWebpackPlugin({\n      template: './index.html',\n      cache: true,\n      minify: isProdution? {\n        // \u79fb\u9664\u6ce8\u91ca\n        removeComments: true,\n        // \u79fb\u9664\u5c5e\u6027\n        removeEmptyAttributes: true,\n        // \u79fb\u9664\u9ed8\u8ba4\u5c5e\u6027\n        removeRedundantAttributes: true,\n        // \u6298\u53e0\u7a7a\u767d\u5b57\u7b26\n        collapseWhitespace: true,\n        // \u538b\u7f29\u5185\u8054\u7684CSS\n        minifyCSS: true,\n        // \u538b\u7f29JavaScript\n        minifyJS: {\n          mangle: {\n            toplevel: true\n          }\n        }\n      }: false\n    })\n ]\n")),(0,r.kt)("h2",{id:"http\u538b\u7f29"},"HTTP\u538b\u7f29"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4ec0\u4e48\u662fHTTP\u538b\u7f29\uff1f")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"HTTP\u538b\u7f29\u662f\u4e00\u79cd\u5185\u7f6e\u5728 \u670d\u52a1\u5668 \u548c \u5ba2\u6237\u7aef \u4e4b\u95f4\u7684\uff0c\u4ee5\u6539\u8fdb\u4f20\u8f93\u901f\u5ea6\u548c\u5e26\u5bbd\u5229\u7528\u7387\u7684\u65b9\u5f0f\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"HTTP\u538b\u7f29\u7684\u6d41\u7a0b\u4ec0\u4e48\u5462\uff1f"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7b2c\u4e00\u6b65\uff1aHTTP\u6570\u636e\u5728\u670d\u52a1\u5668\u53d1\u9001\u524d\u5c31\u5df2\u7ecf\u88ab\u538b\u7f29\u4e86\uff1b\uff08",(0,r.kt)("strong",{parentName:"p"},"\u53ef\u4ee5\u5728webpack\u4e2d\u5b8c\u6210\uff09"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7b2c\u4e8c\u6b65\uff1a\u517c\u5bb9\u7684\u6d4f\u89c8\u5668\u5728\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u65f6\uff0c\u4f1a\u544a\u77e5\u670d\u52a1\u5668\u81ea\u5df1\u652f\u6301\u54ea\u4e9b\u538b\u7f29\u683c\u5f0f\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7b2c\u4e09\u6b65\uff1a\u670d\u52a1\u5668\u5728\u6d4f\u89c8\u5668\u652f\u6301\u7684\u538b\u7f29\u683c\u5f0f\u4e0b\uff0c\u76f4\u63a5\u8fd4\u56de\u5bf9\u5e94\u7684\u538b\u7f29\u540e\u7684\u6587\u4ef6\uff0c\u5e76\u4e14\u5728\u54cd\u5e94\u5934\u4e2d\u544a\u77e5\u6d4f\u89c8\u5668\uff1b"))),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{src:a(32751).Z,width:"382",height:"95"})))),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(91735).Z,width:"479",height:"196"})),(0,r.kt)("h3",{id:"\u76ee\u524d\u7684\u538b\u7f29\u683c\u5f0f"},(0,r.kt)("strong",{parentName:"h3"},"\u76ee\u524d\u7684\u538b\u7f29\u683c\u5f0f")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u76ee\u524d\u7684\u538b\u7f29\u683c\u5f0f\u975e\u5e38\u7684\u591a\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"compress \u2013 UNIX\u7684\u201ccompress\u201d\u7a0b\u5e8f\u7684\u65b9\u6cd5\uff08\u5386\u53f2\u6027\u539f\u56e0\uff0c\u4e0d\u63a8\u8350\u5927\u591a\u6570\u5e94\u7528\u4f7f\u7528\uff0c\u5e94\u8be5\u4f7f\u7528gzip\u6216deflate\uff09\uff1b"),(0,r.kt)("li",{parentName:"ul"},"deflate \u2013 \u57fa\u4e8ede",(0,r.kt)("a",{parentName:"li",href:"https://zh.wikipedia.org/wiki/DEFLATE"},"flate\u7b97\u6cd5\uff08\u5b9a\u4e49\u4e8e"),"RFC 1951\uff09\u7684\u538b\u7f29\uff0c\u4f7f\u7528zlib\u6570\u636e\u683c\u5f0f\u5c01\u88c5\uff1b"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"gzip \u2013 GNU zip\u683c\u5f0f\uff08\u5b9a\u4e49\u4e8eRFC 1952\uff09\uff0c\u662f\u76ee\u524d\u4f7f\u7528\u6bd4\u8f83\u5e7f\u6cdb\u7684\u538b\u7f29\u7b97\u6cd5\uff1b")),(0,r.kt)("li",{parentName:"ul"},"br \u2013 \u4e00\u79cd\u65b0\u7684\u5f00\u6e90\u538b\u7f29\u7b97\u6cd5\uff0c\u4e13\u4e3aHTTP\u5185\u5bb9\u7684\u7f16\u7801\u800c\u8bbe\u8ba1\uff1b")))),(0,r.kt)("h3",{id:"webpack\u5bf9\u6587\u4ef6\u538b\u7f29"},(0,r.kt)("strong",{parentName:"h3"},"Webpack\u5bf9\u6587\u4ef6\u538b\u7f29")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"webpack\u4e2d\u76f8\u5f53\u4e8e\u662f\u5b9e\u73b0\u4e86HTTP\u538b\u7f29\u7684\u7b2c\u4e00\u6b65\u64cd\u4f5c\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528CompressionPlugin\u3002")),(0,r.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u6b65\uff0c\u5b89\u88c5CompressionPlugin\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"npm install compression-webpack-plugin -D"))))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u6b65\uff0c\u4f7f\u7528CompressionPlugin\u5373\u53ef\uff1a")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," plugins: [\n    // \u5bf9\u6253\u5305\u540e\u7684\u6587\u4ef6(js/css)\u8fdb\u884c\u538b\u7f29\n    new CompressionPlugin({\n      test: /\\.(js|css)$/,  //\u5339\u914d\u54ea\u4e9b\u6587\u4ef6\u9700\u8981\u538b\u7f29\n      //threshold:500,  //\u8bbe\u7f6e\u6587\u4ef6\u4ece\u591a\u5927\u5f00\u59cb\u538b\u7f29\n      minRatio:0.7, //\u8bbe\u7f6e\u81f3\u5c11\u8fbe\u5230\u591a\u5c11\u7684\u538b\u7f29\u6bd4\u4f8b\uff0c\u624d\u8fdb\u884c\u538b\u7f29\n      algorithm: 'gzip'  //\u91c7\u7528\u7684\u538b\u7f29\u7b97\u6cd5\n    })\n  ]\n")),(0,r.kt)("h2",{id:"webpack\u6253\u5305\u5206\u6790"},(0,r.kt)("strong",{parentName:"h2"},"webpack\u6253\u5305\u5206\u6790")),(0,r.kt)("h3",{id:"\u6253\u5305\u8fc7\u7a0b\u65f6\u95f4\u5206\u6790"},"\u6253\u5305\u8fc7\u7a0b\u65f6\u95f4\u5206\u6790"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5982\u679c\u6211\u4eec\u5e0c\u671b\u770b\u5230\u6bcf\u4e00\u4e2aloader\u3001\u6bcf\u4e00\u4e2aPlugin\u6d88\u8017\u7684\u6253\u5305\u65f6\u95f4\uff0c\u53ef\u4ee5\u501f\u52a9\u4e8e\u4e00\u4e2a\u63d2\u4ef6\uff1aspeed-measure-webpack-plugin"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6ce8\u610f\uff1a\u8be5\u63d2\u4ef6\u5728\u6700\u65b0\u7684webpack\u7248\u672c\u4e2d\u5b58\u5728\u4e00\u4e9b\u517c\u5bb9\u6027\u7684\u95ee\u9898\uff08\u548c\u90e8\u5206Plugin\u4e0d\u517c\u5bb9\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u622a\u6b622021-3-10\u65e5\uff0c\u4f46\u662f\u76ee\u524d\u8be5\u63d2\u4ef6\u8fd8\u5728\u7ef4\u62a4\uff0c\u6240\u4ee5\u53ef\u4ee5\u7b49\u5f85\u540e\u7eed\u662f\u5426\u66f4\u65b0\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u6211\u8fd9\u91cc\u6682\u65f6\u7684\u505a\u6cd5\u662f\u628a\u4e0d\u517c\u5bb9\u7684\u63d2\u4ef6\u5148\u5220\u9664\u6389\uff0c\u4e5f\u5c31\u662f\u4e0d\u517c\u5bb9\u7684\u63d2\u4ef6\u4e0d\u663e\u793a\u5b83\u7684\u6253\u5305\u65f6\u95f4\u5c31\u53ef\u4ee5\u4e86\uff1b")))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u6b65\uff0c\u5b89\u88c5speed-measure-webpack-plugin\u63d2\u4ef6",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"npm install speed-measure-webpack-plugin -D"))))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u6b65\uff0c\u4f7f\u7528speed-measure-webpack-plugin\u63d2\u4ef6",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u521b\u5efa\u63d2\u4ef6\u5bfc\u51fa\u7684\u5bf9\u8c61 SpeedMeasurePlugin\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528 smp.wrap \u5305\u88f9\u6211\u4eec\u5bfc\u51fa\u7684webpack\u914d\u7f6e\uff1b")))),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(31023).Z,width:"605",height:"144"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u622a\u5c4f2023-07-27 11.14.16",src:a(91171).Z,width:"890",height:"706"})),(0,r.kt)("h3",{id:"\u6253\u5305\u540e\u6587\u4ef6\u5206\u6790"},(0,r.kt)("strong",{parentName:"h3"},"\u6253\u5305\u540e\u6587\u4ef6\u5206\u6790")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u65b9\u6848\u4e00\uff1a\u751f\u6210\u4e00\u4e2astats.json\u7684\u6587\u4ef6")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u7ed9\u8fd0\u884c\u7684\u6307\u4ee4\u540e\u9762\u6dfb\u52a0",(0,r.kt)("inlineCode",{parentName:"li"},"--profile  --json=stats.json"))),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-json"},'"scripts": {\n    "build": "webpack --config ./config/comm.config.js --env production --profile --json=stats.json"\n  },\n')),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u901a\u8fc7\u6267\u884cnpm run build:status\u53ef\u4ee5\u83b7\u53d6\u5230\u4e00\u4e2astats.json\u7684\u6587\u4ef6\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8fd9\u4e2a\u6587\u4ef6\u6211\u4eec\u81ea\u5df1\u5206\u6790\u4e0d\u5bb9\u6613\u770b\u5230\u5176\u4e2d\u7684\u4fe1\u606f\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u53ef\u4ee5\u653e\u5230 ",(0,r.kt)("a",{parentName:"p",href:"http://webpack.github.com/analyse"},"http://webpack.github.com/analyse"),"\uff0c\u8fdb\u884c\u5206\u6790(\u8fd9\u4e2a\u7f51\u7ad9\u5df2\u7ecf404\uff0c\u53ef\u4ee5\u81ea\u5df1\u4e0b\u8f7d\u8be5\u9879\u76ee\u81ea\u5df1\u8fd0\u884c\u5206\u6790)"))))))),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(45247).Z,width:"1007",height:"240"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u65b9\u6848\u4e8c\uff1a\u4f7f\u7528webpack-bundle-analyzer\u5de5\u5177")),(0,r.kt)("li",{parentName:"ul"},"\u53e6\u4e00\u4e2a\u975e\u5e38\u76f4\u89c2\u67e5\u770b\u5305\u5927\u5c0f\u7684\u5de5\u5177\u662fwebpack-bundle-analyzer\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u6b65\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5b89\u88c5\u8fd9\u4e2a\u5de5\u5177\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"npm install webpack-bundle-analyzer -D"))))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u6b65\uff0c\u6211\u4eec\u53ef\u4ee5\u5728webpack\u914d\u7f6e\u4e2d\u4f7f\u7528\u8be5\u63d2\u4ef6\uff1a")),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(70579).Z,width:"630",height:"135"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5728\u6253\u5305webpack\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u5de5\u5177\u662f\u5e2e\u52a9\u6211\u4eec\u6253\u5f00\u4e00\u4e2a8888\u7aef\u53e3\u4e0a\u7684\u670d\u52a1\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u7684\u770b\u5230\u6bcf\u4e2a\u5305\u7684\u5927\u5c0f\u3002"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6bd4\u5982\u6709\u4e00\u4e2a\u5305\u65f6\u901a\u8fc7\u4e00\u4e2aVue\u7ec4\u4ef6\u6253\u5305\u7684\uff0c\u4f46\u662f\u975e\u5e38\u7684\u5927\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u662f\u5426\u53ef\u4ee5\u62c6\u5206\u51fa\u591a\u4e2a\u7ec4\u4ef6\uff0c\u5e76\u4e14\u5bf9\u5176\u8fdb\u884c\u61d2\u52a0\u8f7d\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u6bd4\u5982\u4e00\u4e2a\u56fe\u7247\u6216\u8005\u5b57\u4f53\u6587\u4ef6\u7279\u522b\u5927\uff0c\u662f\u5426\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u538b\u7f29\u6216\u8005\u5176\u4ed6\u7684\u4f18\u5316\u5904\u7406\uff1b")))),(0,r.kt)("h2",{id:"\u4f5c\u4e1a"},"\u4f5c\u4e1a"),(0,r.kt)("h3",{id:"\u4e8c-webpack\u5982\u4f55\u5bf9javascript\u4ee3\u7801\u8fdb\u884c\u4f18\u5316terser\u5de5\u5177\u7684\u4f5c\u7528\u662f\u4ec0\u4e48"},"\u4e8c. webpack\u5982\u4f55\u5bf9JavaScript\u4ee3\u7801\u8fdb\u884c\u4f18\u5316\uff1fTerser\u5de5\u5177\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f"),(0,r.kt)("h3",{id:"\u4e09-\u4ec0\u4e48\u662ftreeshakingwebpack\u5b9e\u73b0treeshaking\u7684\u65b9\u5f0f\u6709\u54ea\u4e9b"},"\u4e09. \u4ec0\u4e48\u662fTreeShaking\uff1fwebpack\u5b9e\u73b0TreeShaking\u7684\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f"),(0,r.kt)("h3",{id:"\u56db-css\u4ee3\u7801\u5982\u4f55\u8fdb\u884c\u538b\u7f29\u4f18\u5316\u662f\u5426css\u4e5f\u53ef\u4ee5\u5b9e\u73b0treeshaking\u7684\u6548\u679c\u540e\u7eed"},"\u56db. CSS\u4ee3\u7801\u5982\u4f55\u8fdb\u884c\u538b\u7f29\u4f18\u5316\uff1f\u662f\u5426CSS\u4e5f\u53ef\u4ee5\u5b9e\u73b0TreeShaking\u7684\u6548\u679c\uff1f(\u540e\u7eed)"),(0,r.kt)("h3",{id:"\u4e94-html\u5982\u4f55\u5b9e\u73b0\u4ee3\u7801\u7684\u538b\u7f29\u6709\u54ea\u4e9bhtml\u5e38\u89c1\u7684\u914d\u7f6e"},"\u4e94. HTML\u5982\u4f55\u5b9e\u73b0\u4ee3\u7801\u7684\u538b\u7f29\uff1f\u6709\u54ea\u4e9bHTML\u5e38\u89c1\u7684\u914d\u7f6e\uff1f"))}c.isMDXComponent=!0},32751:function(e,t,a){t.Z=a.p+"assets/images/Aspose.Words.92cd36f5-5044-4cfb-a5d4-6cab8d5c120b.026-3aa6a7a8c65e93245f3ac45cc5f0680c.png"},87599:function(e,t,a){t.Z=a.p+"assets/images/\u622a\u5c4f2023-07-26 16.10.23-35f33ebe31bb56fb33d53579ec554d25.png"},1172:function(e,t,a){t.Z=a.p+"assets/images/\u622a\u5c4f2023-07-26 16.34.42-932e230280ab5c0414b980dc12c7caa7.png"},98431:function(e,t,a){t.Z=a.p+"assets/images/\u622a\u5c4f2023-07-26 16.37.26-c160250d2b89f5e507f7dd464078dffb.png"},42475:function(e,t,a){t.Z=a.p+"assets/images/\u622a\u5c4f2023-07-27 10.46.01-0425993-e42207dec71dc27fd7c84d83eccb5118.png"},91171:function(e,t,a){t.Z=a.p+"assets/images/\u622a\u5c4f2023-07-27 11.14.16-e3f450d8a6a68e632796ca55dcdc740b.png"},43495:function(e,t,a){t.Z=a.p+"assets/images/Aspose.Words.92cd36f5-5044-4cfb-a5d4-6cab8d5c120b.020-6ee867e6d00fdb39d51107933e4bc448.png"},91735:function(e,t,a){t.Z=a.p+"assets/images/Aspose.Words.92cd36f5-5044-4cfb-a5d4-6cab8d5c120b.027-d6f7becfd1a5772f3d0358e6014092c3.png"},31023:function(e,t,a){t.Z=a.p+"assets/images/Aspose.Words.92cd36f5-5044-4cfb-a5d4-6cab8d5c120b.032-c5f59e29295eec3b23df930500961f40.png"},45247:function(e,t,a){t.Z=a.p+"assets/images/Aspose.Words.92cd36f5-5044-4cfb-a5d4-6cab8d5c120b.034-54db8b04b9aae90b680ff665abc6ad50.png"},70579:function(e,t,a){t.Z=a.p+"assets/images/Aspose.Words.92cd36f5-5044-4cfb-a5d4-6cab8d5c120b.036-d95f7fbd873bb95ed33fdb58ab90612e.jpeg"}}]);