"use strict";(self.webpackChunkfed_doc=self.webpackChunkfed_doc||[]).push([[2446],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return f}});var r=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=r.createContext({}),s=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},u=function(e){var n=s(e.components);return r.createElement(p.Provider,{value:n},e.children)},l={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,p=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),m=s(t),f=o,d=m["".concat(p,".").concat(f)]||m[f]||l[f]||i;return t?r.createElement(d,c(c({ref:n},u),{},{components:t})):r.createElement(d,c({ref:n},u))}));function f(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,c=new Array(i);c[0]=m;var a={};for(var p in n)hasOwnProperty.call(n,p)&&(a[p]=n[p]);a.originalType=e,a.mdxType="string"==typeof e?e:o,c[1]=a;for(var s=2;s<i;s++)c[s]=t[s];return r.createElement.apply(null,c)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},95671:function(e,n,t){t.r(n),t.d(n,{assets:function(){return u},contentTitle:function(){return p},default:function(){return f},frontMatter:function(){return a},metadata:function(){return s},toc:function(){return l}});var r=t(87462),o=t(63366),i=(t(67294),t(3905)),c=["components"],a={},p="1. \u9879\u76ee\u548c\u7ec4\u4ef6\u6a21\u677f\u6570\u636e\u9694\u79bb+\u52a8\u6001\u914d\u7f6eejs ignore",s={unversionedId:"\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/\u811a\u624b\u67b6/6\u5468 \u811a\u624b\u67b6\u521b\u5efa\u9879\u76ee\u548c\u7ec4\u4ef6\u521d\u59cb\u5316\u5f00\u53d1/\u7ec4\u4ef6\u6a21\u677f\u5f00\u53d1\u53ca\u811a\u624b\u67b6\u7ec4\u4ef6\u521d\u59cb\u5316\u529f\u80fd\u652f\u6301",id:"\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/\u811a\u624b\u67b6/6\u5468 \u811a\u624b\u67b6\u521b\u5efa\u9879\u76ee\u548c\u7ec4\u4ef6\u521d\u59cb\u5316\u5f00\u53d1/\u7ec4\u4ef6\u6a21\u677f\u5f00\u53d1\u53ca\u811a\u624b\u67b6\u7ec4\u4ef6\u521d\u59cb\u5316\u529f\u80fd\u652f\u6301",title:"1. \u9879\u76ee\u548c\u7ec4\u4ef6\u6a21\u677f\u6570\u636e\u9694\u79bb+\u52a8\u6001\u914d\u7f6eejs ignore",description:"\u5b8c\u6574\u6838\u5fc3\u4ee3\u7801\u5982\u4e0b,\u6dfb\u52a0\u4e86 descriptionPrompt",source:"@site/docs/19-\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/1-\u811a\u624b\u67b6/6\u5468 \u811a\u624b\u67b6\u521b\u5efa\u9879\u76ee\u548c\u7ec4\u4ef6\u521d\u59cb\u5316\u5f00\u53d1/02-\u7ec4\u4ef6\u6a21\u677f\u5f00\u53d1\u53ca\u811a\u624b\u67b6\u7ec4\u4ef6\u521d\u59cb\u5316\u529f\u80fd\u652f\u6301.md",sourceDirName:"19-\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/1-\u811a\u624b\u67b6/6\u5468 \u811a\u624b\u67b6\u521b\u5efa\u9879\u76ee\u548c\u7ec4\u4ef6\u521d\u59cb\u5316\u5f00\u53d1",slug:"/\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/\u811a\u624b\u67b6/6\u5468 \u811a\u624b\u67b6\u521b\u5efa\u9879\u76ee\u548c\u7ec4\u4ef6\u521d\u59cb\u5316\u5f00\u53d1/\u7ec4\u4ef6\u6a21\u677f\u5f00\u53d1\u53ca\u811a\u624b\u67b6\u7ec4\u4ef6\u521d\u59cb\u5316\u529f\u80fd\u652f\u6301",permalink:"/FED-DOC/docs/\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/\u811a\u624b\u67b6/6\u5468 \u811a\u624b\u67b6\u521b\u5efa\u9879\u76ee\u548c\u7ec4\u4ef6\u521d\u59cb\u5316\u5f00\u53d1/\u7ec4\u4ef6\u6a21\u677f\u5f00\u53d1\u53ca\u811a\u624b\u67b6\u7ec4\u4ef6\u521d\u59cb\u5316\u529f\u80fd\u652f\u6301",editUrl:"https://github.com/Guing/FED-DOC/docs/19-\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/1-\u811a\u624b\u67b6/6\u5468 \u811a\u624b\u67b6\u521b\u5efa\u9879\u76ee\u548c\u7ec4\u4ef6\u521d\u59cb\u5316\u5f00\u53d1/02-\u7ec4\u4ef6\u6a21\u677f\u5f00\u53d1\u53ca\u811a\u624b\u67b6\u7ec4\u4ef6\u521d\u59cb\u5316\u529f\u80fd\u652f\u6301.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u5b89\u88c5\u9879\u76ee\u6a21\u677f\u9636\u6bb5",permalink:"/FED-DOC/docs/\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/\u811a\u624b\u67b6/6\u5468 \u811a\u624b\u67b6\u521b\u5efa\u9879\u76ee\u548c\u7ec4\u4ef6\u521d\u59cb\u5316\u5f00\u53d1/\u5b89\u88c5\u9879\u76ee\u6a21\u677f\u9636\u6bb5"},next:{title:"ejs\u7528\u6cd5",permalink:"/FED-DOC/docs/\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/\u811a\u624b\u67b6/6\u5468 \u811a\u624b\u67b6\u521b\u5efa\u9879\u76ee\u548c\u7ec4\u4ef6\u521d\u59cb\u5316\u5f00\u53d1/ejs\u548cglob\u7528\u6cd5\u8be6\u89e3"}},u={},l=[],m={toc:l};function f(e){var n=e.components,t=(0,o.Z)(e,c);return(0,i.kt)("wrapper",(0,r.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"1-\u9879\u76ee\u548c\u7ec4\u4ef6\u6a21\u677f\u6570\u636e\u9694\u79bb\u52a8\u6001\u914d\u7f6eejs-ignore"},"1. \u9879\u76ee\u548c\u7ec4\u4ef6\u6a21\u677f\u6570\u636e\u9694\u79bb+\u52a8\u6001\u914d\u7f6eejs ignore"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u52a8\u6001\u914d\u7f6eignore\nconst templateIgnore = this.templateInfo.ignore || []\nconst ignore = ['**/node_modules/**', ...templateIgnore]\n\n//1.\u9009\u53d6\u521b\u5efa\u9879\u76ee\u6216\u7ec4\u4ef6\nconst { type } = await inquirer.prompt({\n  type:'list',\n  name:'type',\n  message:'\u8bf7\u9009\u62e9\u521d\u59cb\u5316\u7c7b\u578b', \n  default:TYPE_PROJECT,\n  choices: [{\n    name: '\u9879\u76ee',\n    value: TYPE_PROJECT,\n  }, {\n    name: '\u7ec4\u4ef6',\n    value: TYPE_COMPONENT,\n  }]\n})\n\n// \u6570\u636e\u9694\u79bb\u6838\u5fc3\u4ee3\u7801\nthis.template = this.template.filter(template =>template.tag && template.tag.includes(type))\n\nconst title =  type === TYPE_PROJECT ? '\u9879\u76ee':'\u7ec4\u4ef6'\nconst projectNamePrompt = {\n  type:'input',\n  name:'projectName',\n  message:`\u8bf7\u8f93\u5165${title}\u7684\u540d\u79f0`,\n  default:'',\n  validate:function(v){\n    const done = this.async()\n    setTimeout(function(){\n      if(!isValidName(v)){\n        done(`\u8bf7\u8f93\u5165\u5408\u6cd5\u7684${title}\u540d\u79f0`)\n        return;\n      }\n      done(null,true)\n    }, 0);\n  },\n  filter:function(v){\n    return v\n  }\n}\nconst projectPrompt = []\nif (!isProjectNameValid) {\n  projectPrompt.push(projectNamePrompt);\n}\nprojectPrompt.push({\n  type:'input',\n  name:'projectVersion',\n  default:'1.0.0',\n  message:`\u8bf7\u8f93\u5165${title}\u7248\u672c\u53f7`,\n  validate:function(v){\n    const done = this.async();\n    // Do async stuff\n    setTimeout(function() {\n      if (!(!!semver.valid(v))) {\n        done(`\u8bf7\u8f93\u5165\u5408\u6cd5\u7684${title}\u7248\u672c\u53f7`);\n        return;\n      }\n      done(null, true);\n    }, 0);\n  },\n  filter:function(v){\n    if(semver.valid(v)){\n      return semver.valid(v)\n    } else {\n      return v\n    }\n  },\n},{\n  type:'list',\n  name:'projectTemplate',\n  message:`\u8bf7\u9009\u62e9${title}\u6a21\u677f`,\n  choices: this.createTemplateChoice()\n})\n")),(0,i.kt)("h1",{id:"2-\u83b7\u53d6\u7ec4\u4ef6\u4fe1\u606f\u529f\u80fd\u5f00\u53d1"},"2. \u83b7\u53d6\u7ec4\u4ef6\u4fe1\u606f\u529f\u80fd\u5f00\u53d1"),(0,i.kt)("p",null,"\u5b8c\u6574\u6838\u5fc3\u4ee3\u7801\u5982\u4e0b,\u6dfb\u52a0\u4e86 descriptionPrompt"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"else if (type === TYPE_COMPONENT){\n  // \u83b7\u53d6\u7ec4\u4ef6\u7684\u57fa\u672c\u4fe1\u606f\n  const descriptionPrompt = {\n    type:'input',\n    name:'componentDescription',\n    message:'\u8bf7\u8f93\u5165\u7ec4\u4ef6\u63cf\u8ff0\u4fe1\u606f',\n    default:'',\n    validate:function(v){\n      const done = this.async()\n      setTimeout(() => {\n        if(!v){\n          done('\u8bf7\u8f93\u5165\u7ec4\u4ef6\u63cf\u8ff0\u4fe1\u606f')\n          return \n        }\n        done(null,true)\n      }, 0);\n    }\n  }\n  projectPrompt.push(descriptionPrompt)\n  const component = await inquirer.prompt(projectPrompt)\n  projectInfo = {\n    ...projectInfo,\n    type,\n    ...component\n  }\n}\n\n\u2026\u2026\nif(projectInfo.componentDescription){\n  projectInfo.description = projectInfo.componentDescription\n}\n")),(0,i.kt)("h1",{id:"3-\u89e3\u51b3\u7ec4\u4ef6\u5e93\u521d\u59cb\u5316\u8fc7\u7a0b\u4e2d\u5404\u79cd\u5de5\u7a0b\u95ee\u9898"},"3. \u89e3\u51b3\u7ec4\u4ef6\u5e93\u521d\u59cb\u5316\u8fc7\u7a0b\u4e2d\u5404\u79cd\u5de5\u7a0b\u95ee\u9898"),(0,i.kt)("p",null,'\u6155\u8bfe\u4e50\u9ad8\u7ec4\u4ef6\u5e93\uff0c\u5728\u53d1\u5e03\u5230npm\u5305\u65f6\uff0c\u5b89\u88c5\u51fa\u73b0\u95ee\u9898\uff0c\u95ee\u9898\u539f\u56e0\u662f package.json\u4e2d\uff0c\u9700\u8981\u5c06 "files":',"['dist']"," \u8fd9\u884c\u4ee3\u7801\u53bb\u9664\uff0c\u8fd9\u662f\u56e0\u4e3afiles\u8fd9\u91cc\u9650\u5b9a\u4e86\u4e0a\u4f20\u53d1\u5e03\u5230npm\u540e\u53ea\u6709dist\u8fd9\u4e2a\u76ee\u5f55\u3002"))}f.isMDXComponent=!0}}]);