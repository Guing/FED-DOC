"use strict";(self.webpackChunkfed_doc=self.webpackChunkfed_doc||[]).push([[91352],{3905:function(e,n,o){o.d(n,{Zo:function(){return s},kt:function(){return u}});var t=o(67294);function r(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function i(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,t)}return o}function a(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?i(Object(o),!0).forEach((function(n){r(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}function d(e,n){if(null==e)return{};var o,t,r=function(e,n){if(null==e)return{};var o,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)o=i[t],n.indexOf(o)>=0||(r[o]=e[o]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)o=i[t],n.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var l=t.createContext({}),c=function(e){var n=t.useContext(l),o=n;return e&&(o="function"==typeof e?e(n):a(a({},n),e)),o},s=function(e){var n=c(e.components);return t.createElement(l.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},m=t.forwardRef((function(e,n){var o=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,s=d(e,["components","mdxType","originalType","parentName"]),m=c(o),u=r,f=m["".concat(l,".").concat(u)]||m[u]||p[u]||i;return o?t.createElement(f,a(a({ref:n},s),{},{components:o})):t.createElement(f,a({ref:n},s))}));function u(e,n){var o=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=o.length,a=new Array(i);a[0]=m;var d={};for(var l in n)hasOwnProperty.call(n,l)&&(d[l]=n[l]);d.originalType=e,d.mdxType="string"==typeof e?e:r,a[1]=d;for(var c=2;c<i;c++)a[c]=o[c];return t.createElement.apply(null,a)}return t.createElement.apply(null,o)}m.displayName="MDXCreateElement"},8605:function(e,n,o){o.r(n),o.d(n,{assets:function(){return s},contentTitle:function(){return l},default:function(){return u},frontMatter:function(){return d},metadata:function(){return c},toc:function(){return p}});var t=o(87462),r=o(63366),i=(o(67294),o(3905)),a=["components"],d={},l=void 0,c={unversionedId:"\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/\u603b\u7ed3/\u9047\u5230\u7684\u5751",id:"\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/\u603b\u7ed3/\u9047\u5230\u7684\u5751",title:"\u9047\u5230\u7684\u5751",description:"package.json\u5728\u4f7f\u7528bin\u5b57\u6bb5\u521b\u5efa\u6307\u4ee4\u65f6\uff0c\u5982\u679c\u5728 bin/vue.js\u6587\u4ef6\u4e2d\uff0c\u9876\u90e8\u6ca1\u6709\u6307\u5b9anode\u73af\u5883\u5730\u5740\uff0c\u5c06\u65e0\u6cd5\u6267\u884c\u3002\u8fd9\u91cc\u5c06 ! /usr/bin/env node \u5199\u6210 #! /user/bin/env node\u5bfc\u81f4\uff0c\u5728window\u73af\u5883\u4e2d\u751f\u6210cmd\u6307\u4ee4\u65f6\u62a5\u9519\u3002",source:"@site/docs/19-\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/4-\u603b\u7ed3/1-\u9047\u5230\u7684\u5751.md",sourceDirName:"19-\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/4-\u603b\u7ed3",slug:"/\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/\u603b\u7ed3/\u9047\u5230\u7684\u5751",permalink:"/FED-DOC/docs/\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/\u603b\u7ed3/\u9047\u5230\u7684\u5751",editUrl:"https://github.com/Guing/FED-DOC/docs/19-\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/4-\u603b\u7ed3/1-\u9047\u5230\u7684\u5751.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u7b14\u8bb0",permalink:"/FED-DOC/docs/\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/\u670d\u52a1\u5668/27\u5468 \u8fd0\u7ef4\u76d1\u63a7\u548c\u62a5\u8b66/\u7b14\u8bb0"},next:{title:"\u603b\u7ed3",permalink:"/FED-DOC/docs/\u4f53\u7cfb/\u6155\u8bfe\u7f51\u524d\u7aef\u67b6\u6784\u5e08/\u603b\u7ed3/\u603b\u7ed3"}},s={},p=[{value:"package.json\u5728\u4f7f\u7528bin\u5b57\u6bb5\u521b\u5efa\u6307\u4ee4\u65f6\uff0c\u5982\u679c\u5728 <code>bin/vue.js</code>\u6587\u4ef6\u4e2d\uff0c\u9876\u90e8\u6ca1\u6709\u6307\u5b9anode\u73af\u5883\u5730\u5740\uff0c\u5c06\u65e0\u6cd5\u6267\u884c\u3002\u8fd9\u91cc\u5c06 <code>#! /usr/bin/env node</code> \u5199\u6210 <code>#! /user/bin/env node</code>\u5bfc\u81f4\uff0c\u5728window\u73af\u5883\u4e2d\u751f\u6210cmd\u6307\u4ee4\u65f6\u62a5\u9519\u3002",id:"packagejson\u5728\u4f7f\u7528bin\u5b57\u6bb5\u521b\u5efa\u6307\u4ee4\u65f6\u5982\u679c\u5728-binvuejs\u6587\u4ef6\u4e2d\u9876\u90e8\u6ca1\u6709\u6307\u5b9anode\u73af\u5883\u5730\u5740\u5c06\u65e0\u6cd5\u6267\u884c\u8fd9\u91cc\u5c06--usrbinenv-node-\u5199\u6210--userbinenv-node\u5bfc\u81f4\u5728window\u73af\u5883\u4e2d\u751f\u6210cmd\u6307\u4ee4\u65f6\u62a5\u9519",level:4},{value:"\u901a\u8fc7 <code>npm link</code>\u5c06\u81ea\u5df1\u94fe\u63a5\u5230\u5168\u5c40\u4e0b\uff0c\u5374\u4e0d\u80fd\u901a\u8fc7 <code>npm unlink</code>\u5220\u9664\u81ea\u5df1\u5728\u5168\u5c40\u7684\u94fe\u63a5",id:"\u901a\u8fc7-npm-link\u5c06\u81ea\u5df1\u94fe\u63a5\u5230\u5168\u5c40\u4e0b\u5374\u4e0d\u80fd\u901a\u8fc7-npm-unlink\u5220\u9664\u81ea\u5df1\u5728\u5168\u5c40\u7684\u94fe\u63a5",level:4},{value:"\u6700\u65b0\u7248\u7684root-check\u4e3aES\u6a21\u5757\uff0c\u5f97\u4f7f\u7528import()\u65b9\u6cd5\u5bfc\u5165",id:"\u6700\u65b0\u7248\u7684root-check\u4e3aes\u6a21\u5757\u5f97\u4f7f\u7528import\u65b9\u6cd5\u5bfc\u5165",level:4},{value:"\u5728package.json\u4e2d\u58f0\u660e <code>files</code>\u5b57\u6bb5\uff0c\u5219\u4f7f\u7528 <code>npm publish</code>\u53ea\u4f1a\u6253\u5305\u4e0a\u4f20 <code>files</code>\u5b57\u6bb5\u91cc\u7684\u58f0\u660e\u7684\u6587\u4ef6\u5939",id:"\u5728packagejson\u4e2d\u58f0\u660e-files\u5b57\u6bb5\u5219\u4f7f\u7528-npm-publish\u53ea\u4f1a\u6253\u5305\u4e0a\u4f20-files\u5b57\u6bb5\u91cc\u7684\u58f0\u660e\u7684\u6587\u4ef6\u5939",level:4},{value:"\u5728vue-jest\u6d4b\u8bd5\u4e2d\uff0c\u4f7f\u7528lodash-es\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519",id:"\u5728vue-jest\u6d4b\u8bd5\u4e2d\u4f7f\u7528lodash-es\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519",level:4},{value:"postman\u8bf7\u6c42<code>x-www-form-urlencoded</code>\u7c7b\u578b\u53c2\u6570\u65f6\uff0c\u4f20\u53c2\u4e3aBoolean\u5e03\u5c14\u503c\uff0c\u4f1a\u8f6c\u4e49\u6210\u5b57\u7b26\u4e32\uff0c\u670d\u52a1\u7aef\u8981\u6c42\u4f7f\u7528boolean\uff0c\u4f1a\u62a5\u9519\uff0c\u6bd4\u5982editor-server\u7684<code>/genVeriCode</code>\u63a5\u53e3",id:"postman\u8bf7\u6c42x-www-form-urlencoded\u7c7b\u578b\u53c2\u6570\u65f6\u4f20\u53c2\u4e3aboolean\u5e03\u5c14\u503c\u4f1a\u8f6c\u4e49\u6210\u5b57\u7b26\u4e32\u670d\u52a1\u7aef\u8981\u6c42\u4f7f\u7528boolean\u4f1a\u62a5\u9519\u6bd4\u5982editor-server\u7684genvericode\u63a5\u53e3",level:4},{value:"\u4f7f\u7528<code>spawn(&#39;node&#39;, [&#39;-e&#39;, code])</code>\u901a\u8fc7\u5b50\u8fdb\u7a0b\u6267\u884c\u4ee3\u7801\u65f6\uff0c\u5728window\u73af\u5883\u4e0b\uff0c\u5982\u679c<code>code</code>\u5b57\u7b26\u4e32\u51fa\u73b0<code>&lt;</code>\u5219\u4f1a\u62a5\u9519",id:"\u4f7f\u7528spawnnode--e-code\u901a\u8fc7\u5b50\u8fdb\u7a0b\u6267\u884c\u4ee3\u7801\u65f6\u5728window\u73af\u5883\u4e0b\u5982\u679ccode\u5b57\u7b26\u4e32\u51fa\u73b0\u5219\u4f1a\u62a5\u9519",level:3},{value:"\u5728nodejs\u4e2d\u4f7f\u7528es module\u65f6\uff0c<strong>dirname\u672a\u5b9a\u4e49\uff0c\u56e0\u4e3a</strong>dirname\u3001__filename\u53ea\u6709\u5728commonjs \u4e2d\u624d\u6709",id:"\u5728nodejs\u4e2d\u4f7f\u7528es-module\u65f6dirname\u672a\u5b9a\u4e49\u56e0\u4e3adirname__filename\u53ea\u6709\u5728commonjs-\u4e2d\u624d\u6709",level:3}],m={toc:p};function u(e){var n=e.components,d=(0,r.Z)(e,a);return(0,i.kt)("wrapper",(0,t.Z)({},m,d,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h4",{id:"packagejson\u5728\u4f7f\u7528bin\u5b57\u6bb5\u521b\u5efa\u6307\u4ee4\u65f6\u5982\u679c\u5728-binvuejs\u6587\u4ef6\u4e2d\u9876\u90e8\u6ca1\u6709\u6307\u5b9anode\u73af\u5883\u5730\u5740\u5c06\u65e0\u6cd5\u6267\u884c\u8fd9\u91cc\u5c06--usrbinenv-node-\u5199\u6210--userbinenv-node\u5bfc\u81f4\u5728window\u73af\u5883\u4e2d\u751f\u6210cmd\u6307\u4ee4\u65f6\u62a5\u9519"},"package.json\u5728\u4f7f\u7528bin\u5b57\u6bb5\u521b\u5efa\u6307\u4ee4\u65f6\uff0c\u5982\u679c\u5728 ",(0,i.kt)("inlineCode",{parentName:"h4"},"bin/vue.js"),"\u6587\u4ef6\u4e2d\uff0c\u9876\u90e8\u6ca1\u6709\u6307\u5b9anode\u73af\u5883\u5730\u5740\uff0c\u5c06\u65e0\u6cd5\u6267\u884c\u3002\u8fd9\u91cc\u5c06 ",(0,i.kt)("inlineCode",{parentName:"h4"},"#! /usr/bin/env node")," \u5199\u6210 ",(0,i.kt)("inlineCode",{parentName:"h4"},"#! /user/bin/env node"),"\u5bfc\u81f4\uff0c\u5728window\u73af\u5883\u4e2d\u751f\u6210cmd\u6307\u4ee4\u65f6\u62a5\u9519\u3002"),(0,i.kt)("p",null,"\u6b63\u786e\u7684cmd\u6307\u4ee4"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'@ECHO off\nGOTO start\n:find_dp0\nSET dp0=%~dp0\nEXIT /b\n:start\nSETLOCAL\nCALL :find_dp0\n\nIF EXIST "%dp0%\\node.exe" (\n  SET "_prog=%dp0%\\node.exe"\n) ELSE (\n  SET "_prog=node"\n  SET PATHEXT=%PATHEXT:;.JS;=;%\n)\n\nendLocal & goto #_undefined_# 2>NUL || title %COMSPEC% & "%_prog%"  "%dp0%\\node_modules\\@black-cli\\cli\\bin\\index.js" %*\n')),(0,i.kt)("p",null,"\u9519\u8bef\u7684cmd\u6307\u4ee4"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'@ECHO off\nGOTO start\n:find_dp0\nSET dp0=%~dp0\nEXIT /b\n:start\nSETLOCAL\nCALL :find_dp0\n\nIF EXIST "%dp0%\\/user/bin/env node.exe" (\n  SET "_prog=%dp0%\\/user/bin/env node.exe"\n) ELSE (\n  SET "_prog=node"\n  SET PATHEXT=%PATHEXT:;.JS;=;%\n)\n\nendLocal & goto #_undefined_# 2>NUL || title %COMSPEC% & "%_prog%"  "%dp0%\\node_modules\\@black-cli\\cli\\bin\\index.js" %*\n')),(0,i.kt)("h4",{id:"\u901a\u8fc7-npm-link\u5c06\u81ea\u5df1\u94fe\u63a5\u5230\u5168\u5c40\u4e0b\u5374\u4e0d\u80fd\u901a\u8fc7-npm-unlink\u5220\u9664\u81ea\u5df1\u5728\u5168\u5c40\u7684\u94fe\u63a5"},"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"h4"},"npm link"),"\u5c06\u81ea\u5df1\u94fe\u63a5\u5230\u5168\u5c40\u4e0b\uff0c\u5374\u4e0d\u80fd\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"h4"},"npm unlink"),"\u5220\u9664\u81ea\u5df1\u5728\u5168\u5c40\u7684\u94fe\u63a5"),(0,i.kt)("p",null,"\u53ea\u80fd\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"npm remove -g xxx"),"\u5220\u9664"),(0,i.kt)("h4",{id:"\u6700\u65b0\u7248\u7684root-check\u4e3aes\u6a21\u5757\u5f97\u4f7f\u7528import\u65b9\u6cd5\u5bfc\u5165"},"\u6700\u65b0\u7248\u7684root-check\u4e3aES\u6a21\u5757\uff0c\u5f97\u4f7f\u7528import()\u65b9\u6cd5\u5bfc\u5165"),(0,i.kt)("p",null,"\u5982\u679c\u5728commonjs\u6a21\u5757\u4e2d\u4f7f\u7528es\u6a21\u5757\uff0c\u53c2\u8003\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://www.ruanyifeng.com/blog/2020/08/how-nodejs-use-es6-module.html"},"Node.js \u5982\u4f55\u5904\u7406 ES6 \u6a21\u5757")),(0,i.kt)("h4",{id:"\u5728packagejson\u4e2d\u58f0\u660e-files\u5b57\u6bb5\u5219\u4f7f\u7528-npm-publish\u53ea\u4f1a\u6253\u5305\u4e0a\u4f20-files\u5b57\u6bb5\u91cc\u7684\u58f0\u660e\u7684\u6587\u4ef6\u5939"},"\u5728package.json\u4e2d\u58f0\u660e ",(0,i.kt)("inlineCode",{parentName:"h4"},"files"),"\u5b57\u6bb5\uff0c\u5219\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"h4"},"npm publish"),"\u53ea\u4f1a\u6253\u5305\u4e0a\u4f20 ",(0,i.kt)("inlineCode",{parentName:"h4"},"files"),"\u5b57\u6bb5\u91cc\u7684\u58f0\u660e\u7684\u6587\u4ef6\u5939"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n "files": [\n    "dist"\n  ],\n}\n')),(0,i.kt)("h4",{id:"\u5728vue-jest\u6d4b\u8bd5\u4e2d\u4f7f\u7528lodash-es\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519"},"\u5728vue-jest\u6d4b\u8bd5\u4e2d\uff0c\u4f7f\u7528lodash-es\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"img",src:o(93383).Z,width:"842",height:"238"})),(0,i.kt)("p",null,"\u5728jest.config.js\u6dfb\u52a0\u4ee5\u4e0b\uff0c\u53ef\u4ee5\u89e3\u51b3"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"module.exports = {\n \n  transformIgnorePatterns: [\n    '/!node_modules\\\\/lodash-es/'\n  ]\n}\n\n")),(0,i.kt)("h4",{id:"postman\u8bf7\u6c42x-www-form-urlencoded\u7c7b\u578b\u53c2\u6570\u65f6\u4f20\u53c2\u4e3aboolean\u5e03\u5c14\u503c\u4f1a\u8f6c\u4e49\u6210\u5b57\u7b26\u4e32\u670d\u52a1\u7aef\u8981\u6c42\u4f7f\u7528boolean\u4f1a\u62a5\u9519\u6bd4\u5982editor-server\u7684genvericode\u63a5\u53e3"},"postman\u8bf7\u6c42",(0,i.kt)("inlineCode",{parentName:"h4"},"x-www-form-urlencoded"),"\u7c7b\u578b\u53c2\u6570\u65f6\uff0c\u4f20\u53c2\u4e3aBoolean\u5e03\u5c14\u503c\uff0c\u4f1a\u8f6c\u4e49\u6210\u5b57\u7b26\u4e32\uff0c\u670d\u52a1\u7aef\u8981\u6c42\u4f7f\u7528boolean\uff0c\u4f1a\u62a5\u9519\uff0c\u6bd4\u5982editor-server\u7684",(0,i.kt)("inlineCode",{parentName:"h4"},"/genVeriCode"),"\u63a5\u53e3"),(0,i.kt)("p",null,"\u89e3\u51b3\uff1a\u4e0d\u4f7f\u7528x-www-form-urlencoded\uff0c\u4f7f\u7528raw\u683c\u5f0f\u7684json"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20220425174718094",src:o(36051).Z,width:"872",height:"615"})),(0,i.kt)("h3",{id:"\u4f7f\u7528spawnnode--e-code\u901a\u8fc7\u5b50\u8fdb\u7a0b\u6267\u884c\u4ee3\u7801\u65f6\u5728window\u73af\u5883\u4e0b\u5982\u679ccode\u5b57\u7b26\u4e32\u51fa\u73b0\u5219\u4f1a\u62a5\u9519"},"\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"h3"},"spawn('node', ['-e', code])"),"\u901a\u8fc7\u5b50\u8fdb\u7a0b\u6267\u884c\u4ee3\u7801\u65f6\uff0c\u5728window\u73af\u5883\u4e0b\uff0c\u5982\u679c",(0,i.kt)("inlineCode",{parentName:"h3"},"code"),"\u5b57\u7b26\u4e32\u51fa\u73b0",(0,i.kt)("inlineCode",{parentName:"h3"},"<"),"\u5219\u4f1a\u62a5\u9519"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20220512143620501",src:o(47858).Z,width:"1441",height:"188"})),(0,i.kt)("h3",{id:"\u5728nodejs\u4e2d\u4f7f\u7528es-module\u65f6dirname\u672a\u5b9a\u4e49\u56e0\u4e3adirname__filename\u53ea\u6709\u5728commonjs-\u4e2d\u624d\u6709"},"\u5728nodejs\u4e2d\u4f7f\u7528es module\u65f6\uff0c",(0,i.kt)("strong",{parentName:"h3"},"dirname\u672a\u5b9a\u4e49\uff0c\u56e0\u4e3a"),"dirname\u3001__filename\u53ea\u6709\u5728commonjs \u4e2d\u624d\u6709"),(0,i.kt)("p",null,"\u5728ES Module\u6a21\u5757\u4e2d\uff0c\u8fd9\u4e9b\u6210\u5458\u5168\u90fd\u65e0\u6cd5\u88ab\u652f\u6301\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u83b7\u53d6",(0,i.kt)("inlineCode",{parentName:"p"},"__filename"),"\u4e0e",(0,i.kt)("inlineCode",{parentName:"p"},"__dirname")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"import { fileURLToPath } from 'url';\nimport { dirname } from 'path';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(import.meta.url)\n\u590d\u5236\u4ee3\u7801\n")))}u.isMDXComponent=!0},93383:function(e,n,o){n.Z=o.p+"assets/images/1645064222020-d5c762c3768f41d89e4f5d97ca3f5830.png"},36051:function(e,n,o){n.Z=o.p+"assets/images/image-20220425174718094-912292967a32426e13cab4aedfb225ca.png"},47858:function(e,n,o){n.Z=o.p+"assets/images/image-20220512143620501-2cb9fc625ff8bfe3d17884996d79de17.png"}}]);